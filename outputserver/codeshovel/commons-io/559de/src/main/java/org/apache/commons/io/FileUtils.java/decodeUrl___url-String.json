{
  "origin": "codeshovel",
  "repositoryName": "commons-io",
  "repositoryPath": "/repos/commons-io/.git",
  "startCommitName": "559de2c461e94ab636c959149c775bb27111fb48",
  "sourceFileName": "FileUtils.java",
  "functionName": "decodeUrl",
  "functionId": "decodeUrl___url-String",
  "sourceFilePath": "src/main/java/org/apache/commons/io/FileUtils.java",
  "functionStartLine": 858,
  "functionEndLine": 889,
  "changeHistory": [
    "209976ee53c9b584c013a9b0b21ec98ef733c6f1",
    "9264ccd2857cc25cabf6a309f323dd95ed319495",
    "982ecd8aaf88282a64c96fd274bac94a405cc419",
    "6aa00766b9103d75c763160280429af8e1f0549e",
    "83f7246c3e9fe1d3f1ad6cf7ea0715a573fe2f2a",
    "ed01f165f9bbb7ccbd48dde7dd3106eb044dd859"
  ],
  "changeHistoryShort": {
    "209976ee53c9b584c013a9b0b21ec98ef733c6f1": "Ybodychange",
    "9264ccd2857cc25cabf6a309f323dd95ed319495": "Ybodychange",
    "982ecd8aaf88282a64c96fd274bac94a405cc419": "Ybodychange",
    "6aa00766b9103d75c763160280429af8e1f0549e": "Ymultichange(Ybodychange,Yparametermetachange)",
    "83f7246c3e9fe1d3f1ad6cf7ea0715a573fe2f2a": "Yfilerename",
    "ed01f165f9bbb7ccbd48dde7dd3106eb044dd859": "Yintroduced"
  },
  "changeHistoryDetails": {
    "209976ee53c9b584c013a9b0b21ec98ef733c6f1": {
      "type": "Ybodychange",
      "commitMessage": "Now using Java 7 so can avoid the deprecated constant\n\ngit-svn-id: https://svn.apache.org/repos/asf/commons/proper/io/trunk@1747238 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": 1465307794000,
      "commitName": "209976ee53c9b584c013a9b0b21ec98ef733c6f1",
      "commitAuthor": "Sebastian Bazley",
      "commitDateOld": 1465307650000,
      "commitNameOld": "261e73236c58e094d5d68c5a063152a7169beafd",
      "commitAuthorOld": "Sebastian Bazley",
      "daysBetweenCommits": 0.0,
      "commitsBetweenForRepo": 1,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,32 +1,32 @@\n     static String decodeUrl(final String url) {\n         String decoded \u003d url;\n         if (url !\u003d null \u0026\u0026 url.indexOf(\u0027%\u0027) \u003e\u003d 0) {\n             final int n \u003d url.length();\n             final StringBuilder buffer \u003d new StringBuilder();\n             final ByteBuffer bytes \u003d ByteBuffer.allocate(n);\n             for (int i \u003d 0; i \u003c n; ) {\n                 if (url.charAt(i) \u003d\u003d \u0027%\u0027) {\n                     try {\n                         do {\n                             final byte octet \u003d (byte) Integer.parseInt(url.substring(i + 1, i + 3), 16);\n                             bytes.put(octet);\n                             i +\u003d 3;\n                         } while (i \u003c n \u0026\u0026 url.charAt(i) \u003d\u003d \u0027%\u0027);\n                         continue;\n                     } catch (final RuntimeException e) {\n                         // malformed percent-encoded octet, fall through and\n                         // append characters literally\n                     } finally {\n                         if (bytes.position() \u003e 0) {\n                             bytes.flip();\n-                            buffer.append(Charsets.UTF_8.decode(bytes).toString());\n+                            buffer.append(StandardCharsets.UTF_8.decode(bytes).toString());\n                             bytes.clear();\n                         }\n                     }\n                 }\n                 buffer.append(url.charAt(i++));\n             }\n             decoded \u003d buffer.toString();\n         }\n         return decoded;\n     }\n\\ No newline at end of file\n",
      "extendedDetails": {}
    },
    "9264ccd2857cc25cabf6a309f323dd95ed319495": {
      "type": "Ybodychange",
      "commitMessage": "Language level code changes\n\ngit-svn-id: https://svn.apache.org/repos/asf/commons/proper/io/trunk@1686260 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": 1434643076000,
      "commitName": "9264ccd2857cc25cabf6a309f323dd95ed319495",
      "commitAuthor": "Kristian Rosenvold",
      "commitDateOld": 1421337640000,
      "commitNameOld": "5509eb7e31b74667950d30d166c77428061d6b4a",
      "commitAuthorOld": "Sebastian Bazley",
      "daysBetweenCommits": 154.0,
      "commitsBetweenForRepo": 23,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,32 +1,32 @@\n     static String decodeUrl(final String url) {\n         String decoded \u003d url;\n         if (url !\u003d null \u0026\u0026 url.indexOf(\u0027%\u0027) \u003e\u003d 0) {\n             final int n \u003d url.length();\n-            final StringBuffer buffer \u003d new StringBuffer();\n+            final StringBuilder buffer \u003d new StringBuilder();\n             final ByteBuffer bytes \u003d ByteBuffer.allocate(n);\n-            for (int i \u003d 0; i \u003c n;) {\n+            for (int i \u003d 0; i \u003c n; ) {\n                 if (url.charAt(i) \u003d\u003d \u0027%\u0027) {\n                     try {\n                         do {\n                             final byte octet \u003d (byte) Integer.parseInt(url.substring(i + 1, i + 3), 16);\n                             bytes.put(octet);\n                             i +\u003d 3;\n                         } while (i \u003c n \u0026\u0026 url.charAt(i) \u003d\u003d \u0027%\u0027);\n                         continue;\n                     } catch (final RuntimeException e) {\n                         // malformed percent-encoded octet, fall through and\n                         // append characters literally\n                     } finally {\n                         if (bytes.position() \u003e 0) {\n                             bytes.flip();\n                             buffer.append(Charsets.UTF_8.decode(bytes).toString());\n                             bytes.clear();\n                         }\n                     }\n                 }\n                 buffer.append(url.charAt(i++));\n             }\n             decoded \u003d buffer.toString();\n         }\n         return decoded;\n     }\n\\ No newline at end of file\n",
      "extendedDetails": {}
    },
    "982ecd8aaf88282a64c96fd274bac94a405cc419": {
      "type": "Ybodychange",
      "commitMessage": "Reuse our Charsets constants.\n\ngit-svn-id: https://svn.apache.org/repos/asf/commons/proper/io/trunk@1483363 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": 1368711865000,
      "commitName": "982ecd8aaf88282a64c96fd274bac94a405cc419",
      "commitAuthor": "Gary D. Gregory",
      "commitDateOld": 1368053331000,
      "commitNameOld": "74ddb1257444623206fcbdd8d0ac5e98d57ca2ba",
      "commitAuthorOld": "Sebastian Bazley",
      "daysBetweenCommits": 7.62,
      "commitsBetweenForRepo": 7,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,32 +1,32 @@\n     static String decodeUrl(final String url) {\n         String decoded \u003d url;\n         if (url !\u003d null \u0026\u0026 url.indexOf(\u0027%\u0027) \u003e\u003d 0) {\n             final int n \u003d url.length();\n             final StringBuffer buffer \u003d new StringBuffer();\n             final ByteBuffer bytes \u003d ByteBuffer.allocate(n);\n             for (int i \u003d 0; i \u003c n;) {\n                 if (url.charAt(i) \u003d\u003d \u0027%\u0027) {\n                     try {\n                         do {\n                             final byte octet \u003d (byte) Integer.parseInt(url.substring(i + 1, i + 3), 16);\n                             bytes.put(octet);\n                             i +\u003d 3;\n                         } while (i \u003c n \u0026\u0026 url.charAt(i) \u003d\u003d \u0027%\u0027);\n                         continue;\n                     } catch (final RuntimeException e) {\n                         // malformed percent-encoded octet, fall through and\n                         // append characters literally\n                     } finally {\n                         if (bytes.position() \u003e 0) {\n                             bytes.flip();\n-                            buffer.append(UTF8.decode(bytes).toString());\n+                            buffer.append(Charsets.UTF_8.decode(bytes).toString());\n                             bytes.clear();\n                         }\n                     }\n                 }\n                 buffer.append(url.charAt(i++));\n             }\n             decoded \u003d buffer.toString();\n         }\n         return decoded;\n     }\n\\ No newline at end of file\n",
      "extendedDetails": {}
    },
    "6aa00766b9103d75c763160280429af8e1f0549e": {
      "type": "Ymultichange(Ybodychange,Yparametermetachange)",
      "commitMessage": "Use final where possible.\n\ngit-svn-id: https://svn.apache.org/repos/asf/commons/proper/io/trunk@1415850 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": 1354308699000,
      "commitName": "6aa00766b9103d75c763160280429af8e1f0549e",
      "commitAuthor": "Gary D. Gregory",
      "subchanges": [
        {
          "type": "Ybodychange",
          "commitMessage": "Use final where possible.\n\ngit-svn-id: https://svn.apache.org/repos/asf/commons/proper/io/trunk@1415850 13f79535-47bb-0310-9956-ffa450edef68\n",
          "commitDate": 1354308699000,
          "commitName": "6aa00766b9103d75c763160280429af8e1f0549e",
          "commitAuthor": "Gary D. Gregory",
          "commitDateOld": 1351082444000,
          "commitNameOld": "965f66687351e0abd445925d0497f96e5656ff13",
          "commitAuthorOld": "Gary D. Gregory",
          "daysBetweenCommits": 37.34,
          "commitsBetweenForRepo": 34,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,32 +1,32 @@\n-    static String decodeUrl(String url) {\n+    static String decodeUrl(final String url) {\n         String decoded \u003d url;\n         if (url !\u003d null \u0026\u0026 url.indexOf(\u0027%\u0027) \u003e\u003d 0) {\n-            int n \u003d url.length();\n-            StringBuffer buffer \u003d new StringBuffer();\n-            ByteBuffer bytes \u003d ByteBuffer.allocate(n);\n+            final int n \u003d url.length();\n+            final StringBuffer buffer \u003d new StringBuffer();\n+            final ByteBuffer bytes \u003d ByteBuffer.allocate(n);\n             for (int i \u003d 0; i \u003c n;) {\n                 if (url.charAt(i) \u003d\u003d \u0027%\u0027) {\n                     try {\n                         do {\n-                            byte octet \u003d (byte) Integer.parseInt(url.substring(i + 1, i + 3), 16);\n+                            final byte octet \u003d (byte) Integer.parseInt(url.substring(i + 1, i + 3), 16);\n                             bytes.put(octet);\n                             i +\u003d 3;\n                         } while (i \u003c n \u0026\u0026 url.charAt(i) \u003d\u003d \u0027%\u0027);\n                         continue;\n-                    } catch (RuntimeException e) {\n+                    } catch (final RuntimeException e) {\n                         // malformed percent-encoded octet, fall through and\n                         // append characters literally\n                     } finally {\n                         if (bytes.position() \u003e 0) {\n                             bytes.flip();\n                             buffer.append(UTF8.decode(bytes).toString());\n                             bytes.clear();\n                         }\n                     }\n                 }\n                 buffer.append(url.charAt(i++));\n             }\n             decoded \u003d buffer.toString();\n         }\n         return decoded;\n     }\n\\ No newline at end of file\n",
          "extendedDetails": {}
        },
        {
          "type": "Yparametermetachange",
          "commitMessage": "Use final where possible.\n\ngit-svn-id: https://svn.apache.org/repos/asf/commons/proper/io/trunk@1415850 13f79535-47bb-0310-9956-ffa450edef68\n",
          "commitDate": 1354308699000,
          "commitName": "6aa00766b9103d75c763160280429af8e1f0549e",
          "commitAuthor": "Gary D. Gregory",
          "commitDateOld": 1351082444000,
          "commitNameOld": "965f66687351e0abd445925d0497f96e5656ff13",
          "commitAuthorOld": "Gary D. Gregory",
          "daysBetweenCommits": 37.34,
          "commitsBetweenForRepo": 34,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,32 +1,32 @@\n-    static String decodeUrl(String url) {\n+    static String decodeUrl(final String url) {\n         String decoded \u003d url;\n         if (url !\u003d null \u0026\u0026 url.indexOf(\u0027%\u0027) \u003e\u003d 0) {\n-            int n \u003d url.length();\n-            StringBuffer buffer \u003d new StringBuffer();\n-            ByteBuffer bytes \u003d ByteBuffer.allocate(n);\n+            final int n \u003d url.length();\n+            final StringBuffer buffer \u003d new StringBuffer();\n+            final ByteBuffer bytes \u003d ByteBuffer.allocate(n);\n             for (int i \u003d 0; i \u003c n;) {\n                 if (url.charAt(i) \u003d\u003d \u0027%\u0027) {\n                     try {\n                         do {\n-                            byte octet \u003d (byte) Integer.parseInt(url.substring(i + 1, i + 3), 16);\n+                            final byte octet \u003d (byte) Integer.parseInt(url.substring(i + 1, i + 3), 16);\n                             bytes.put(octet);\n                             i +\u003d 3;\n                         } while (i \u003c n \u0026\u0026 url.charAt(i) \u003d\u003d \u0027%\u0027);\n                         continue;\n-                    } catch (RuntimeException e) {\n+                    } catch (final RuntimeException e) {\n                         // malformed percent-encoded octet, fall through and\n                         // append characters literally\n                     } finally {\n                         if (bytes.position() \u003e 0) {\n                             bytes.flip();\n                             buffer.append(UTF8.decode(bytes).toString());\n                             bytes.clear();\n                         }\n                     }\n                 }\n                 buffer.append(url.charAt(i++));\n             }\n             decoded \u003d buffer.toString();\n         }\n         return decoded;\n     }\n\\ No newline at end of file\n",
          "extendedDetails": {}
        }
      ]
    },
    "83f7246c3e9fe1d3f1ad6cf7ea0715a573fe2f2a": {
      "type": "Yfilerename",
      "commitMessage": "Build changes - re-organize to standard m2 layout, remove useless JIRA report and fix some Ant issues\n\ngit-svn-id: https://svn.apache.org/repos/asf/commons/proper/io/trunk@1004358 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": 1286218476000,
      "commitName": "83f7246c3e9fe1d3f1ad6cf7ea0715a573fe2f2a",
      "commitAuthor": "Niall Pemberton",
      "commitDateOld": 1286214840000,
      "commitNameOld": "19f48eb1711427a43a5e10c84bbbf1218a08bdd2",
      "commitAuthorOld": "Niall Pemberton",
      "daysBetweenCommits": 0.04,
      "commitsBetweenForRepo": 1,
      "commitsBetweenForFile": 1,
      "diff": "",
      "extendedDetails": {
        "oldPath": "src/java/org/apache/commons/io/FileUtils.java",
        "newPath": "src/main/java/org/apache/commons/io/FileUtils.java"
      }
    },
    "ed01f165f9bbb7ccbd48dde7dd3106eb044dd859": {
      "type": "Yintroduced",
      "commitMessage": "IO-166 Fix URL decoding in FileUtils.toFile() - thanks to Benjamin Bentmann for the patch\n\ngit-svn-id: https://svn.apache.org/repos/asf/commons/proper/io/trunk@1002457 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": 1285731841000,
      "commitName": "ed01f165f9bbb7ccbd48dde7dd3106eb044dd859",
      "commitAuthor": "Niall Pemberton"
    }
  }
}