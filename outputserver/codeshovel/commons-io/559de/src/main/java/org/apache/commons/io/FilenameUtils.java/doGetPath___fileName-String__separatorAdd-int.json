{
  "origin": "codeshovel",
  "repositoryName": "commons-io",
  "repositoryPath": "/repos/commons-io/.git",
  "startCommitName": "559de2c461e94ab636c959149c775bb27111fb48",
  "sourceFileName": "FilenameUtils.java",
  "functionName": "doGetPath",
  "functionId": "doGetPath___fileName-String__separatorAdd-int",
  "sourceFilePath": "src/main/java/org/apache/commons/io/FilenameUtils.java",
  "functionStartLine": 859,
  "functionEndLine": 875,
  "changeHistory": [
    "e4e03ef4c091f5a35da0d97a6a35224197b8be02",
    "f03149e07dee90b23369d1cdb7f15c142df5e31d",
    "56f2a758983611adea7308e90ae9934c973efa72",
    "5d072ef89fbc2532f621a5a0b4d6791cb926a997",
    "76e45d6a50da6228c44b04a565dca96432c4b197",
    "6aa00766b9103d75c763160280429af8e1f0549e",
    "83f7246c3e9fe1d3f1ad6cf7ea0715a573fe2f2a",
    "d55dd62cc0b07e1124369d74dd0095cc2b491dfe",
    "b39e430b27a666ec6195d9f77b09b3ae2c21f011",
    "1bff1d39fe1d9b6be5d7e6c6c821849eeb3391fe",
    "5964ce6decf3d7ab3efb7e1a9852b2f85a03ec6d",
    "799a5e8e5b1b07ea056512494219bf3e4d6893e7",
    "d5e24a4f1a2ff0e5c565f5b78fc0691e639b876e",
    "b901739a6779843da45a917a141cfd17114909de",
    "8eeb52fc81c4e65c00839cfeef9f1cde8b1cc613",
    "c360a10db25701f682849e5913d150f13a09f3bb"
  ],
  "changeHistoryShort": {
    "e4e03ef4c091f5a35da0d97a6a35224197b8be02": "Ymultichange(Yparameterchange,Ybodychange)",
    "f03149e07dee90b23369d1cdb7f15c142df5e31d": "Ybodychange",
    "56f2a758983611adea7308e90ae9934c973efa72": "Ybodychange",
    "5d072ef89fbc2532f621a5a0b4d6791cb926a997": "Ybodychange",
    "76e45d6a50da6228c44b04a565dca96432c4b197": "Ybodychange",
    "6aa00766b9103d75c763160280429af8e1f0549e": "Ymultichange(Ybodychange,Yparametermetachange)",
    "83f7246c3e9fe1d3f1ad6cf7ea0715a573fe2f2a": "Yfilerename",
    "d55dd62cc0b07e1124369d74dd0095cc2b491dfe": "Ybodychange",
    "b39e430b27a666ec6195d9f77b09b3ae2c21f011": "Ymultichange(Yrename,Yparameterchange,Ymodifierchange,Ybodychange)",
    "1bff1d39fe1d9b6be5d7e6c6c821849eeb3391fe": "Ybodychange",
    "5964ce6decf3d7ab3efb7e1a9852b2f85a03ec6d": "Ybodychange",
    "799a5e8e5b1b07ea056512494219bf3e4d6893e7": "Ymultichange(Yparameterchange,Ybodychange)",
    "d5e24a4f1a2ff0e5c565f5b78fc0691e639b876e": "Ymultichange(Ybodychange,Yparametermetachange)",
    "b901739a6779843da45a917a141cfd17114909de": "Ymovefromfile",
    "8eeb52fc81c4e65c00839cfeef9f1cde8b1cc613": "Ymovefromfile",
    "c360a10db25701f682849e5913d150f13a09f3bb": "Yintroduced"
  },
  "changeHistoryDetails": {
    "e4e03ef4c091f5a35da0d97a6a35224197b8be02": {
      "type": "Ymultichange(Yparameterchange,Ybodychange)",
      "commitMessage": "Fix param names \u0027filename\u0027 -\u003e \u0027fileName\u0027 in code and Javadocs.",
      "commitDate": 1520524225000,
      "commitName": "e4e03ef4c091f5a35da0d97a6a35224197b8be02",
      "commitAuthor": "Gary Gregory",
      "subchanges": [
        {
          "type": "Yparameterchange",
          "commitMessage": "Fix param names \u0027filename\u0027 -\u003e \u0027fileName\u0027 in code and Javadocs.",
          "commitDate": 1520524225000,
          "commitName": "e4e03ef4c091f5a35da0d97a6a35224197b8be02",
          "commitAuthor": "Gary Gregory",
          "commitDateOld": 1520523160000,
          "commitNameOld": "90b2e46494eea8461523c55fd9cf3fe3d1bf00ce",
          "commitAuthorOld": "Gary Gregory",
          "daysBetweenCommits": 0.01,
          "commitsBetweenForRepo": 2,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,17 +1,17 @@\n-    private static String doGetPath(final String filename, final int separatorAdd) {\n-        if (filename \u003d\u003d null) {\n+    private static String doGetPath(final String fileName, final int separatorAdd) {\n+        if (fileName \u003d\u003d null) {\n             return null;\n         }\n-        final int prefix \u003d getPrefixLength(filename);\n+        final int prefix \u003d getPrefixLength(fileName);\n         if (prefix \u003c 0) {\n             return null;\n         }\n-        final int index \u003d indexOfLastSeparator(filename);\n+        final int index \u003d indexOfLastSeparator(fileName);\n         final int endIndex \u003d index+separatorAdd;\n-        if (prefix \u003e\u003d filename.length() || index \u003c 0 || prefix \u003e\u003d endIndex) {\n+        if (prefix \u003e\u003d fileName.length() || index \u003c 0 || prefix \u003e\u003d endIndex) {\n             return EMPTY_STRING;\n         }\n-        final String path \u003d filename.substring(prefix, endIndex);\n+        final String path \u003d fileName.substring(prefix, endIndex);\n         failIfNullBytePresent(path);\n         return path;\n     }\n\\ No newline at end of file\n",
          "extendedDetails": {}
        },
        {
          "type": "Ybodychange",
          "commitMessage": "Fix param names \u0027filename\u0027 -\u003e \u0027fileName\u0027 in code and Javadocs.",
          "commitDate": 1520524225000,
          "commitName": "e4e03ef4c091f5a35da0d97a6a35224197b8be02",
          "commitAuthor": "Gary Gregory",
          "commitDateOld": 1520523160000,
          "commitNameOld": "90b2e46494eea8461523c55fd9cf3fe3d1bf00ce",
          "commitAuthorOld": "Gary Gregory",
          "daysBetweenCommits": 0.01,
          "commitsBetweenForRepo": 2,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,17 +1,17 @@\n-    private static String doGetPath(final String filename, final int separatorAdd) {\n-        if (filename \u003d\u003d null) {\n+    private static String doGetPath(final String fileName, final int separatorAdd) {\n+        if (fileName \u003d\u003d null) {\n             return null;\n         }\n-        final int prefix \u003d getPrefixLength(filename);\n+        final int prefix \u003d getPrefixLength(fileName);\n         if (prefix \u003c 0) {\n             return null;\n         }\n-        final int index \u003d indexOfLastSeparator(filename);\n+        final int index \u003d indexOfLastSeparator(fileName);\n         final int endIndex \u003d index+separatorAdd;\n-        if (prefix \u003e\u003d filename.length() || index \u003c 0 || prefix \u003e\u003d endIndex) {\n+        if (prefix \u003e\u003d fileName.length() || index \u003c 0 || prefix \u003e\u003d endIndex) {\n             return EMPTY_STRING;\n         }\n-        final String path \u003d filename.substring(prefix, endIndex);\n+        final String path \u003d fileName.substring(prefix, endIndex);\n         failIfNullBytePresent(path);\n         return path;\n     }\n\\ No newline at end of file\n",
          "extendedDetails": {}
        }
      ]
    },
    "f03149e07dee90b23369d1cdb7f15c142df5e31d": {
      "type": "Ybodychange",
      "commitMessage": "Refactor magic string into a constant.",
      "commitDate": 1520355081000,
      "commitName": "f03149e07dee90b23369d1cdb7f15c142df5e31d",
      "commitAuthor": "Gary Gregory",
      "commitDateOld": 1520354763000,
      "commitNameOld": "8f957f527b9048f51aad91b544bed35c48bcf3a9",
      "commitAuthorOld": "Gary Gregory",
      "daysBetweenCommits": 0.0,
      "commitsBetweenForRepo": 1,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,17 +1,17 @@\n     private static String doGetPath(final String filename, final int separatorAdd) {\n         if (filename \u003d\u003d null) {\n             return null;\n         }\n         final int prefix \u003d getPrefixLength(filename);\n         if (prefix \u003c 0) {\n             return null;\n         }\n         final int index \u003d indexOfLastSeparator(filename);\n         final int endIndex \u003d index+separatorAdd;\n         if (prefix \u003e\u003d filename.length() || index \u003c 0 || prefix \u003e\u003d endIndex) {\n-            return \"\";\n+            return EMPTY_STRING;\n         }\n         final String path \u003d filename.substring(prefix, endIndex);\n         failIfNullBytePresent(path);\n         return path;\n     }\n\\ No newline at end of file\n",
      "extendedDetails": {}
    },
    "56f2a758983611adea7308e90ae9934c973efa72": {
      "type": "Ybodychange",
      "commitMessage": "Consistently use the final modifier with local variables.",
      "commitDate": 1506632587000,
      "commitName": "56f2a758983611adea7308e90ae9934c973efa72",
      "commitAuthor": "Gary Gregory",
      "commitDateOld": 1506540583000,
      "commitNameOld": "14b52eb4f630f32c66122977331bd894b9474978",
      "commitAuthorOld": "Gary Gregory",
      "daysBetweenCommits": 1.06,
      "commitsBetweenForRepo": 9,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,17 +1,17 @@\n     private static String doGetPath(final String filename, final int separatorAdd) {\n         if (filename \u003d\u003d null) {\n             return null;\n         }\n         final int prefix \u003d getPrefixLength(filename);\n         if (prefix \u003c 0) {\n             return null;\n         }\n         final int index \u003d indexOfLastSeparator(filename);\n         final int endIndex \u003d index+separatorAdd;\n         if (prefix \u003e\u003d filename.length() || index \u003c 0 || prefix \u003e\u003d endIndex) {\n             return \"\";\n         }\n-        String path \u003d filename.substring(prefix, endIndex);\n+        final String path \u003d filename.substring(prefix, endIndex);\n         failIfNullBytePresent(path);\n         return path;\n     }\n\\ No newline at end of file\n",
      "extendedDetails": {}
    },
    "5d072ef89fbc2532f621a5a0b4d6791cb926a997": {
      "type": "Ybodychange",
      "commitMessage": "IO-484 Changed solution to always throw exception\n\ngit-svn-id: https://svn.apache.org/repos/asf/commons/proper/io/trunk@1702170 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": 1441866902000,
      "commitName": "5d072ef89fbc2532f621a5a0b4d6791cb926a997",
      "commitAuthor": "Kristian Rosenvold",
      "commitDateOld": 1438863762000,
      "commitNameOld": "76e45d6a50da6228c44b04a565dca96432c4b197",
      "commitAuthorOld": "Kristian Rosenvold",
      "daysBetweenCommits": 34.76,
      "commitsBetweenForRepo": 4,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,15 +1,17 @@\n     private static String doGetPath(final String filename, final int separatorAdd) {\n         if (filename \u003d\u003d null) {\n             return null;\n         }\n         final int prefix \u003d getPrefixLength(filename);\n         if (prefix \u003c 0) {\n             return null;\n         }\n         final int index \u003d indexOfLastSeparator(filename);\n         final int endIndex \u003d index+separatorAdd;\n         if (prefix \u003e\u003d filename.length() || index \u003c 0 || prefix \u003e\u003d endIndex) {\n             return \"\";\n         }\n-        return filterNullBytes(filename.substring(prefix, endIndex));\n+        String path \u003d filename.substring(prefix, endIndex);\n+        failIfNullBytePresent(path);\n+        return path;\n     }\n\\ No newline at end of file\n",
      "extendedDetails": {}
    },
    "76e45d6a50da6228c44b04a565dca96432c4b197": {
      "type": "Ybodychange",
      "commitMessage": "IO-484 Added filtering to getPath and getPrefix\n\ngit-svn-id: https://svn.apache.org/repos/asf/commons/proper/io/trunk@1694480 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": 1438863762000,
      "commitName": "76e45d6a50da6228c44b04a565dca96432c4b197",
      "commitAuthor": "Kristian Rosenvold",
      "commitDateOld": 1438861678000,
      "commitNameOld": "afe78a030b57e3f74825e134d6615ef4878778cc",
      "commitAuthorOld": "Kristian Rosenvold",
      "daysBetweenCommits": 0.02,
      "commitsBetweenForRepo": 1,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,15 +1,15 @@\n     private static String doGetPath(final String filename, final int separatorAdd) {\n         if (filename \u003d\u003d null) {\n             return null;\n         }\n         final int prefix \u003d getPrefixLength(filename);\n         if (prefix \u003c 0) {\n             return null;\n         }\n         final int index \u003d indexOfLastSeparator(filename);\n         final int endIndex \u003d index+separatorAdd;\n         if (prefix \u003e\u003d filename.length() || index \u003c 0 || prefix \u003e\u003d endIndex) {\n             return \"\";\n         }\n-        return filename.substring(prefix, endIndex);\n+        return filterNullBytes(filename.substring(prefix, endIndex));\n     }\n\\ No newline at end of file\n",
      "extendedDetails": {}
    },
    "6aa00766b9103d75c763160280429af8e1f0549e": {
      "type": "Ymultichange(Ybodychange,Yparametermetachange)",
      "commitMessage": "Use final where possible.\n\ngit-svn-id: https://svn.apache.org/repos/asf/commons/proper/io/trunk@1415850 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": 1354308699000,
      "commitName": "6aa00766b9103d75c763160280429af8e1f0549e",
      "commitAuthor": "Gary D. Gregory",
      "subchanges": [
        {
          "type": "Ybodychange",
          "commitMessage": "Use final where possible.\n\ngit-svn-id: https://svn.apache.org/repos/asf/commons/proper/io/trunk@1415850 13f79535-47bb-0310-9956-ffa450edef68\n",
          "commitDate": 1354308699000,
          "commitName": "6aa00766b9103d75c763160280429af8e1f0549e",
          "commitAuthor": "Gary D. Gregory",
          "commitDateOld": 1333120391000,
          "commitNameOld": "3ef56378e33ed5ccc296806e4ad6b8c463e5979f",
          "commitAuthorOld": "Gary D. Gregory",
          "daysBetweenCommits": 245.24,
          "commitsBetweenForRepo": 143,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,15 +1,15 @@\n-    private static String doGetPath(String filename, int separatorAdd) {\n+    private static String doGetPath(final String filename, final int separatorAdd) {\n         if (filename \u003d\u003d null) {\n             return null;\n         }\n-        int prefix \u003d getPrefixLength(filename);\n+        final int prefix \u003d getPrefixLength(filename);\n         if (prefix \u003c 0) {\n             return null;\n         }\n-        int index \u003d indexOfLastSeparator(filename);\n-        int endIndex \u003d index+separatorAdd;\n+        final int index \u003d indexOfLastSeparator(filename);\n+        final int endIndex \u003d index+separatorAdd;\n         if (prefix \u003e\u003d filename.length() || index \u003c 0 || prefix \u003e\u003d endIndex) {\n             return \"\";\n         }\n         return filename.substring(prefix, endIndex);\n     }\n\\ No newline at end of file\n",
          "extendedDetails": {}
        },
        {
          "type": "Yparametermetachange",
          "commitMessage": "Use final where possible.\n\ngit-svn-id: https://svn.apache.org/repos/asf/commons/proper/io/trunk@1415850 13f79535-47bb-0310-9956-ffa450edef68\n",
          "commitDate": 1354308699000,
          "commitName": "6aa00766b9103d75c763160280429af8e1f0549e",
          "commitAuthor": "Gary D. Gregory",
          "commitDateOld": 1333120391000,
          "commitNameOld": "3ef56378e33ed5ccc296806e4ad6b8c463e5979f",
          "commitAuthorOld": "Gary D. Gregory",
          "daysBetweenCommits": 245.24,
          "commitsBetweenForRepo": 143,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,15 +1,15 @@\n-    private static String doGetPath(String filename, int separatorAdd) {\n+    private static String doGetPath(final String filename, final int separatorAdd) {\n         if (filename \u003d\u003d null) {\n             return null;\n         }\n-        int prefix \u003d getPrefixLength(filename);\n+        final int prefix \u003d getPrefixLength(filename);\n         if (prefix \u003c 0) {\n             return null;\n         }\n-        int index \u003d indexOfLastSeparator(filename);\n-        int endIndex \u003d index+separatorAdd;\n+        final int index \u003d indexOfLastSeparator(filename);\n+        final int endIndex \u003d index+separatorAdd;\n         if (prefix \u003e\u003d filename.length() || index \u003c 0 || prefix \u003e\u003d endIndex) {\n             return \"\";\n         }\n         return filename.substring(prefix, endIndex);\n     }\n\\ No newline at end of file\n",
          "extendedDetails": {}
        }
      ]
    },
    "83f7246c3e9fe1d3f1ad6cf7ea0715a573fe2f2a": {
      "type": "Yfilerename",
      "commitMessage": "Build changes - re-organize to standard m2 layout, remove useless JIRA report and fix some Ant issues\n\ngit-svn-id: https://svn.apache.org/repos/asf/commons/proper/io/trunk@1004358 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": 1286218476000,
      "commitName": "83f7246c3e9fe1d3f1ad6cf7ea0715a573fe2f2a",
      "commitAuthor": "Niall Pemberton",
      "commitDateOld": 1286214840000,
      "commitNameOld": "19f48eb1711427a43a5e10c84bbbf1218a08bdd2",
      "commitAuthorOld": "Niall Pemberton",
      "daysBetweenCommits": 0.04,
      "commitsBetweenForRepo": 1,
      "commitsBetweenForFile": 1,
      "diff": "",
      "extendedDetails": {
        "oldPath": "src/java/org/apache/commons/io/FilenameUtils.java",
        "newPath": "src/main/java/org/apache/commons/io/FilenameUtils.java"
      }
    },
    "d55dd62cc0b07e1124369d74dd0095cc2b491dfe": {
      "type": "Ybodychange",
      "commitMessage": "Fix for IO-179 StringIndexOutOfBounds exception on FilenameUtils.getPathNoEndSeparator - thanks to Francisco Borges for the patch\n\ngit-svn-id: https://svn.apache.org/repos/asf/commons/proper/io/trunk@721610 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": 1227923411000,
      "commitName": "d55dd62cc0b07e1124369d74dd0095cc2b491dfe",
      "commitAuthor": "Niall Pemberton",
      "commitDateOld": 1212174721000,
      "commitNameOld": "5c13fa7579650c2cbcab61c6b18e509951f640aa",
      "commitAuthorOld": "Niall Pemberton",
      "daysBetweenCommits": 182.28,
      "commitsBetweenForRepo": 7,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,14 +1,15 @@\n     private static String doGetPath(String filename, int separatorAdd) {\n         if (filename \u003d\u003d null) {\n             return null;\n         }\n         int prefix \u003d getPrefixLength(filename);\n         if (prefix \u003c 0) {\n             return null;\n         }\n         int index \u003d indexOfLastSeparator(filename);\n-        if (prefix \u003e\u003d filename.length() || index \u003c 0) {\n+        int endIndex \u003d index+separatorAdd;\n+        if (prefix \u003e\u003d filename.length() || index \u003c 0 || prefix \u003e\u003d endIndex) {\n             return \"\";\n         }\n-        return filename.substring(prefix, index + separatorAdd);\n+        return filename.substring(prefix, endIndex);\n     }\n\\ No newline at end of file\n",
      "extendedDetails": {}
    },
    "b39e430b27a666ec6195d9f77b09b3ae2c21f011": {
      "type": "Ymultichange(Yrename,Yparameterchange,Ymodifierchange,Ybodychange)",
      "commitMessage": "Treat separator at end of filename as sign of directory\nAdjust other methods to this new definition\nAdjust absolute prefix calculation to always end in separator\nAdd new methods that omit the end separator\n\ngit-svn-id: https://svn.apache.org/repos/asf/jakarta/commons/proper/io/trunk@279094 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": 1126039666000,
      "commitName": "b39e430b27a666ec6195d9f77b09b3ae2c21f011",
      "commitAuthor": "Stephen Colebourne",
      "subchanges": [
        {
          "type": "Yrename",
          "commitMessage": "Treat separator at end of filename as sign of directory\nAdjust other methods to this new definition\nAdjust absolute prefix calculation to always end in separator\nAdd new methods that omit the end separator\n\ngit-svn-id: https://svn.apache.org/repos/asf/jakarta/commons/proper/io/trunk@279094 13f79535-47bb-0310-9956-ffa450edef68\n",
          "commitDate": 1126039666000,
          "commitName": "b39e430b27a666ec6195d9f77b09b3ae2c21f011",
          "commitAuthor": "Stephen Colebourne",
          "commitDateOld": 1125437023000,
          "commitNameOld": "1bff1d39fe1d9b6be5d7e6c6c821849eeb3391fe",
          "commitAuthorOld": "Stephen Colebourne",
          "daysBetweenCommits": 6.98,
          "commitsBetweenForRepo": 3,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,18 +1,14 @@\n-    public static String getPath(String filename) {\n+    private static String doGetPath(String filename, int separatorAdd) {\n         if (filename \u003d\u003d null) {\n             return null;\n         }\n         int prefix \u003d getPrefixLength(filename);\n         if (prefix \u003c 0) {\n             return null;\n         }\n-        if (prefix \u003d\u003d filename.length()) {\n-            return \"\";\n-        }\n         int index \u003d indexOfLastSeparator(filename);\n-        if (index \u003c 0) {\n+        if (prefix \u003e\u003d filename.length() || index \u003c 0) {\n             return \"\";\n-        } else {\n-            return filename.substring(prefix, index);\n         }\n+        return filename.substring(prefix, index + separatorAdd);\n     }\n\\ No newline at end of file\n",
          "extendedDetails": {
            "oldMethodName": "getPath",
            "newMethodName": "doGetPath"
          }
        },
        {
          "type": "Yparameterchange",
          "commitMessage": "Treat separator at end of filename as sign of directory\nAdjust other methods to this new definition\nAdjust absolute prefix calculation to always end in separator\nAdd new methods that omit the end separator\n\ngit-svn-id: https://svn.apache.org/repos/asf/jakarta/commons/proper/io/trunk@279094 13f79535-47bb-0310-9956-ffa450edef68\n",
          "commitDate": 1126039666000,
          "commitName": "b39e430b27a666ec6195d9f77b09b3ae2c21f011",
          "commitAuthor": "Stephen Colebourne",
          "commitDateOld": 1125437023000,
          "commitNameOld": "1bff1d39fe1d9b6be5d7e6c6c821849eeb3391fe",
          "commitAuthorOld": "Stephen Colebourne",
          "daysBetweenCommits": 6.98,
          "commitsBetweenForRepo": 3,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,18 +1,14 @@\n-    public static String getPath(String filename) {\n+    private static String doGetPath(String filename, int separatorAdd) {\n         if (filename \u003d\u003d null) {\n             return null;\n         }\n         int prefix \u003d getPrefixLength(filename);\n         if (prefix \u003c 0) {\n             return null;\n         }\n-        if (prefix \u003d\u003d filename.length()) {\n-            return \"\";\n-        }\n         int index \u003d indexOfLastSeparator(filename);\n-        if (index \u003c 0) {\n+        if (prefix \u003e\u003d filename.length() || index \u003c 0) {\n             return \"\";\n-        } else {\n-            return filename.substring(prefix, index);\n         }\n+        return filename.substring(prefix, index + separatorAdd);\n     }\n\\ No newline at end of file\n",
          "extendedDetails": {}
        },
        {
          "type": "Ymodifierchange",
          "commitMessage": "Treat separator at end of filename as sign of directory\nAdjust other methods to this new definition\nAdjust absolute prefix calculation to always end in separator\nAdd new methods that omit the end separator\n\ngit-svn-id: https://svn.apache.org/repos/asf/jakarta/commons/proper/io/trunk@279094 13f79535-47bb-0310-9956-ffa450edef68\n",
          "commitDate": 1126039666000,
          "commitName": "b39e430b27a666ec6195d9f77b09b3ae2c21f011",
          "commitAuthor": "Stephen Colebourne",
          "commitDateOld": 1125437023000,
          "commitNameOld": "1bff1d39fe1d9b6be5d7e6c6c821849eeb3391fe",
          "commitAuthorOld": "Stephen Colebourne",
          "daysBetweenCommits": 6.98,
          "commitsBetweenForRepo": 3,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,18 +1,14 @@\n-    public static String getPath(String filename) {\n+    private static String doGetPath(String filename, int separatorAdd) {\n         if (filename \u003d\u003d null) {\n             return null;\n         }\n         int prefix \u003d getPrefixLength(filename);\n         if (prefix \u003c 0) {\n             return null;\n         }\n-        if (prefix \u003d\u003d filename.length()) {\n-            return \"\";\n-        }\n         int index \u003d indexOfLastSeparator(filename);\n-        if (index \u003c 0) {\n+        if (prefix \u003e\u003d filename.length() || index \u003c 0) {\n             return \"\";\n-        } else {\n-            return filename.substring(prefix, index);\n         }\n+        return filename.substring(prefix, index + separatorAdd);\n     }\n\\ No newline at end of file\n",
          "extendedDetails": {}
        },
        {
          "type": "Ybodychange",
          "commitMessage": "Treat separator at end of filename as sign of directory\nAdjust other methods to this new definition\nAdjust absolute prefix calculation to always end in separator\nAdd new methods that omit the end separator\n\ngit-svn-id: https://svn.apache.org/repos/asf/jakarta/commons/proper/io/trunk@279094 13f79535-47bb-0310-9956-ffa450edef68\n",
          "commitDate": 1126039666000,
          "commitName": "b39e430b27a666ec6195d9f77b09b3ae2c21f011",
          "commitAuthor": "Stephen Colebourne",
          "commitDateOld": 1125437023000,
          "commitNameOld": "1bff1d39fe1d9b6be5d7e6c6c821849eeb3391fe",
          "commitAuthorOld": "Stephen Colebourne",
          "daysBetweenCommits": 6.98,
          "commitsBetweenForRepo": 3,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,18 +1,14 @@\n-    public static String getPath(String filename) {\n+    private static String doGetPath(String filename, int separatorAdd) {\n         if (filename \u003d\u003d null) {\n             return null;\n         }\n         int prefix \u003d getPrefixLength(filename);\n         if (prefix \u003c 0) {\n             return null;\n         }\n-        if (prefix \u003d\u003d filename.length()) {\n-            return \"\";\n-        }\n         int index \u003d indexOfLastSeparator(filename);\n-        if (index \u003c 0) {\n+        if (prefix \u003e\u003d filename.length() || index \u003c 0) {\n             return \"\";\n-        } else {\n-            return filename.substring(prefix, index);\n         }\n+        return filename.substring(prefix, index + separatorAdd);\n     }\n\\ No newline at end of file\n",
          "extendedDetails": {}
        }
      ]
    },
    "1bff1d39fe1d9b6be5d7e6c6c821849eeb3391fe": {
      "type": "Ybodychange",
      "commitMessage": "Fix to handle short prefixes\n\ngit-svn-id: https://svn.apache.org/repos/asf/jakarta/commons/proper/io/trunk@264868 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": 1125437023000,
      "commitName": "1bff1d39fe1d9b6be5d7e6c6c821849eeb3391fe",
      "commitAuthor": "Stephen Colebourne",
      "commitDateOld": 1125161220000,
      "commitNameOld": "56104312831c73e13d7ebcd12cbfe50aadb05902",
      "commitAuthorOld": "Stephen Colebourne",
      "daysBetweenCommits": 3.19,
      "commitsBetweenForRepo": 11,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,15 +1,18 @@\n     public static String getPath(String filename) {\n         if (filename \u003d\u003d null) {\n             return null;\n         }\n         int prefix \u003d getPrefixLength(filename);\n         if (prefix \u003c 0) {\n             return null;\n         }\n+        if (prefix \u003d\u003d filename.length()) {\n+            return \"\";\n+        }\n         int index \u003d indexOfLastSeparator(filename);\n         if (index \u003c 0) {\n             return \"\";\n         } else {\n             return filename.substring(prefix, index);\n         }\n     }\n\\ No newline at end of file\n",
      "extendedDetails": {}
    },
    "5964ce6decf3d7ab3efb7e1a9852b2f85a03ec6d": {
      "type": "Ybodychange",
      "commitMessage": "Add methods to handle filename prefixes\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/jakarta/commons/proper/io/trunk@140641 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": 1101168269000,
      "commitName": "5964ce6decf3d7ab3efb7e1a9852b2f85a03ec6d",
      "commitAuthor": "Stephen Colebourne",
      "commitDateOld": 1101085915000,
      "commitNameOld": "f93f8bebb4fc714a6b60e1d2a4452d6ff6d3df5c",
      "commitAuthorOld": "Stephen Colebourne",
      "daysBetweenCommits": 0.95,
      "commitsBetweenForRepo": 1,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,11 +1,15 @@\n     public static String getPath(String filename) {\n         if (filename \u003d\u003d null) {\n             return null;\n         }\n+        int prefix \u003d getPrefixLength(filename);\n+        if (prefix \u003c 0) {\n+            return null;\n+        }\n         int index \u003d indexOfLastSeparator(filename);\n-        if (index \u003d\u003d -1) {\n+        if (index \u003c 0) {\n             return \"\";\n         } else {\n-            return filename.substring(0, index);\n+            return filename.substring(prefix, index);\n         }\n     }\n\\ No newline at end of file\n",
      "extendedDetails": {}
    },
    "799a5e8e5b1b07ea056512494219bf3e4d6893e7": {
      "type": "Ymultichange(Yparameterchange,Ybodychange)",
      "commitMessage": "Refactor getXxx methods in FilenameUtils\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/jakarta/commons/proper/io/trunk@140635 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": 1099177938000,
      "commitName": "799a5e8e5b1b07ea056512494219bf3e4d6893e7",
      "commitAuthor": "Stephen Colebourne",
      "subchanges": [
        {
          "type": "Yparameterchange",
          "commitMessage": "Refactor getXxx methods in FilenameUtils\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/jakarta/commons/proper/io/trunk@140635 13f79535-47bb-0310-9956-ffa450edef68\n",
          "commitDate": 1099177938000,
          "commitName": "799a5e8e5b1b07ea056512494219bf3e4d6893e7",
          "commitAuthor": "Stephen Colebourne",
          "commitDateOld": 1099176201000,
          "commitNameOld": "e8cb32f461a2720c642f7cb3feb94c776f015be7",
          "commitAuthorOld": "Stephen Colebourne",
          "daysBetweenCommits": 0.02,
          "commitsBetweenForRepo": 1,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,8 +1,11 @@\n-    public static String getPath( String filepath, char fileSeparatorChar) {\n-        int index \u003d filepath.lastIndexOf(fileSeparatorChar);\n-        if (-1 \u003d\u003d index) {\n+    public static String getPath(String filename) {\n+        if (filename \u003d\u003d null) {\n+            return null;\n+        }\n+        int index \u003d indexOfLastSeparator(filename);\n+        if (index \u003d\u003d -1) {\n             return \"\";\n         } else {\n-            return filepath.substring(0, index);\n+            return filename.substring(0, index);\n         }\n     }\n\\ No newline at end of file\n",
          "extendedDetails": {}
        },
        {
          "type": "Ybodychange",
          "commitMessage": "Refactor getXxx methods in FilenameUtils\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/jakarta/commons/proper/io/trunk@140635 13f79535-47bb-0310-9956-ffa450edef68\n",
          "commitDate": 1099177938000,
          "commitName": "799a5e8e5b1b07ea056512494219bf3e4d6893e7",
          "commitAuthor": "Stephen Colebourne",
          "commitDateOld": 1099176201000,
          "commitNameOld": "e8cb32f461a2720c642f7cb3feb94c776f015be7",
          "commitAuthorOld": "Stephen Colebourne",
          "daysBetweenCommits": 0.02,
          "commitsBetweenForRepo": 1,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,8 +1,11 @@\n-    public static String getPath( String filepath, char fileSeparatorChar) {\n-        int index \u003d filepath.lastIndexOf(fileSeparatorChar);\n-        if (-1 \u003d\u003d index) {\n+    public static String getPath(String filename) {\n+        if (filename \u003d\u003d null) {\n+            return null;\n+        }\n+        int index \u003d indexOfLastSeparator(filename);\n+        if (index \u003d\u003d -1) {\n             return \"\";\n         } else {\n-            return filepath.substring(0, index);\n+            return filename.substring(0, index);\n         }\n     }\n\\ No newline at end of file\n",
          "extendedDetails": {}
        }
      ]
    },
    "d5e24a4f1a2ff0e5c565f5b78fc0691e639b876e": {
      "type": "Ymultichange(Ybodychange,Yparametermetachange)",
      "commitMessage": "removed lots of finals\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/jakarta/commons/proper/io/trunk@140456 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": 1072767169000,
      "commitName": "d5e24a4f1a2ff0e5c565f5b78fc0691e639b876e",
      "commitAuthor": "Henri Yandell",
      "subchanges": [
        {
          "type": "Ybodychange",
          "commitMessage": "removed lots of finals\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/jakarta/commons/proper/io/trunk@140456 13f79535-47bb-0310-9956-ffa450edef68\n",
          "commitDate": 1072767169000,
          "commitName": "d5e24a4f1a2ff0e5c565f5b78fc0691e639b876e",
          "commitAuthor": "Henri Yandell",
          "commitDateOld": 1072677558000,
          "commitNameOld": "8baab07e0d47ba43a197933f6519141871fde6c3",
          "commitAuthorOld": "Henri Yandell",
          "daysBetweenCommits": 1.04,
          "commitsBetweenForRepo": 5,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,10 +1,10 @@\n     public static String getPath(\n-        final String filepath,\n-        final char fileSeparatorChar) {\n-        final int index \u003d filepath.lastIndexOf(fileSeparatorChar);\n+        String filepath,\n+        char fileSeparatorChar) {\n+        int index \u003d filepath.lastIndexOf(fileSeparatorChar);\n         if (-1 \u003d\u003d index) {\n             return \"\";\n         } else {\n             return filepath.substring(0, index);\n         }\n     }\n\\ No newline at end of file\n",
          "extendedDetails": {}
        },
        {
          "type": "Yparametermetachange",
          "commitMessage": "removed lots of finals\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/jakarta/commons/proper/io/trunk@140456 13f79535-47bb-0310-9956-ffa450edef68\n",
          "commitDate": 1072767169000,
          "commitName": "d5e24a4f1a2ff0e5c565f5b78fc0691e639b876e",
          "commitAuthor": "Henri Yandell",
          "commitDateOld": 1072677558000,
          "commitNameOld": "8baab07e0d47ba43a197933f6519141871fde6c3",
          "commitAuthorOld": "Henri Yandell",
          "daysBetweenCommits": 1.04,
          "commitsBetweenForRepo": 5,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,10 +1,10 @@\n     public static String getPath(\n-        final String filepath,\n-        final char fileSeparatorChar) {\n-        final int index \u003d filepath.lastIndexOf(fileSeparatorChar);\n+        String filepath,\n+        char fileSeparatorChar) {\n+        int index \u003d filepath.lastIndexOf(fileSeparatorChar);\n         if (-1 \u003d\u003d index) {\n             return \"\";\n         } else {\n             return filepath.substring(0, index);\n         }\n     }\n\\ No newline at end of file\n",
          "extendedDetails": {}
        }
      ]
    },
    "b901739a6779843da45a917a141cfd17114909de": {
      "type": "Ymovefromfile",
      "commitMessage": "moved all filename methods out of FileUtils and into the new FilenameUtils class. Updated the unit tests, though one test in FileUtilsTest does a bit of Filename testing. Javadoc will need a bit of checking. Updated tasks.xml to reflect this.\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/jakarta/commons/proper/io/trunk@140425 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": 1069620210000,
      "commitName": "b901739a6779843da45a917a141cfd17114909de",
      "commitAuthor": "Henri Yandell",
      "commitDateOld": 1069618450000,
      "commitNameOld": "f5e41b7cdb3aed5b19ad741cccb004dfeca745ac",
      "commitAuthorOld": "Henri Yandell",
      "daysBetweenCommits": 0.02,
      "commitsBetweenForRepo": 1,
      "commitsBetweenForFile": 1,
      "diff": "",
      "extendedDetails": {
        "oldPath": "src/java/org/apache/commons/io/FileUtils.java",
        "newPath": "src/java/org/apache/commons/io/FilenameUtils.java",
        "oldMethodName": "getPath",
        "newMethodName": "getPath"
      }
    },
    "8eeb52fc81c4e65c00839cfeef9f1cde8b1cc613": {
      "type": "Ymovefromfile",
      "commitMessage": "FileUtil moved into FileUtils. Oddly enough no methods clash in name.\nHowever there is a lot of clash of functionality, so methods need to be\nconsidered and removed.\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/jakarta/commons/proper/io/trunk@140314 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": 1027819689000,
      "commitName": "8eeb52fc81c4e65c00839cfeef9f1cde8b1cc613",
      "commitAuthor": "Henri Yandell",
      "commitDateOld": 1026599866000,
      "commitNameOld": "fcb1f1dc86e216faca4bdb9626200d99a6d9915a",
      "commitAuthorOld": "Nicola Ken Barozzi",
      "daysBetweenCommits": 14.12,
      "commitsBetweenForRepo": 1,
      "commitsBetweenForFile": 1,
      "diff": "",
      "extendedDetails": {
        "oldPath": "src/java/org/apache/commons/io/FileUtil.java",
        "newPath": "src/java/org/apache/commons/io/FileUtils.java",
        "oldMethodName": "getPath",
        "newMethodName": "getPath"
      }
    },
    "c360a10db25701f682849e5913d150f13a09f3bb": {
      "type": "Yintroduced",
      "commitMessage": "New io classes from Avalon excalibur.\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/jakarta/commons/proper/io/trunk@140301 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": 1026166486000,
      "commitName": "c360a10db25701f682849e5913d150f13a09f3bb",
      "commitAuthor": "Nicola Ken Barozzi"
    }
  }
}