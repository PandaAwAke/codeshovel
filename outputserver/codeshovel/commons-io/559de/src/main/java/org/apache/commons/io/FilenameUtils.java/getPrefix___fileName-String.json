{
  "origin": "codeshovel",
  "repositoryName": "commons-io",
  "repositoryPath": "/repos/commons-io/.git",
  "startCommitName": "559de2c461e94ab636c959149c775bb27111fb48",
  "sourceFileName": "FilenameUtils.java",
  "functionName": "getPrefix",
  "functionId": "getPrefix___fileName-String",
  "sourceFilePath": "src/main/java/org/apache/commons/io/FilenameUtils.java",
  "functionStartLine": 780,
  "functionEndLine": 795,
  "changeHistory": [
    "e4e03ef4c091f5a35da0d97a6a35224197b8be02",
    "56f2a758983611adea7308e90ae9934c973efa72",
    "5d072ef89fbc2532f621a5a0b4d6791cb926a997",
    "76e45d6a50da6228c44b04a565dca96432c4b197",
    "6aa00766b9103d75c763160280429af8e1f0549e",
    "83f7246c3e9fe1d3f1ad6cf7ea0715a573fe2f2a",
    "b39e430b27a666ec6195d9f77b09b3ae2c21f011",
    "5964ce6decf3d7ab3efb7e1a9852b2f85a03ec6d"
  ],
  "changeHistoryShort": {
    "e4e03ef4c091f5a35da0d97a6a35224197b8be02": "Ymultichange(Yparameterchange,Ybodychange)",
    "56f2a758983611adea7308e90ae9934c973efa72": "Ybodychange",
    "5d072ef89fbc2532f621a5a0b4d6791cb926a997": "Ybodychange",
    "76e45d6a50da6228c44b04a565dca96432c4b197": "Ybodychange",
    "6aa00766b9103d75c763160280429af8e1f0549e": "Ymultichange(Ybodychange,Yparametermetachange)",
    "83f7246c3e9fe1d3f1ad6cf7ea0715a573fe2f2a": "Yfilerename",
    "b39e430b27a666ec6195d9f77b09b3ae2c21f011": "Ybodychange",
    "5964ce6decf3d7ab3efb7e1a9852b2f85a03ec6d": "Yintroduced"
  },
  "changeHistoryDetails": {
    "e4e03ef4c091f5a35da0d97a6a35224197b8be02": {
      "type": "Ymultichange(Yparameterchange,Ybodychange)",
      "commitMessage": "Fix param names \u0027filename\u0027 -\u003e \u0027fileName\u0027 in code and Javadocs.",
      "commitDate": 1520524225000,
      "commitName": "e4e03ef4c091f5a35da0d97a6a35224197b8be02",
      "commitAuthor": "Gary Gregory",
      "subchanges": [
        {
          "type": "Yparameterchange",
          "commitMessage": "Fix param names \u0027filename\u0027 -\u003e \u0027fileName\u0027 in code and Javadocs.",
          "commitDate": 1520524225000,
          "commitName": "e4e03ef4c091f5a35da0d97a6a35224197b8be02",
          "commitAuthor": "Gary Gregory",
          "commitDateOld": 1520523160000,
          "commitNameOld": "90b2e46494eea8461523c55fd9cf3fe3d1bf00ce",
          "commitAuthorOld": "Gary Gregory",
          "daysBetweenCommits": 0.01,
          "commitsBetweenForRepo": 2,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,16 +1,16 @@\n-    public static String getPrefix(final String filename) {\n-        if (filename \u003d\u003d null) {\n+    public static String getPrefix(final String fileName) {\n+        if (fileName \u003d\u003d null) {\n             return null;\n         }\n-        final int len \u003d getPrefixLength(filename);\n+        final int len \u003d getPrefixLength(fileName);\n         if (len \u003c 0) {\n             return null;\n         }\n-        if (len \u003e filename.length()) {\n-            failIfNullBytePresent(filename + UNIX_SEPARATOR);\n-            return filename + UNIX_SEPARATOR;\n+        if (len \u003e fileName.length()) {\n+            failIfNullBytePresent(fileName + UNIX_SEPARATOR);\n+            return fileName + UNIX_SEPARATOR;\n         }\n-        final String path \u003d filename.substring(0, len);\n+        final String path \u003d fileName.substring(0, len);\n         failIfNullBytePresent(path);\n         return path;\n     }\n\\ No newline at end of file\n",
          "extendedDetails": {}
        },
        {
          "type": "Ybodychange",
          "commitMessage": "Fix param names \u0027filename\u0027 -\u003e \u0027fileName\u0027 in code and Javadocs.",
          "commitDate": 1520524225000,
          "commitName": "e4e03ef4c091f5a35da0d97a6a35224197b8be02",
          "commitAuthor": "Gary Gregory",
          "commitDateOld": 1520523160000,
          "commitNameOld": "90b2e46494eea8461523c55fd9cf3fe3d1bf00ce",
          "commitAuthorOld": "Gary Gregory",
          "daysBetweenCommits": 0.01,
          "commitsBetweenForRepo": 2,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,16 +1,16 @@\n-    public static String getPrefix(final String filename) {\n-        if (filename \u003d\u003d null) {\n+    public static String getPrefix(final String fileName) {\n+        if (fileName \u003d\u003d null) {\n             return null;\n         }\n-        final int len \u003d getPrefixLength(filename);\n+        final int len \u003d getPrefixLength(fileName);\n         if (len \u003c 0) {\n             return null;\n         }\n-        if (len \u003e filename.length()) {\n-            failIfNullBytePresent(filename + UNIX_SEPARATOR);\n-            return filename + UNIX_SEPARATOR;\n+        if (len \u003e fileName.length()) {\n+            failIfNullBytePresent(fileName + UNIX_SEPARATOR);\n+            return fileName + UNIX_SEPARATOR;\n         }\n-        final String path \u003d filename.substring(0, len);\n+        final String path \u003d fileName.substring(0, len);\n         failIfNullBytePresent(path);\n         return path;\n     }\n\\ No newline at end of file\n",
          "extendedDetails": {}
        }
      ]
    },
    "56f2a758983611adea7308e90ae9934c973efa72": {
      "type": "Ybodychange",
      "commitMessage": "Consistently use the final modifier with local variables.",
      "commitDate": 1506632587000,
      "commitName": "56f2a758983611adea7308e90ae9934c973efa72",
      "commitAuthor": "Gary Gregory",
      "commitDateOld": 1506540583000,
      "commitNameOld": "14b52eb4f630f32c66122977331bd894b9474978",
      "commitAuthorOld": "Gary Gregory",
      "daysBetweenCommits": 1.06,
      "commitsBetweenForRepo": 9,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,16 +1,16 @@\n     public static String getPrefix(final String filename) {\n         if (filename \u003d\u003d null) {\n             return null;\n         }\n         final int len \u003d getPrefixLength(filename);\n         if (len \u003c 0) {\n             return null;\n         }\n         if (len \u003e filename.length()) {\n             failIfNullBytePresent(filename + UNIX_SEPARATOR);\n             return filename + UNIX_SEPARATOR;\n         }\n-        String path \u003d filename.substring(0, len);\n+        final String path \u003d filename.substring(0, len);\n         failIfNullBytePresent(path);\n         return path;\n     }\n\\ No newline at end of file\n",
      "extendedDetails": {}
    },
    "5d072ef89fbc2532f621a5a0b4d6791cb926a997": {
      "type": "Ybodychange",
      "commitMessage": "IO-484 Changed solution to always throw exception\n\ngit-svn-id: https://svn.apache.org/repos/asf/commons/proper/io/trunk@1702170 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": 1441866902000,
      "commitName": "5d072ef89fbc2532f621a5a0b4d6791cb926a997",
      "commitAuthor": "Kristian Rosenvold",
      "commitDateOld": 1438863762000,
      "commitNameOld": "76e45d6a50da6228c44b04a565dca96432c4b197",
      "commitAuthorOld": "Kristian Rosenvold",
      "daysBetweenCommits": 34.76,
      "commitsBetweenForRepo": 4,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,13 +1,16 @@\n     public static String getPrefix(final String filename) {\n         if (filename \u003d\u003d null) {\n             return null;\n         }\n         final int len \u003d getPrefixLength(filename);\n         if (len \u003c 0) {\n             return null;\n         }\n         if (len \u003e filename.length()) {\n-            return filterNullBytes(filename + UNIX_SEPARATOR);  // we know this only happens for unix\n+            failIfNullBytePresent(filename + UNIX_SEPARATOR);\n+            return filename + UNIX_SEPARATOR;\n         }\n-        return filterNullBytes(filename.substring(0, len));\n+        String path \u003d filename.substring(0, len);\n+        failIfNullBytePresent(path);\n+        return path;\n     }\n\\ No newline at end of file\n",
      "extendedDetails": {}
    },
    "76e45d6a50da6228c44b04a565dca96432c4b197": {
      "type": "Ybodychange",
      "commitMessage": "IO-484 Added filtering to getPath and getPrefix\n\ngit-svn-id: https://svn.apache.org/repos/asf/commons/proper/io/trunk@1694480 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": 1438863762000,
      "commitName": "76e45d6a50da6228c44b04a565dca96432c4b197",
      "commitAuthor": "Kristian Rosenvold",
      "commitDateOld": 1438861678000,
      "commitNameOld": "afe78a030b57e3f74825e134d6615ef4878778cc",
      "commitAuthorOld": "Kristian Rosenvold",
      "daysBetweenCommits": 0.02,
      "commitsBetweenForRepo": 1,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,13 +1,13 @@\n     public static String getPrefix(final String filename) {\n         if (filename \u003d\u003d null) {\n             return null;\n         }\n         final int len \u003d getPrefixLength(filename);\n         if (len \u003c 0) {\n             return null;\n         }\n         if (len \u003e filename.length()) {\n-            return filename + UNIX_SEPARATOR;  // we know this only happens for unix\n+            return filterNullBytes(filename + UNIX_SEPARATOR);  // we know this only happens for unix\n         }\n-        return filename.substring(0, len);\n+        return filterNullBytes(filename.substring(0, len));\n     }\n\\ No newline at end of file\n",
      "extendedDetails": {}
    },
    "6aa00766b9103d75c763160280429af8e1f0549e": {
      "type": "Ymultichange(Ybodychange,Yparametermetachange)",
      "commitMessage": "Use final where possible.\n\ngit-svn-id: https://svn.apache.org/repos/asf/commons/proper/io/trunk@1415850 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": 1354308699000,
      "commitName": "6aa00766b9103d75c763160280429af8e1f0549e",
      "commitAuthor": "Gary D. Gregory",
      "subchanges": [
        {
          "type": "Ybodychange",
          "commitMessage": "Use final where possible.\n\ngit-svn-id: https://svn.apache.org/repos/asf/commons/proper/io/trunk@1415850 13f79535-47bb-0310-9956-ffa450edef68\n",
          "commitDate": 1354308699000,
          "commitName": "6aa00766b9103d75c763160280429af8e1f0549e",
          "commitAuthor": "Gary D. Gregory",
          "commitDateOld": 1333120391000,
          "commitNameOld": "3ef56378e33ed5ccc296806e4ad6b8c463e5979f",
          "commitAuthorOld": "Gary D. Gregory",
          "daysBetweenCommits": 245.24,
          "commitsBetweenForRepo": 143,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,13 +1,13 @@\n-    public static String getPrefix(String filename) {\n+    public static String getPrefix(final String filename) {\n         if (filename \u003d\u003d null) {\n             return null;\n         }\n-        int len \u003d getPrefixLength(filename);\n+        final int len \u003d getPrefixLength(filename);\n         if (len \u003c 0) {\n             return null;\n         }\n         if (len \u003e filename.length()) {\n             return filename + UNIX_SEPARATOR;  // we know this only happens for unix\n         }\n         return filename.substring(0, len);\n     }\n\\ No newline at end of file\n",
          "extendedDetails": {}
        },
        {
          "type": "Yparametermetachange",
          "commitMessage": "Use final where possible.\n\ngit-svn-id: https://svn.apache.org/repos/asf/commons/proper/io/trunk@1415850 13f79535-47bb-0310-9956-ffa450edef68\n",
          "commitDate": 1354308699000,
          "commitName": "6aa00766b9103d75c763160280429af8e1f0549e",
          "commitAuthor": "Gary D. Gregory",
          "commitDateOld": 1333120391000,
          "commitNameOld": "3ef56378e33ed5ccc296806e4ad6b8c463e5979f",
          "commitAuthorOld": "Gary D. Gregory",
          "daysBetweenCommits": 245.24,
          "commitsBetweenForRepo": 143,
          "commitsBetweenForFile": 1,
          "diff": "@@ -1,13 +1,13 @@\n-    public static String getPrefix(String filename) {\n+    public static String getPrefix(final String filename) {\n         if (filename \u003d\u003d null) {\n             return null;\n         }\n-        int len \u003d getPrefixLength(filename);\n+        final int len \u003d getPrefixLength(filename);\n         if (len \u003c 0) {\n             return null;\n         }\n         if (len \u003e filename.length()) {\n             return filename + UNIX_SEPARATOR;  // we know this only happens for unix\n         }\n         return filename.substring(0, len);\n     }\n\\ No newline at end of file\n",
          "extendedDetails": {}
        }
      ]
    },
    "83f7246c3e9fe1d3f1ad6cf7ea0715a573fe2f2a": {
      "type": "Yfilerename",
      "commitMessage": "Build changes - re-organize to standard m2 layout, remove useless JIRA report and fix some Ant issues\n\ngit-svn-id: https://svn.apache.org/repos/asf/commons/proper/io/trunk@1004358 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": 1286218476000,
      "commitName": "83f7246c3e9fe1d3f1ad6cf7ea0715a573fe2f2a",
      "commitAuthor": "Niall Pemberton",
      "commitDateOld": 1286214840000,
      "commitNameOld": "19f48eb1711427a43a5e10c84bbbf1218a08bdd2",
      "commitAuthorOld": "Niall Pemberton",
      "daysBetweenCommits": 0.04,
      "commitsBetweenForRepo": 1,
      "commitsBetweenForFile": 1,
      "diff": "",
      "extendedDetails": {
        "oldPath": "src/java/org/apache/commons/io/FilenameUtils.java",
        "newPath": "src/main/java/org/apache/commons/io/FilenameUtils.java"
      }
    },
    "b39e430b27a666ec6195d9f77b09b3ae2c21f011": {
      "type": "Ybodychange",
      "commitMessage": "Treat separator at end of filename as sign of directory\nAdjust other methods to this new definition\nAdjust absolute prefix calculation to always end in separator\nAdd new methods that omit the end separator\n\ngit-svn-id: https://svn.apache.org/repos/asf/jakarta/commons/proper/io/trunk@279094 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": 1126039666000,
      "commitName": "b39e430b27a666ec6195d9f77b09b3ae2c21f011",
      "commitAuthor": "Stephen Colebourne",
      "commitDateOld": 1125437023000,
      "commitNameOld": "1bff1d39fe1d9b6be5d7e6c6c821849eeb3391fe",
      "commitAuthorOld": "Stephen Colebourne",
      "daysBetweenCommits": 6.98,
      "commitsBetweenForRepo": 3,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,10 +1,13 @@\n     public static String getPrefix(String filename) {\n         if (filename \u003d\u003d null) {\n             return null;\n         }\n         int len \u003d getPrefixLength(filename);\n         if (len \u003c 0) {\n             return null;\n         }\n+        if (len \u003e filename.length()) {\n+            return filename + UNIX_SEPARATOR;  // we know this only happens for unix\n+        }\n         return filename.substring(0, len);\n     }\n\\ No newline at end of file\n",
      "extendedDetails": {}
    },
    "5964ce6decf3d7ab3efb7e1a9852b2f85a03ec6d": {
      "type": "Yintroduced",
      "commitMessage": "Add methods to handle filename prefixes\n\n\ngit-svn-id: https://svn.apache.org/repos/asf/jakarta/commons/proper/io/trunk@140641 13f79535-47bb-0310-9956-ffa450edef68\n",
      "commitDate": 1101168269000,
      "commitName": "5964ce6decf3d7ab3efb7e1a9852b2f85a03ec6d",
      "commitAuthor": "Stephen Colebourne"
    }
  }
}