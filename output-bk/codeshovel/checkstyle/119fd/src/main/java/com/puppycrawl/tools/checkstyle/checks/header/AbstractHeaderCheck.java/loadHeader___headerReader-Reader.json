{
  "origin": "codeshovel",
  "repositoryName": "checkstyle",
  "repositoryPath": "/home/ncbradley/codeshovel-repos/checkstyle/.git",
  "startCommitName": "119fd4fb33bef9f5c66fc950396669af842c21a3",
  "sourceFileName": "AbstractHeaderCheck.java",
  "functionName": "loadHeader",
  "functionId": "loadHeader___headerReader-Reader",
  "sourceFilePath": "src/main/java/com/puppycrawl/tools/checkstyle/checks/header/AbstractHeaderCheck.java",
  "functionStartLine": 171,
  "functionEndLine": 189,
  "changeHistory": [
    "93fad3431170aa0a288b5b32355ec037afe35cc8",
    "4c10bc55b4aea0f7e3b95b06d820eedb7c6a6fb2",
    "acd37a5e5f7e46edf98d03403442e321675de468",
    "44119413b68542bb1db3f50d2585834b9d00d1b3",
    "cb5a59fc6baf5de204e3cc99be6ba9865e44350a",
    "f1e80e4ecae727087ca135dfd02f72e2d6213efb",
    "29027109bf962f47b6a6000fdca69b5679ce4b43",
    "f1efb27670a93690577f1bae17fc9dcbd88a795d",
    "b83c9aceef9577eaada5cfd78bc7b2cd04a176d1",
    "bf16d371dab210594755d04afc4697269ed088c0",
    "7552a0b72e07c9a0070e84789b5abe6d293de6e0",
    "85a9c1f13f06baf70c00e62d8bb91507aeb3a72d",
    "6f1f7bd3fdcca84404e97964b3e48de6db5024ec",
    "d1a297476448ea9feec80af04416f198dc462bca"
  ],
  "changeHistoryShort": {
    "93fad3431170aa0a288b5b32355ec037afe35cc8": "Ybodychange",
    "4c10bc55b4aea0f7e3b95b06d820eedb7c6a6fb2": "Ybodychange",
    "acd37a5e5f7e46edf98d03403442e321675de468": "Ybodychange",
    "44119413b68542bb1db3f50d2585834b9d00d1b3": "Ybodychange",
    "cb5a59fc6baf5de204e3cc99be6ba9865e44350a": "Ybodychange",
    "f1e80e4ecae727087ca135dfd02f72e2d6213efb": "Ybodychange",
    "29027109bf962f47b6a6000fdca69b5679ce4b43": "Ymultichange(Yparameterchange,Ybodychange)",
    "f1efb27670a93690577f1bae17fc9dcbd88a795d": "Yfilerename",
    "b83c9aceef9577eaada5cfd78bc7b2cd04a176d1": "Ymovefromfile",
    "bf16d371dab210594755d04afc4697269ed088c0": "Ybodychange",
    "7552a0b72e07c9a0070e84789b5abe6d293de6e0": "Ybodychange",
    "85a9c1f13f06baf70c00e62d8bb91507aeb3a72d": "Ybodychange",
    "6f1f7bd3fdcca84404e97964b3e48de6db5024ec": "Ymultichange(Yfilerename,Ybodychange)",
    "d1a297476448ea9feec80af04416f198dc462bca": "Yintroduced"
  },
  "changeHistoryDetails": {
    "93fad3431170aa0a288b5b32355ec037afe35cc8": {
      "type": "Ybodychange",
      "commitMessage": "Issue #4735: make RegexpHeaderCheck detect and enforce regex having \u0027\\n\\n\u0027\n",
      "commitDate": 1501785106000,
      "commitName": "93fad3431170aa0a288b5b32355ec037afe35cc8",
      "commitAuthor": "Vivek Rao",
      "commitDateOld": 1500859159000,
      "commitNameOld": "4c10bc55b4aea0f7e3b95b06d820eedb7c6a6fb2",
      "commitAuthorOld": "vasilyeva",
      "daysBetweenCommits": 10.72,
      "commitsBetweenForRepo": 59,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,17 +1,20 @@\n     private void loadHeader(final Reader headerReader) throws IOException {\n         final LineNumberReader lnr \u003d new LineNumberReader(headerReader);\n         try {\n             while (true) {\n-                final String line \u003d lnr.readLine();\n+                String line \u003d lnr.readLine();\n                 if (line \u003d\u003d null) {\n                     break;\n                 }\n+                if (line.isEmpty()) {\n+                    line \u003d \"^$\";\n+                }\n                 readerLines.add(line);\n             }\n             postProcessHeaderLines();\n         }\n         finally {\n             Closeables.closeQuietly(lnr);\n         }\n \n     }\n\\ No newline at end of file\n"
    },
    "4c10bc55b4aea0f7e3b95b06d820eedb7c6a6fb2": {
      "type": "Ybodychange",
      "commitMessage": "Issue #4724: fix all violations from the sixth part of idea violations\n",
      "commitDate": 1500859159000,
      "commitName": "4c10bc55b4aea0f7e3b95b06d820eedb7c6a6fb2",
      "commitAuthor": "vasilyeva",
      "commitDateOld": 1500732617000,
      "commitNameOld": "acd37a5e5f7e46edf98d03403442e321675de468",
      "commitAuthorOld": "vasilyeva",
      "daysBetweenCommits": 1.46,
      "commitsBetweenForRepo": 8,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,11 +1,17 @@\n     private void loadHeader(final Reader headerReader) throws IOException {\n         final LineNumberReader lnr \u003d new LineNumberReader(headerReader);\n-        while (true) {\n-            final String line \u003d lnr.readLine();\n-            if (line \u003d\u003d null) {\n-                break;\n+        try {\n+            while (true) {\n+                final String line \u003d lnr.readLine();\n+                if (line \u003d\u003d null) {\n+                    break;\n+                }\n+                readerLines.add(line);\n             }\n-            readerLines.add(line);\n+            postProcessHeaderLines();\n         }\n-        postProcessHeaderLines();\n+        finally {\n+            Closeables.closeQuietly(lnr);\n+        }\n+\n     }\n\\ No newline at end of file\n"
    },
    "acd37a5e5f7e46edf98d03403442e321675de468": {
      "type": "Ybodychange",
      "commitMessage": "Issue #4401: increase coverage of pitest-checks-header profile to 100%\n",
      "commitDate": 1500732617000,
      "commitName": "acd37a5e5f7e46edf98d03403442e321675de468",
      "commitAuthor": "vasilyeva",
      "commitDateOld": 1488165925000,
      "commitNameOld": "ce21086e087661553f3a774c38362327ee88996a",
      "commitAuthorOld": "Vladislav Lisetskii",
      "daysBetweenCommits": 145.45,
      "commitsBetweenForRepo": 592,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,12 +1,11 @@\n     private void loadHeader(final Reader headerReader) throws IOException {\n-        readerLines.clear();\n         final LineNumberReader lnr \u003d new LineNumberReader(headerReader);\n         while (true) {\n             final String line \u003d lnr.readLine();\n             if (line \u003d\u003d null) {\n                 break;\n             }\n             readerLines.add(line);\n         }\n         postProcessHeaderLines();\n     }\n\\ No newline at end of file\n"
    },
    "44119413b68542bb1db3f50d2585834b9d00d1b3": {
      "type": "Ybodychange",
      "commitMessage": "minor: fix IntelijIdea violations of \u0027Scope of variable lnr is too broad\u0027\n",
      "commitDate": 1468298833000,
      "commitName": "44119413b68542bb1db3f50d2585834b9d00d1b3",
      "commitAuthor": "Roman Ivanov",
      "commitDateOld": 1464356569000,
      "commitNameOld": "39b343a32a4f1ce18ee98a34618fda0a5404d6a0",
      "commitAuthorOld": "rnveach",
      "daysBetweenCommits": 45.63,
      "commitsBetweenForRepo": 123,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,12 +1,12 @@\n     private void loadHeader(final Reader headerReader) throws IOException {\n-        final LineNumberReader lnr \u003d new LineNumberReader(headerReader);\n         readerLines.clear();\n+        final LineNumberReader lnr \u003d new LineNumberReader(headerReader);\n         while (true) {\n             final String line \u003d lnr.readLine();\n             if (line \u003d\u003d null) {\n                 break;\n             }\n             readerLines.add(line);\n         }\n         postProcessHeaderLines();\n     }\n\\ No newline at end of file\n"
    },
    "cb5a59fc6baf5de204e3cc99be6ba9865e44350a": {
      "type": "Ybodychange",
      "commitMessage": "Fix typos in blocks, headers and filters packages. #1555\n\nFixes some `SpellCheckingInspection` inspection violations.\n\nDescription:\n\u003eSpellchecker inspection helps locate typos and misspelling in your code, comments and literals.\n",
      "commitDate": 1440739668000,
      "commitName": "cb5a59fc6baf5de204e3cc99be6ba9865e44350a",
      "commitAuthor": "Michal Kordas",
      "commitDateOld": 1440502318000,
      "commitNameOld": "7b14802231d6031a6b31565328dc0ddd80c7d2c6",
      "commitAuthorOld": "Michal Kordas",
      "daysBetweenCommits": 2.75,
      "commitsBetweenForRepo": 73,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,12 +1,12 @@\n     private void loadHeader(final Reader headerReader) throws IOException {\n         final LineNumberReader lnr \u003d new LineNumberReader(headerReader);\n         readerLines.clear();\n         while (true) {\n             final String line \u003d lnr.readLine();\n             if (line \u003d\u003d null) {\n                 break;\n             }\n             readerLines.add(line);\n         }\n-        postprocessHeaderLines();\n+        postProcessHeaderLines();\n     }\n\\ No newline at end of file\n"
    },
    "f1e80e4ecae727087ca135dfd02f72e2d6213efb": {
      "type": "Ybodychange",
      "commitMessage": "Rename variables with \u0027standard\u0027 names of unexpected types. #1555\n\nFixes `StandardVariableNames` inspection violations.\n\nDescription:\n\u003eReports on any variables with \u0027standard\u0027 names which are of unexpected types. Such names may be confusing. Standard names and types are as follows:\n* i, j, k, m, n - int\n* f - float\n* d - double\n* b - byte\n* c, ch - char\n* l - long\n* s, str - String\n",
      "commitDate": 1439008721000,
      "commitName": "f1e80e4ecae727087ca135dfd02f72e2d6213efb",
      "commitAuthor": "Michal Kordas",
      "commitDateOld": 1438566538000,
      "commitNameOld": "111bd4b1df19e62bb76bbf83cfefa9ac5066c98a",
      "commitAuthorOld": "Michal Kordas",
      "daysBetweenCommits": 5.12,
      "commitsBetweenForRepo": 37,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,12 +1,12 @@\n     private void loadHeader(final Reader headerReader) throws IOException {\n         final LineNumberReader lnr \u003d new LineNumberReader(headerReader);\n         readerLines.clear();\n         while (true) {\n-            final String l \u003d lnr.readLine();\n-            if (l \u003d\u003d null) {\n+            final String line \u003d lnr.readLine();\n+            if (line \u003d\u003d null) {\n                 break;\n             }\n-            readerLines.add(l);\n+            readerLines.add(line);\n         }\n         postprocessHeaderLines();\n     }\n\\ No newline at end of file\n"
    },
    "29027109bf962f47b6a6000fdca69b5679ce4b43": {
      "type": "Ymultichange(Yparameterchange,Ybodychange)",
      "commitMessage": "Prefixes, header, #512\n",
      "commitDate": 1421678132000,
      "commitName": "29027109bf962f47b6a6000fdca69b5679ce4b43",
      "commitAuthor": "alexkravin",
      "subchanges": [
        "Yparameterchange",
        "Ybodychange"
      ]
    },
    "f1efb27670a93690577f1bae17fc9dcbd88a795d": {
      "type": "Yfilerename",
      "commitMessage": "moving to standard directory layout\n",
      "commitDate": 1393953491000,
      "commitName": "f1efb27670a93690577f1bae17fc9dcbd88a795d",
      "commitAuthor": "Ivan Sopov",
      "commitDateOld": 1393482905000,
      "commitNameOld": "1cdaeaaa4fbf02a7388f1fcbea1c86ef0ea32fed",
      "commitAuthorOld": "Andrew Gaul",
      "daysBetweenCommits": 5.45,
      "commitsBetweenForRepo": 1,
      "commitsBetweenForFile": 1,
      "diff": ""
    },
    "b83c9aceef9577eaada5cfd78bc7b2cd04a176d1": {
      "type": "Ymovefromfile",
      "commitMessage": "Simplified the code by removing HeaderInfo classes, they were introduced to avoid code duplication between header checks in two separate inheritance trees (Java Check vs. FileSetCheck). Now that we have only FileSetChecks as Header checks, this delegation is no longer necessary.\n",
      "commitDate": 1233868969000,
      "commitName": "b83c9aceef9577eaada5cfd78bc7b2cd04a176d1",
      "commitAuthor": "Lars Kühne",
      "commitDateOld": 1231647012000,
      "commitNameOld": "9cff1673f1d42910c654e0af5365d68591f104f0",
      "commitAuthorOld": "Oliver Burn",
      "daysBetweenCommits": 25.72,
      "commitsBetweenForRepo": 1,
      "commitsBetweenForFile": 1,
      "diff": ""
    },
    "bf16d371dab210594755d04afc4697269ed088c0": {
      "type": "Ybodychange",
      "commitMessage": "converting the header checks to be fileset based.\n",
      "commitDate": 1226831412000,
      "commitName": "bf16d371dab210594755d04afc4697269ed088c0",
      "commitAuthor": "Oliver Burn",
      "commitDateOld": 1225956072000,
      "commitNameOld": "bd8a1a545fd1bc19d5f84c5061c5383796a7c588",
      "commitAuthorOld": "Oliver Burn",
      "daysBetweenCommits": 10.13,
      "commitsBetweenForRepo": 8,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,14 +1,13 @@\n     private void loadHeader(final Reader aHeaderReader) throws IOException\n     {\n         final LineNumberReader lnr \u003d new LineNumberReader(aHeaderReader);\n-        final ArrayList\u003cString\u003e lines \u003d Lists.newArrayList();\n+        mHeaderLines.clear();\n         while (true) {\n             final String l \u003d lnr.readLine();\n             if (l \u003d\u003d null) {\n                 break;\n             }\n-            lines.add(l);\n+            mHeaderLines.add(l);\n         }\n-        mHeaderLines \u003d lines.toArray(new String[lines.size()]);\n         postprocessHeaderLines();\n     }\n\\ No newline at end of file\n"
    },
    "7552a0b72e07c9a0070e84789b5abe6d293de6e0": {
      "type": "Ybodychange",
      "commitMessage": "Drinking the \"Google Collections\" Kool-Aid.\n\nI like the reduced duplication.\n",
      "commitDate": 1208867287000,
      "commitName": "7552a0b72e07c9a0070e84789b5abe6d293de6e0",
      "commitAuthor": "Oliver Burn",
      "commitDateOld": 1200192438000,
      "commitNameOld": "5a7e221b757e91d49be1aea105eb4b839e653fbd",
      "commitAuthorOld": "Oliver Burn",
      "daysBetweenCommits": 100.4,
      "commitsBetweenForRepo": 34,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,14 +1,14 @@\n     private void loadHeader(final Reader aHeaderReader) throws IOException\n     {\n         final LineNumberReader lnr \u003d new LineNumberReader(aHeaderReader);\n-        final ArrayList\u003cString\u003e lines \u003d new ArrayList\u003cString\u003e();\n+        final ArrayList\u003cString\u003e lines \u003d Lists.newArrayList();\n         while (true) {\n             final String l \u003d lnr.readLine();\n             if (l \u003d\u003d null) {\n                 break;\n             }\n             lines.add(l);\n         }\n         mHeaderLines \u003d lines.toArray(new String[lines.size()]);\n         postprocessHeaderLines();\n     }\n\\ No newline at end of file\n"
    },
    "85a9c1f13f06baf70c00e62d8bb91507aeb3a72d": {
      "type": "Ybodychange",
      "commitMessage": "Start of adding generics.\n",
      "commitDate": 1197694270000,
      "commitName": "85a9c1f13f06baf70c00e62d8bb91507aeb3a72d",
      "commitAuthor": "Oliver Burn",
      "commitDateOld": 1169909494000,
      "commitNameOld": "1efc394250b8f1c79bd7f8344b738a7d13396ed3",
      "commitAuthorOld": "Lars Kühne",
      "daysBetweenCommits": 321.58,
      "commitsBetweenForRepo": 29,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,14 +1,14 @@\n     private void loadHeader(final Reader aHeaderReader) throws IOException\n     {\n         final LineNumberReader lnr \u003d new LineNumberReader(aHeaderReader);\n-        final ArrayList lines \u003d new ArrayList();\n+        final ArrayList\u003cString\u003e lines \u003d new ArrayList\u003cString\u003e();\n         while (true) {\n             final String l \u003d lnr.readLine();\n             if (l \u003d\u003d null) {\n                 break;\n             }\n             lines.add(l);\n         }\n-        mHeaderLines \u003d (String[]) lines.toArray(new String[lines.size()]);\n+        mHeaderLines \u003d lines.toArray(new String[lines.size()]);\n         postprocessHeaderLines();\n     }\n\\ No newline at end of file\n"
    },
    "6f1f7bd3fdcca84404e97964b3e48de6db5024ec": {
      "type": "Ymultichange(Yfilerename,Ybodychange)",
      "commitMessage": "Added CrossLanguageRegexpHeaderCheck. This involved some refactorings to avoid duplicate code, so lots of files are affected\n- moved AbstractHeaderCheck to header package\n- moved file extension filtering code to Utils, so it\u0027s available not only from FileSetChecks\n- moved regexp header checking logic to RegexpHeaderChecker bean\n- moved check initialization logic and parameter checking to HeaderInfo classes\n",
      "commitDate": 1161290108000,
      "commitName": "6f1f7bd3fdcca84404e97964b3e48de6db5024ec",
      "commitAuthor": "Lars Kühne",
      "subchanges": [
        "Yfilerename",
        "Ybodychange"
      ]
    },
    "d1a297476448ea9feec80af04416f198dc462bca": {
      "type": "Yintroduced",
      "commitMessage": "rfe #1041590, allow header specification directly in checkstyle config file\n",
      "commitDate": 1097946784000,
      "commitName": "d1a297476448ea9feec80af04416f198dc462bca",
      "commitAuthor": "Lars Kühne"
    }
  }
}