{
  "origin": "codeshovel",
  "repositoryName": "checkstyle",
  "repositoryPath": "/home/ncbradley/codeshovel-repos/checkstyle/.git",
  "startCommitName": "119fd4fb33bef9f5c66fc950396669af842c21a3",
  "sourceFileName": "DetailAST.java",
  "functionName": "setParent",
  "functionId": "setParent___parent-DetailAST",
  "sourceFilePath": "src/main/java/com/puppycrawl/tools/checkstyle/api/DetailAST.java",
  "functionStartLine": 202,
  "functionEndLine": 214,
  "changeHistory": [
    "cc2886ef2ce994219bdd2427f820a7ac3738916b",
    "4b7adec5ae396e24d3d0bf0d790919a45bac5421",
    "2577c4121ca5a1f4809d2f705123a577dfb08d71",
    "8ad9441bbb78695a924be63444222ae80cfcf114",
    "97956e1ae5d6842401ea0bfab121e8fb8d51c14d",
    "dd6b080a16e0933b3d19305f84ba01c8893839f3",
    "b94bac0719851b65b59b4aafc5bd3ef029321ed7",
    "f1efb27670a93690577f1bae17fc9dcbd88a795d",
    "d62a2cc02092cb6c1a1666630a51a6ec7c50a878",
    "e3929c641ca2c2ef08d90ee506db556529088326",
    "5d7063c660b241bce251f1a8c89394619f2791fb",
    "3925906faee1cf9310942708e2946d3e598f5f71",
    "278b12b7c2129d8139f1245ea69ec352e369172f",
    "663a1a72f4e81c0aa7f9ba359d2d38447c14e8bf",
    "d905adf77e22e301831cd4f68d4462171f5b9b6b"
  ],
  "changeHistoryShort": {
    "cc2886ef2ce994219bdd2427f820a7ac3738916b": "Ybodychange",
    "4b7adec5ae396e24d3d0bf0d790919a45bac5421": "Ybodychange",
    "2577c4121ca5a1f4809d2f705123a577dfb08d71": "Ybodychange",
    "8ad9441bbb78695a924be63444222ae80cfcf114": "Ymodifierchange",
    "97956e1ae5d6842401ea0bfab121e8fb8d51c14d": "Ybodychange",
    "dd6b080a16e0933b3d19305f84ba01c8893839f3": "Ybodychange",
    "b94bac0719851b65b59b4aafc5bd3ef029321ed7": "Ymultichange(Yparameterchange,Ybodychange)",
    "f1efb27670a93690577f1bae17fc9dcbd88a795d": "Yfilerename",
    "d62a2cc02092cb6c1a1666630a51a6ec7c50a878": "Ybodychange",
    "e3929c641ca2c2ef08d90ee506db556529088326": "Ybodychange",
    "5d7063c660b241bce251f1a8c89394619f2791fb": "Ybodychange",
    "3925906faee1cf9310942708e2946d3e598f5f71": "Ybodychange",
    "278b12b7c2129d8139f1245ea69ec352e369172f": "Ymodifierchange",
    "663a1a72f4e81c0aa7f9ba359d2d38447c14e8bf": "Ybodychange",
    "d905adf77e22e301831cd4f68d4462171f5b9b6b": "Yintroduced"
  },
  "changeHistoryDetails": {
    "cc2886ef2ce994219bdd2427f820a7ac3738916b": {
      "type": "Ybodychange",
      "commitMessage": "Issue #4563: fixed stackoverflow with DetailAST.setParent",
      "commitDate": 1501870730000,
      "commitName": "cc2886ef2ce994219bdd2427f820a7ac3738916b",
      "commitAuthor": "rnveach",
      "commitDateOld": 1500859159000,
      "commitNameOld": "4c10bc55b4aea0f7e3b95b06d820eedb7c6a6fb2",
      "commitAuthorOld": "vasilyeva",
      "daysBetweenCommits": 11.71,
      "commitsBetweenForRepo": 60,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,9 +1,13 @@\n     private void setParent(DetailAST parent) {\n-        clearBranchTokenTypes();\n-        this.parent \u003d parent;\n-        final DetailAST nextSibling \u003d getNextSibling();\n-        if (nextSibling !\u003d null) {\n-            nextSibling.setParent(parent);\n-            nextSibling.previousSibling \u003d this;\n-        }\n+        DetailAST instance \u003d this;\n+        do {\n+            instance.clearBranchTokenTypes();\n+            instance.parent \u003d parent;\n+            final DetailAST nextSibling \u003d instance.getNextSibling();\n+            if (nextSibling !\u003d null) {\n+                nextSibling.previousSibling \u003d instance;\n+            }\n+\n+            instance \u003d nextSibling;\n+        } while (instance !\u003d null);\n     }\n\\ No newline at end of file\n"
    },
    "4b7adec5ae396e24d3d0bf0d790919a45bac5421": {
      "type": "Ybodychange",
      "commitMessage": "Issue #3486: clear childCount field cache in DetailAST",
      "commitDate": 1475368053000,
      "commitName": "4b7adec5ae396e24d3d0bf0d790919a45bac5421",
      "commitAuthor": "rnveach",
      "commitDateOld": 1475273624000,
      "commitNameOld": "2577c4121ca5a1f4809d2f705123a577dfb08d71",
      "commitAuthorOld": "Andrei Selkin",
      "daysBetweenCommits": 1.09,
      "commitsBetweenForRepo": 1,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,9 +1,9 @@\n     private void setParent(DetailAST parent) {\n-        clearBranchTokenTypesCache();\n+        clearBranchTokenTypes();\n         this.parent \u003d parent;\n         final DetailAST nextSibling \u003d getNextSibling();\n         if (nextSibling !\u003d null) {\n             nextSibling.setParent(parent);\n             nextSibling.previousSibling \u003d this;\n         }\n     }\n\\ No newline at end of file\n"
    },
    "2577c4121ca5a1f4809d2f705123a577dfb08d71": {
      "type": "Ybodychange",
      "commitMessage": "Issue #3466: Clear branchTokenTypes field cache in DetailAST before changing its structure\n",
      "commitDate": 1475273624000,
      "commitName": "2577c4121ca5a1f4809d2f705123a577dfb08d71",
      "commitAuthor": "Andrei Selkin",
      "commitDateOld": 1455999924000,
      "commitNameOld": "8ad9441bbb78695a924be63444222ae80cfcf114",
      "commitAuthorOld": "Vladislav Lisetskiy",
      "daysBetweenCommits": 223.08,
      "commitsBetweenForRepo": 441,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,8 +1,9 @@\n     private void setParent(DetailAST parent) {\n+        clearBranchTokenTypesCache();\n         this.parent \u003d parent;\n         final DetailAST nextSibling \u003d getNextSibling();\n         if (nextSibling !\u003d null) {\n             nextSibling.setParent(parent);\n             nextSibling.previousSibling \u003d this;\n         }\n     }\n\\ No newline at end of file\n"
    },
    "8ad9441bbb78695a924be63444222ae80cfcf114": {
      "type": "Ymodifierchange",
      "commitMessage": "Issue #957: Forbid @VisibleForTesting\n",
      "commitDate": 1455999924000,
      "commitName": "8ad9441bbb78695a924be63444222ae80cfcf114",
      "commitAuthor": "Vladislav Lisetskiy",
      "commitDateOld": 1454595765000,
      "commitNameOld": "8a8e938c5cdd6a0a0f638b0605103df53381dfb5",
      "commitAuthorOld": "Roman Ivanov",
      "daysBetweenCommits": 16.25,
      "commitsBetweenForRepo": 64,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,8 +1,8 @@\n-    void setParent(DetailAST parent) {\n+    private void setParent(DetailAST parent) {\n         this.parent \u003d parent;\n         final DetailAST nextSibling \u003d getNextSibling();\n         if (nextSibling !\u003d null) {\n             nextSibling.setParent(parent);\n             nextSibling.previousSibling \u003d this;\n         }\n     }\n\\ No newline at end of file\n"
    },
    "97956e1ae5d6842401ea0bfab121e8fb8d51c14d": {
      "type": "Ybodychange",
      "commitMessage": "Inline simple setters. #1555\n\nFixes `CallToSimpleSetterInClass` inspection violations.\n\nDescription:\n\u003eReports any calls to a simple property setter from within the property\u0027s class. A simple property setter is defined as one which simply assigns the value of its parameter to a field, and does no other calculation. Such simple setter calls may be safely inlined, at a small performance improvement. Some coding standards also suggest against the use of simple setters for code clarity reasons.\n",
      "commitDate": 1440161574000,
      "commitName": "97956e1ae5d6842401ea0bfab121e8fb8d51c14d",
      "commitAuthor": "Michal Kordas",
      "commitDateOld": 1440158741000,
      "commitNameOld": "23a1b6253f6296c1a3888361953da47f2808ca3d",
      "commitAuthorOld": "Baratali Izmailov",
      "daysBetweenCommits": 0.03,
      "commitsBetweenForRepo": 7,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,8 +1,8 @@\n     void setParent(DetailAST parent) {\n         this.parent \u003d parent;\n         final DetailAST nextSibling \u003d getNextSibling();\n         if (nextSibling !\u003d null) {\n             nextSibling.setParent(parent);\n-            nextSibling.setPreviousSibling(this);\n+            nextSibling.previousSibling \u003d this;\n         }\n     }\n\\ No newline at end of file\n"
    },
    "dd6b080a16e0933b3d19305f84ba01c8893839f3": {
      "type": "Ybodychange",
      "commitMessage": "all TODO/FIXME were removed , some of them converted to issues\n",
      "commitDate": 1429810711000,
      "commitName": "dd6b080a16e0933b3d19305f84ba01c8893839f3",
      "commitAuthor": "Roman Ivanov",
      "commitDateOld": 1426023398000,
      "commitNameOld": "1bd30555eac039d0486dffb3fc43b7a34117909b",
      "commitAuthorOld": "Michal Kordas",
      "daysBetweenCommits": 43.83,
      "commitsBetweenForRepo": 199,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,11 +1,9 @@\n     void setParent(DetailAST parent)\n     {\n-        // TODO: Check visibility, could be private\n-        // if set in setFirstChild() and friends\n         this.parent \u003d parent;\n         final DetailAST nextSibling \u003d getNextSibling();\n         if (nextSibling !\u003d null) {\n             nextSibling.setParent(parent);\n             nextSibling.setPreviousSibling(this);\n         }\n     }\n\\ No newline at end of file\n"
    },
    "b94bac0719851b65b59b4aafc5bd3ef029321ed7": {
      "type": "Ymultichange(Yparameterchange,Ybodychange)",
      "commitMessage": "Prefixes, api, #512\n",
      "commitDate": 1421677181000,
      "commitName": "b94bac0719851b65b59b4aafc5bd3ef029321ed7",
      "commitAuthor": "alexkravin",
      "subchanges": [
        "Yparameterchange",
        "Ybodychange"
      ]
    },
    "f1efb27670a93690577f1bae17fc9dcbd88a795d": {
      "type": "Yfilerename",
      "commitMessage": "moving to standard directory layout\n",
      "commitDate": 1393953491000,
      "commitName": "f1efb27670a93690577f1bae17fc9dcbd88a795d",
      "commitAuthor": "Ivan Sopov",
      "commitDateOld": 1393482905000,
      "commitNameOld": "1cdaeaaa4fbf02a7388f1fcbea1c86ef0ea32fed",
      "commitAuthorOld": "Andrew Gaul",
      "daysBetweenCommits": 5.45,
      "commitsBetweenForRepo": 1,
      "commitsBetweenForFile": 1,
      "diff": ""
    },
    "d62a2cc02092cb6c1a1666630a51a6ec7c50a878": {
      "type": "Ybodychange",
      "commitMessage": "Inspired by patch# 2111354 - changes to remove casting. Neat trick\n",
      "commitDate": 1221737656000,
      "commitName": "d62a2cc02092cb6c1a1666630a51a6ec7c50a878",
      "commitAuthor": "Oliver Burn",
      "commitDateOld": 1200352313000,
      "commitNameOld": "315033ff5647ef9896130573d9212fee6fe141db",
      "commitAuthorOld": "Oliver Burn",
      "daysBetweenCommits": 247.52,
      "commitsBetweenForRepo": 67,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,11 +1,11 @@\n     void setParent(DetailAST aParent)\n     {\n         // TODO: Check visibility, could be private\n         // if set in setFirstChild() and friends\n         mParent \u003d aParent;\n-        final DetailAST nextSibling \u003d (DetailAST) getNextSibling();\n+        final DetailAST nextSibling \u003d getNextSibling();\n         if (nextSibling !\u003d null) {\n             nextSibling.setParent(aParent);\n             nextSibling.setPreviousSibling(this);\n         }\n     }\n\\ No newline at end of file\n"
    },
    "e3929c641ca2c2ef08d90ee506db556529088326": {
      "type": "Ybodychange",
      "commitMessage": "Fixed implementation of DetailAST so getPreviousSibling() works for\nall nodes in AST tree (bug 1244994)\nNow we set next sibling during tree creation, instead of calculating\nit (the calculation doesn\u0027t work if parent is null as for toplevel\nnodes such as package, import and class definition).\nAdded test which verify correct tree structure for all testinputs.\n",
      "commitDate": 1122418580000,
      "commitName": "e3929c641ca2c2ef08d90ee506db556529088326",
      "commitAuthor": "Oleg Sukhodolsky",
      "commitDateOld": 1121777024000,
      "commitNameOld": "cbabd6b314a5523a5557e089858d3a3596426d56",
      "commitAuthorOld": "Oliver Burn",
      "daysBetweenCommits": 7.43,
      "commitsBetweenForRepo": 8,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,10 +1,11 @@\n     void setParent(DetailAST aParent)\n     {\n         // TODO: Check visibility, could be private\n         // if set in setFirstChild() and friends\n         mParent \u003d aParent;\n         final DetailAST nextSibling \u003d (DetailAST) getNextSibling();\n         if (nextSibling !\u003d null) {\n             nextSibling.setParent(aParent);\n+            nextSibling.setPreviousSibling(this);\n         }\n     }\n\\ No newline at end of file\n"
    },
    "5d7063c660b241bce251f1a8c89394619f2791fb": {
      "type": "Ybodychange",
      "commitMessage": "Tighten up code\n",
      "commitDate": 1093527252000,
      "commitName": "5d7063c660b241bce251f1a8c89394619f2791fb",
      "commitAuthor": "Oliver Burn",
      "commitDateOld": 1074114639000,
      "commitNameOld": "5670252b46f4915b276e647fa000361915eb4ff4",
      "commitAuthorOld": "Oliver Burn",
      "daysBetweenCommits": 224.68,
      "commitsBetweenForRepo": 137,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,10 +1,10 @@\n     void setParent(DetailAST aParent)\n     {\n         // TODO: Check visibility, could be private\n         // if set in setFirstChild() and friends\n         mParent \u003d aParent;\n-        DetailAST nextSibling \u003d (DetailAST) getNextSibling();\n+        final DetailAST nextSibling \u003d (DetailAST) getNextSibling();\n         if (nextSibling !\u003d null) {\n             nextSibling.setParent(aParent);\n         }\n     }\n\\ No newline at end of file\n"
    },
    "3925906faee1cf9310942708e2946d3e598f5f71": {
      "type": "Ybodychange",
      "commitMessage": "fix for DetailAST\u0027s parent problem\n",
      "commitDate": 1053604084000,
      "commitName": "3925906faee1cf9310942708e2946d3e598f5f71",
      "commitAuthor": "Oleg Sukhodolsky",
      "commitDateOld": 1046508931000,
      "commitNameOld": "4e87da6beaffd30841834800675f4b7bf1864a74",
      "commitAuthorOld": "Lars Kühne",
      "daysBetweenCommits": 82.12,
      "commitsBetweenForRepo": 171,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,6 +1,10 @@\n     void setParent(DetailAST aParent)\n     {\n         // TODO: Check visibility, could be private\n         // if set in setFirstChild() and friends\n         mParent \u003d aParent;\n+        DetailAST nextSibling \u003d (DetailAST) getNextSibling();\n+        if (nextSibling !\u003d null) {\n+            nextSibling.setParent(aParent);\n+        }\n     }\n\\ No newline at end of file\n"
    },
    "278b12b7c2129d8139f1245ea69ec352e369172f": {
      "type": "Ymodifierchange",
      "commitMessage": "Removed DetailsAST.setParent() from public API.\n\nI\u0027m scaring myself with the techniques I used to achieve this, but\nI opted for getting the API right. We can\u0027t fix the API once\nit\u0027s out the door, whereas we can try to remove this hack later after\nmore investigation how ANLTR works.\n",
      "commitDate": 1039864162000,
      "commitName": "278b12b7c2129d8139f1245ea69ec352e369172f",
      "commitAuthor": "Lars Kühne",
      "commitDateOld": 1039500415000,
      "commitNameOld": "30bb5b3a281df774274b32a4dc79a1dcb312ecf3",
      "commitAuthorOld": "Lars Kühne",
      "daysBetweenCommits": 4.21,
      "commitsBetweenForRepo": 21,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,6 +1,6 @@\n-    public void setParent(DetailAST aParent)\n+    void setParent(DetailAST aParent)\n     {\n         // TODO: Check visibility, could be private\n         // if set in setFirstChild() and friends\n         mParent \u003d aParent;\n     }\n\\ No newline at end of file\n"
    },
    "663a1a72f4e81c0aa7f9ba359d2d38447c14e8bf": {
      "type": "Ybodychange",
      "commitMessage": "Fixed Checkstyle errors\n",
      "commitDate": 1036016919000,
      "commitName": "663a1a72f4e81c0aa7f9ba359d2d38447c14e8bf",
      "commitAuthor": "Oliver Burn",
      "commitDateOld": 1035822478000,
      "commitNameOld": "59c9c64381dd92bc877f5a834dae7856603d5546",
      "commitAuthorOld": "Lars Kühne",
      "daysBetweenCommits": 2.25,
      "commitsBetweenForRepo": 13,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,4 +1,6 @@\n     public void setParent(DetailAST aParent)\n     {\n+        // TODO: Check visibility, could be private\n+        // if set in setFirstChild() and friends\n         mParent \u003d aParent;\n     }\n\\ No newline at end of file\n"
    },
    "d905adf77e22e301831cd4f68d4462171f5b9b6b": {
      "type": "Yintroduced",
      "commitMessage": "the start of an interesting adventure\n",
      "commitDate": 1032088021000,
      "commitName": "d905adf77e22e301831cd4f68d4462171f5b9b6b",
      "commitAuthor": "Oliver Burn"
    }
  }
}