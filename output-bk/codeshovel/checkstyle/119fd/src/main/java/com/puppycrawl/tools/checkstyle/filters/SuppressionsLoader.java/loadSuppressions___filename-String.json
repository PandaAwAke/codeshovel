{
  "origin": "codeshovel",
  "repositoryName": "checkstyle",
  "repositoryPath": "/home/ncbradley/codeshovel-repos/checkstyle/.git",
  "startCommitName": "119fd4fb33bef9f5c66fc950396669af842c21a3",
  "sourceFileName": "SuppressionsLoader.java",
  "functionName": "loadSuppressions",
  "functionId": "loadSuppressions___filename-String",
  "sourceFilePath": "src/main/java/com/puppycrawl/tools/checkstyle/filters/SuppressionsLoader.java",
  "functionStartLine": 200,
  "functionEndLine": 206,
  "changeHistory": [
    "526c9d0cbabd8ed8f3a26c45a7a6bc0a5c158c0c",
    "57b908199dfa5c2c9bf9388d92925ccfb312812f",
    "4fd298b00126d60147dce7631c6e0d3e0921f82f",
    "111bd4b1df19e62bb76bbf83cfefa9ac5066c98a",
    "e794bd04c76a7beb55ebcdf1241d65187903c1c4",
    "fca6580f48d852d7cc416612e206df99e35d3fc2",
    "5cfe30d7ad6b98069f66ac2494afdcebcbcc8f1d",
    "f1efb27670a93690577f1bae17fc9dcbd88a795d",
    "795234dba5ed1ba32827051748d3c92657ad287d",
    "a72e93613b8151d683fa83e5636212ed2f1413af",
    "be8127a604bfdd91ff7cd32a1f825c9851d791ec",
    "35d1673788bbbac8263fdb69275dc6a63b095a24",
    "c38185458ab824874b8465c46b4dc42646440aaa",
    "70f4568a3d4109db189a6815ff11964a91bfb042",
    "433209f256f2f87310b4546cb08218dbdb110556",
    "1e7d8eef0641edcf97316618c8fab40bd248133d",
    "21f0b07bd031f022d14106150af66ceddb4c06b8"
  ],
  "changeHistoryShort": {
    "526c9d0cbabd8ed8f3a26c45a7a6bc0a5c158c0c": "Ybodychange",
    "57b908199dfa5c2c9bf9388d92925ccfb312812f": "Ybodychange",
    "4fd298b00126d60147dce7631c6e0d3e0921f82f": "Ybodychange",
    "111bd4b1df19e62bb76bbf83cfefa9ac5066c98a": "Ybodychange",
    "e794bd04c76a7beb55ebcdf1241d65187903c1c4": "Ybodychange",
    "fca6580f48d852d7cc416612e206df99e35d3fc2": "Ybodychange",
    "5cfe30d7ad6b98069f66ac2494afdcebcbcc8f1d": "Ymultichange(Yparameterchange,Ybodychange)",
    "f1efb27670a93690577f1bae17fc9dcbd88a795d": "Yfilerename",
    "795234dba5ed1ba32827051748d3c92657ad287d": "Ybodychange",
    "a72e93613b8151d683fa83e5636212ed2f1413af": "Ybodychange",
    "be8127a604bfdd91ff7cd32a1f825c9851d791ec": "Ybodychange",
    "35d1673788bbbac8263fdb69275dc6a63b095a24": "Ybodychange",
    "c38185458ab824874b8465c46b4dc42646440aaa": "Ybodychange",
    "70f4568a3d4109db189a6815ff11964a91bfb042": "Ybodychange",
    "433209f256f2f87310b4546cb08218dbdb110556": "Yfilerename",
    "1e7d8eef0641edcf97316618c8fab40bd248133d": "Yreturntypechange",
    "21f0b07bd031f022d14106150af66ceddb4c06b8": "Yintroduced"
  },
  "changeHistoryDetails": {
    "526c9d0cbabd8ed8f3a26c45a7a6bc0a5c158c0c": {
      "type": "Ybodychange",
      "commitMessage": "Issue #46: blocks of code should not be duplicated\n",
      "commitDate": 1441931158000,
      "commitName": "526c9d0cbabd8ed8f3a26c45a7a6bc0a5c158c0c",
      "commitAuthor": "Ilja Dubinin",
      "commitDateOld": 1441045466000,
      "commitNameOld": "2b861bd6e16584e22bb115ff7abd65c35072eb92",
      "commitAuthorOld": "Baratali Izmailov",
      "daysBetweenCommits": 10.25,
      "commitsBetweenForRepo": 112,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,35 +1,7 @@\n     public static FilterSet loadSuppressions(String filename)\n         throws CheckstyleException {\n         // figure out if this is a File or a URL\n-        URI uri;\n-        try {\n-            final URL url \u003d new URL(filename);\n-            uri \u003d url.toURI();\n-        }\n-        catch (final MalformedURLException | URISyntaxException ignored) {\n-            // URL violating RFC 2396\n-            uri \u003d null;\n-        }\n-        if (uri \u003d\u003d null) {\n-            final File file \u003d new File(filename);\n-            if (file.exists()) {\n-                uri \u003d file.toURI();\n-            }\n-            else {\n-                // check to see if the file is in the classpath\n-                try {\n-                    final URL configUrl \u003d SuppressionsLoader.class\n-                            .getResource(filename);\n-                    if (configUrl \u003d\u003d null) {\n-                        throw new CheckstyleException(UNABLE_TO_FIND_ERROR_MESSAGE + filename);\n-                    }\n-                    uri \u003d configUrl.toURI();\n-                }\n-                catch (final URISyntaxException e) {\n-                    throw new CheckstyleException(UNABLE_TO_FIND_ERROR_MESSAGE + filename, e);\n-                }\n-            }\n-        }\n+        final URI uri \u003d CommonUtils.getUriByFilename(filename);\n         final InputSource source \u003d new InputSource(uri.toString());\n         return loadSuppressions(source, filename);\n     }\n\\ No newline at end of file\n"
    },
    "57b908199dfa5c2c9bf9388d92925ccfb312812f": {
      "type": "Ybodychange",
      "commitMessage": "String literals should not be duplicated. Issue #46\n",
      "commitDate": 1440042856000,
      "commitName": "57b908199dfa5c2c9bf9388d92925ccfb312812f",
      "commitAuthor": "Ilja Dubinin",
      "commitDateOld": 1440040911000,
      "commitNameOld": "efa16e17bf710b7b24af828296c2337612912ba9",
      "commitAuthorOld": "Baratali Izmailov",
      "daysBetweenCommits": 0.02,
      "commitsBetweenForRepo": 14,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,35 +1,35 @@\n     public static FilterSet loadSuppressions(String filename)\n         throws CheckstyleException {\n         // figure out if this is a File or a URL\n         URI uri;\n         try {\n             final URL url \u003d new URL(filename);\n             uri \u003d url.toURI();\n         }\n         catch (final MalformedURLException | URISyntaxException ignored) {\n             // URL violating RFC 2396\n             uri \u003d null;\n         }\n         if (uri \u003d\u003d null) {\n             final File file \u003d new File(filename);\n             if (file.exists()) {\n                 uri \u003d file.toURI();\n             }\n             else {\n                 // check to see if the file is in the classpath\n                 try {\n                     final URL configUrl \u003d SuppressionsLoader.class\n                             .getResource(filename);\n                     if (configUrl \u003d\u003d null) {\n-                        throw new CheckstyleException(\"unable to find \" + filename);\n+                        throw new CheckstyleException(UNABLE_TO_FIND_ERROR_MESSAGE + filename);\n                     }\n                     uri \u003d configUrl.toURI();\n                 }\n                 catch (final URISyntaxException e) {\n-                    throw new CheckstyleException(\"unable to find \" + filename, e);\n+                    throw new CheckstyleException(UNABLE_TO_FIND_ERROR_MESSAGE + filename, e);\n                 }\n             }\n         }\n         final InputSource source \u003d new InputSource(uri.toString());\n         return loadSuppressions(source, filename);\n     }\n\\ No newline at end of file\n"
    },
    "4fd298b00126d60147dce7631c6e0d3e0921f82f": {
      "type": "Ybodychange",
      "commitMessage": "Rename ignored catch parameters. #1555\n\nFixes `UnusedCatchParameter` inspection violations.\n\nDescription:\nReports any catch parameters that are unused in their corresponding blocks. This inspection will not report any catch parameters named \"ignore\" or \"ignored\". Conversely this inspection will warn on any catch parameters named \"ignore\" or \"ignored\" that are actually used.\n",
      "commitDate": 1439011061000,
      "commitName": "4fd298b00126d60147dce7631c6e0d3e0921f82f",
      "commitAuthor": "Michal Kordas",
      "commitDateOld": 1438566538000,
      "commitNameOld": "111bd4b1df19e62bb76bbf83cfefa9ac5066c98a",
      "commitAuthorOld": "Michal Kordas",
      "daysBetweenCommits": 5.14,
      "commitsBetweenForRepo": 45,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,35 +1,35 @@\n     public static FilterSet loadSuppressions(String filename)\n         throws CheckstyleException {\n         // figure out if this is a File or a URL\n         URI uri;\n         try {\n             final URL url \u003d new URL(filename);\n             uri \u003d url.toURI();\n         }\n-        catch (final MalformedURLException | URISyntaxException ex) {\n+        catch (final MalformedURLException | URISyntaxException ignored) {\n             // URL violating RFC 2396\n             uri \u003d null;\n         }\n         if (uri \u003d\u003d null) {\n             final File file \u003d new File(filename);\n             if (file.exists()) {\n                 uri \u003d file.toURI();\n             }\n             else {\n                 // check to see if the file is in the classpath\n                 try {\n                     final URL configUrl \u003d SuppressionsLoader.class\n                             .getResource(filename);\n                     if (configUrl \u003d\u003d null) {\n                         throw new CheckstyleException(\"unable to find \" + filename);\n                     }\n                     uri \u003d configUrl.toURI();\n                 }\n                 catch (final URISyntaxException e) {\n                     throw new CheckstyleException(\"unable to find \" + filename, e);\n                 }\n             }\n         }\n         final InputSource source \u003d new InputSource(uri.toString());\n         return loadSuppressions(source, filename);\n     }\n\\ No newline at end of file\n"
    },
    "111bd4b1df19e62bb76bbf83cfefa9ac5066c98a": {
      "type": "Ybodychange",
      "commitMessage": "Collapse \u0027catch\u0027 blocks. #1538\n",
      "commitDate": 1438566538000,
      "commitName": "111bd4b1df19e62bb76bbf83cfefa9ac5066c98a",
      "commitAuthor": "Michal Kordas",
      "commitDateOld": 1438527890000,
      "commitNameOld": "e794bd04c76a7beb55ebcdf1241d65187903c1c4",
      "commitAuthorOld": "Ruslan Diachenko",
      "daysBetweenCommits": 0.45,
      "commitsBetweenForRepo": 16,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,38 +1,35 @@\n     public static FilterSet loadSuppressions(String filename)\n         throws CheckstyleException {\n         // figure out if this is a File or a URL\n         URI uri;\n         try {\n             final URL url \u003d new URL(filename);\n             uri \u003d url.toURI();\n         }\n-        catch (final MalformedURLException ex) {\n-            uri \u003d null;\n-        }\n-        catch (final URISyntaxException ex) {\n+        catch (final MalformedURLException | URISyntaxException ex) {\n             // URL violating RFC 2396\n             uri \u003d null;\n         }\n         if (uri \u003d\u003d null) {\n             final File file \u003d new File(filename);\n             if (file.exists()) {\n                 uri \u003d file.toURI();\n             }\n             else {\n                 // check to see if the file is in the classpath\n                 try {\n                     final URL configUrl \u003d SuppressionsLoader.class\n                             .getResource(filename);\n                     if (configUrl \u003d\u003d null) {\n                         throw new CheckstyleException(\"unable to find \" + filename);\n                     }\n                     uri \u003d configUrl.toURI();\n                 }\n                 catch (final URISyntaxException e) {\n                     throw new CheckstyleException(\"unable to find \" + filename, e);\n                 }\n             }\n         }\n         final InputSource source \u003d new InputSource(uri.toString());\n         return loadSuppressions(source, filename);\n     }\n\\ No newline at end of file\n"
    },
    "e794bd04c76a7beb55ebcdf1241d65187903c1c4": {
      "type": "Ybodychange",
      "commitMessage": "Issue #1296: \u0027SuppressionsLoader\u0027 refactored, UT coverage improved\n",
      "commitDate": 1438527890000,
      "commitName": "e794bd04c76a7beb55ebcdf1241d65187903c1c4",
      "commitAuthor": "Ruslan Diachenko",
      "commitDateOld": 1433381125000,
      "commitNameOld": "fca6580f48d852d7cc416612e206df99e35d3fc2",
      "commitAuthorOld": "Michal Kordas",
      "daysBetweenCommits": 59.57,
      "commitsBetweenForRepo": 483,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,38 +1,38 @@\n     public static FilterSet loadSuppressions(String filename)\n         throws CheckstyleException {\n         // figure out if this is a File or a URL\n         URI uri;\n         try {\n             final URL url \u003d new URL(filename);\n             uri \u003d url.toURI();\n         }\n         catch (final MalformedURLException ex) {\n             uri \u003d null;\n         }\n         catch (final URISyntaxException ex) {\n             // URL violating RFC 2396\n             uri \u003d null;\n         }\n         if (uri \u003d\u003d null) {\n             final File file \u003d new File(filename);\n             if (file.exists()) {\n                 uri \u003d file.toURI();\n             }\n             else {\n                 // check to see if the file is in the classpath\n                 try {\n                     final URL configUrl \u003d SuppressionsLoader.class\n                             .getResource(filename);\n                     if (configUrl \u003d\u003d null) {\n                         throw new CheckstyleException(\"unable to find \" + filename);\n                     }\n                     uri \u003d configUrl.toURI();\n                 }\n                 catch (final URISyntaxException e) {\n-                    throw new CheckstyleException(\"unable to find \" + filename);\n+                    throw new CheckstyleException(\"unable to find \" + filename, e);\n                 }\n             }\n         }\n         final InputSource source \u003d new InputSource(uri.toString());\n         return loadSuppressions(source, filename);\n     }\n\\ No newline at end of file\n"
    },
    "fca6580f48d852d7cc416612e206df99e35d3fc2": {
      "type": "Ybodychange",
      "commitMessage": "Fix PMD violations of ExceptionAsFlowControl rule. #962\n",
      "commitDate": 1433381125000,
      "commitName": "fca6580f48d852d7cc416612e206df99e35d3fc2",
      "commitAuthor": "Michal Kordas",
      "commitDateOld": 1431863229000,
      "commitNameOld": "0f58857d73933c7b6b7e62f0c7c16ad7af51556f",
      "commitAuthorOld": "Michal Kordas",
      "daysBetweenCommits": 17.57,
      "commitsBetweenForRepo": 80,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,43 +1,38 @@\n     public static FilterSet loadSuppressions(String filename)\n         throws CheckstyleException {\n+        // figure out if this is a File or a URL\n+        URI uri;\n         try {\n-            // figure out if this is a File or a URL\n-            URI uri;\n-            try {\n-                final URL url \u003d new URL(filename);\n-                uri \u003d url.toURI();\n+            final URL url \u003d new URL(filename);\n+            uri \u003d url.toURI();\n+        }\n+        catch (final MalformedURLException ex) {\n+            uri \u003d null;\n+        }\n+        catch (final URISyntaxException ex) {\n+            // URL violating RFC 2396\n+            uri \u003d null;\n+        }\n+        if (uri \u003d\u003d null) {\n+            final File file \u003d new File(filename);\n+            if (file.exists()) {\n+                uri \u003d file.toURI();\n             }\n-            catch (final MalformedURLException ex) {\n-                uri \u003d null;\n-            }\n-            catch (final URISyntaxException ex) {\n-                // URL violating RFC 2396\n-                uri \u003d null;\n-            }\n-            if (uri \u003d\u003d null) {\n-                final File file \u003d new File(filename);\n-                if (file.exists()) {\n-                    uri \u003d file.toURI();\n+            else {\n+                // check to see if the file is in the classpath\n+                try {\n+                    final URL configUrl \u003d SuppressionsLoader.class\n+                            .getResource(filename);\n+                    if (configUrl \u003d\u003d null) {\n+                        throw new CheckstyleException(\"unable to find \" + filename);\n+                    }\n+                    uri \u003d configUrl.toURI();\n                 }\n-                else {\n-                    // check to see if the file is in the classpath\n-                    try {\n-                        final URL configUrl \u003d SuppressionsLoader.class\n-                                .getResource(filename);\n-                        if (configUrl \u003d\u003d null) {\n-                            throw new FileNotFoundException(filename);\n-                        }\n-                        uri \u003d configUrl.toURI();\n-                    }\n-                    catch (final URISyntaxException e) {\n-                        throw new FileNotFoundException(filename);\n-                    }\n+                catch (final URISyntaxException e) {\n+                    throw new CheckstyleException(\"unable to find \" + filename);\n                 }\n             }\n-            final InputSource source \u003d new InputSource(uri.toString());\n-            return loadSuppressions(source, filename);\n         }\n-        catch (final FileNotFoundException e) {\n-            throw new CheckstyleException(\"unable to find \" + filename, e);\n-        }\n+        final InputSource source \u003d new InputSource(uri.toString());\n+        return loadSuppressions(source, filename);\n     }\n\\ No newline at end of file\n"
    },
    "5cfe30d7ad6b98069f66ac2494afdcebcbcc8f1d": {
      "type": "Ymultichange(Yparameterchange,Ybodychange)",
      "commitMessage": "Prefixes, filters, #512\n",
      "commitDate": 1421677232000,
      "commitName": "5cfe30d7ad6b98069f66ac2494afdcebcbcc8f1d",
      "commitAuthor": "alexkravin",
      "subchanges": [
        "Yparameterchange",
        "Ybodychange"
      ]
    },
    "f1efb27670a93690577f1bae17fc9dcbd88a795d": {
      "type": "Yfilerename",
      "commitMessage": "moving to standard directory layout\n",
      "commitDate": 1393953491000,
      "commitName": "f1efb27670a93690577f1bae17fc9dcbd88a795d",
      "commitAuthor": "Ivan Sopov",
      "commitDateOld": 1393482905000,
      "commitNameOld": "1cdaeaaa4fbf02a7388f1fcbea1c86ef0ea32fed",
      "commitAuthorOld": "Andrew Gaul",
      "daysBetweenCommits": 5.45,
      "commitsBetweenForRepo": 1,
      "commitsBetweenForFile": 1,
      "diff": ""
    },
    "795234dba5ed1ba32827051748d3c92657ad287d": {
      "type": "Ybodychange",
      "commitMessage": "#240 Allow additional URL schemes for SuppressionFilter configuration loading.\n",
      "commitDate": 1374143633000,
      "commitName": "795234dba5ed1ba32827051748d3c92657ad287d",
      "commitAuthor": "tnarake",
      "commitDateOld": 1347965845000,
      "commitNameOld": "68f1a6fa63b635da214ce6cfffd9f8c283248f60",
      "commitAuthorOld": "Oliver Burn",
      "daysBetweenCommits": 302.98,
      "commitsBetweenForRepo": 14,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,33 +1,44 @@\n     public static FilterSet loadSuppressions(String aFilename)\n         throws CheckstyleException\n     {\n-        InputStream fis;\n         try {\n-            fis \u003d new FileInputStream(aFilename);\n+            // figure out if this is a File or a URL\n+            URI uri;\n+            try {\n+                final URL url \u003d new URL(aFilename);\n+                uri \u003d url.toURI();\n+            }\n+            catch (final MalformedURLException ex) {\n+                uri \u003d null;\n+            }\n+            catch (final URISyntaxException ex) {\n+                // URL violating RFC 2396\n+                uri \u003d null;\n+            }\n+            if (uri \u003d\u003d null) {\n+                final File file \u003d new File(aFilename);\n+                if (file.exists()) {\n+                    uri \u003d file.toURI();\n+                }\n+                else {\n+                    // check to see if the file is in the classpath\n+                    try {\n+                        final URL configUrl \u003d SuppressionsLoader.class\n+                                .getResource(aFilename);\n+                        if (configUrl \u003d\u003d null) {\n+                            throw new FileNotFoundException(aFilename);\n+                        }\n+                        uri \u003d configUrl.toURI();\n+                    }\n+                    catch (final URISyntaxException e) {\n+                        throw new FileNotFoundException(aFilename);\n+                    }\n+                }\n+            }\n+            final InputSource source \u003d new InputSource(uri.toString());\n+            return loadSuppressions(source, aFilename);\n         }\n         catch (final FileNotFoundException e) {\n-            if (aFilename.matches(\"^https?://.+\")) {\n-                // this is a URL, load it as such\n-                try {\n-                    fis \u003d new URL(aFilename).openStream();\n-                }\n-                catch (MalformedURLException e1) {\n-                    throw new CheckstyleException(\n-                        \"Invalid URL: \" + aFilename, e1);\n-                }\n-                catch (IOException e1) {\n-                    throw new CheckstyleException(\n-                        \"unable to read \" + aFilename, e1);\n-                }\n-            }\n-            else {\n-                // check for the file in the classpath\n-                fis \u003d SuppressionsLoader.class.getResourceAsStream(aFilename);\n-            }\n-            if (fis \u003d\u003d null) {\n-                throw new CheckstyleException(\"unable to find \" + aFilename, e);\n-            }\n+            throw new CheckstyleException(\"unable to find \" + aFilename, e);\n         }\n-        final InputSource source \u003d new InputSource(fis);\n-        return loadSuppressions(source, aFilename);\n     }\n\\ No newline at end of file\n"
    },
    "a72e93613b8151d683fa83e5636212ed2f1413af": {
      "type": "Ybodychange",
      "commitMessage": "Apply patch #3485185 to load SuppressionFilter from a URL\n",
      "commitDate": 1328787747000,
      "commitName": "a72e93613b8151d683fa83e5636212ed2f1413af",
      "commitAuthor": "Oliver Burn",
      "commitDateOld": 1310618763000,
      "commitNameOld": "a9c2910a9d58a4b1b8c2d5555fff9cea297c6df5",
      "commitAuthorOld": "Oliver Burn",
      "daysBetweenCommits": 210.29,
      "commitsBetweenForRepo": 38,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,19 +1,33 @@\n     public static FilterSet loadSuppressions(String aFilename)\n         throws CheckstyleException\n     {\n         InputStream fis;\n         try {\n             fis \u003d new FileInputStream(aFilename);\n         }\n         catch (final FileNotFoundException e) {\n-            // check for the file in the classpath\n-            fis \u003d SuppressionsLoader.class.getResourceAsStream(aFilename);\n-\n+            if (aFilename.matches(\"^https?://.+\")) {\n+                // this is a URL, load it as such\n+                try {\n+                    fis \u003d new URL(aFilename).openStream();\n+                }\n+                catch (MalformedURLException e1) {\n+                    throw new CheckstyleException(\n+                        \"Invalid URL: \" + aFilename, e1);\n+                }\n+                catch (IOException e1) {\n+                    throw new CheckstyleException(\n+                        \"unable to read \" + aFilename, e1);\n+                }\n+            }\n+            else {\n+                // check for the file in the classpath\n+                fis \u003d SuppressionsLoader.class.getResourceAsStream(aFilename);\n+            }\n             if (fis \u003d\u003d null) {\n                 throw new CheckstyleException(\"unable to find \" + aFilename, e);\n             }\n         }\n-\n         final InputSource source \u003d new InputSource(fis);\n         return loadSuppressions(source, aFilename);\n     }\n\\ No newline at end of file\n"
    },
    "be8127a604bfdd91ff7cd32a1f825c9851d791ec": {
      "type": "Ybodychange",
      "commitMessage": "Enhanced the ANT task, Command Line and Suppression Filter to be able to load\ntheir configuration file from either the filesystem or the classpath as a\nresource. Thanks to Tracy Snell for patch #3307526.\n",
      "commitDate": 1310381919000,
      "commitName": "be8127a604bfdd91ff7cd32a1f825c9851d791ec",
      "commitAuthor": "Oliver Burn",
      "commitDateOld": 1285817783000,
      "commitNameOld": "6f46bd4e83204417edf9605f97098bb9d34da728",
      "commitAuthorOld": "Oliver Burn",
      "daysBetweenCommits": 284.31,
      "commitsBetweenForRepo": 78,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,14 +1,19 @@\n     public static FilterSet loadSuppressions(String aFilename)\n         throws CheckstyleException\n     {\n-        final FileInputStream fis;\n+        InputStream fis;\n         try {\n             fis \u003d new FileInputStream(aFilename);\n         }\n         catch (final FileNotFoundException e) {\n-            throw new CheckstyleException(\n-                \"unable to find \" + aFilename, e);\n+            // check for the file in the classpath\n+            fis \u003d SuppressionsLoader.class.getResourceAsStream(aFilename);\n+\n+            if (fis \u003d\u003d null) {\n+                throw new CheckstyleException(\"unable to find \" + aFilename, e);\n+            }\n         }\n+\n         final InputSource source \u003d new InputSource(fis);\n         return loadSuppressions(source, aFilename);\n     }\n\\ No newline at end of file\n"
    },
    "35d1673788bbbac8263fdb69275dc6a63b095a24": {
      "type": "Ybodychange",
      "commitMessage": "Making local variables final where possible.\n",
      "commitDate": 1152243856000,
      "commitName": "35d1673788bbbac8263fdb69275dc6a63b095a24",
      "commitAuthor": "Oliver Burn",
      "commitDateOld": 1137847382000,
      "commitNameOld": "c38185458ab824874b8465c46b4dc42646440aaa",
      "commitAuthorOld": "Oliver Burn",
      "daysBetweenCommits": 166.63,
      "commitsBetweenForRepo": 14,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,14 +1,14 @@\n     public static FilterSet loadSuppressions(String aFilename)\n         throws CheckstyleException\n     {\n         final FileInputStream fis;\n         try {\n             fis \u003d new FileInputStream(aFilename);\n         }\n-        catch (FileNotFoundException e) {\n+        catch (final FileNotFoundException e) {\n             throw new CheckstyleException(\n                 \"unable to find \" + aFilename, e);\n         }\n         final InputSource source \u003d new InputSource(fis);\n         return loadSuppressions(source, aFilename);\n     }\n\\ No newline at end of file\n"
    },
    "c38185458ab824874b8465c46b4dc42646440aaa": {
      "type": "Ybodychange",
      "commitMessage": "Code cleanup\n",
      "commitDate": 1137847382000,
      "commitName": "c38185458ab824874b8465c46b4dc42646440aaa",
      "commitAuthor": "Oliver Burn",
      "commitDateOld": 1135859700000,
      "commitNameOld": "788b41973d5747c7b4699a853b62168cf0001df6",
      "commitAuthorOld": "Oliver Burn",
      "daysBetweenCommits": 23.01,
      "commitsBetweenForRepo": 9,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,14 +1,14 @@\n     public static FilterSet loadSuppressions(String aFilename)\n         throws CheckstyleException\n     {\n-        FileInputStream fis \u003d null;\n+        final FileInputStream fis;\n         try {\n             fis \u003d new FileInputStream(aFilename);\n         }\n         catch (FileNotFoundException e) {\n             throw new CheckstyleException(\n                 \"unable to find \" + aFilename, e);\n         }\n         final InputSource source \u003d new InputSource(fis);\n         return loadSuppressions(source, aFilename);\n     }\n\\ No newline at end of file\n"
    },
    "70f4568a3d4109db189a6815ff11964a91bfb042": {
      "type": "Ybodychange",
      "commitMessage": "Fix encoding problems when parsing XML (patch 1320132)\n",
      "commitDate": 1129725884000,
      "commitName": "70f4568a3d4109db189a6815ff11964a91bfb042",
      "commitAuthor": "Oliver Burn",
      "commitDateOld": 1115830091000,
      "commitNameOld": "e27489c7721909245ea5055eac3b9c7c659081f6",
      "commitAuthorOld": "Oleg Sukhodolsky",
      "daysBetweenCommits": 160.83,
      "commitsBetweenForRepo": 102,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,14 +1,14 @@\n     public static FilterSet loadSuppressions(String aFilename)\n         throws CheckstyleException\n     {\n-        FileReader reader \u003d null;\n+        FileInputStream fis \u003d null;\n         try {\n-            reader \u003d new FileReader(aFilename);\n+            fis \u003d new FileInputStream(aFilename);\n         }\n         catch (FileNotFoundException e) {\n             throw new CheckstyleException(\n                 \"unable to find \" + aFilename, e);\n         }\n-        final InputSource source \u003d new InputSource(reader);\n+        final InputSource source \u003d new InputSource(fis);\n         return loadSuppressions(source, aFilename);\n     }\n\\ No newline at end of file\n"
    },
    "433209f256f2f87310b4546cb08218dbdb110556": {
      "type": "Yfilerename",
      "commitMessage": "A refactoring to remove the circular dependency between the checkstyle and\ncheckstyle.filters packages. I moved AbstractLoader to the checkstyle.api\npackage. I moved the SuppressionsLoader to the checkstyle.filters package.\n\nI found the dependencies using the neat Pasta tool which I recommend. It is\navailable from http://javacentral.compuware.com/pasta/ for free.\n",
      "commitDate": 1075113548000,
      "commitName": "433209f256f2f87310b4546cb08218dbdb110556",
      "commitAuthor": "Oliver Burn",
      "commitDateOld": 1075040247000,
      "commitNameOld": "74b57239f50c2596574541202a007f98faf917d4",
      "commitAuthorOld": "Oleg Sukhodolsky",
      "daysBetweenCommits": 0.85,
      "commitsBetweenForRepo": 1,
      "commitsBetweenForFile": 1,
      "diff": ""
    },
    "1e7d8eef0641edcf97316618c8fab40bd248133d": {
      "type": "Yreturntypechange",
      "commitMessage": "Refactored Filters to the way Checkstyle uses them;\ni.e. a Filter accepts or rejects an Object,\nand a FilterSet, not a FilterChain, aggregates Filters.\n",
      "commitDate": 1058300282000,
      "commitName": "1e7d8eef0641edcf97316618c8fab40bd248133d",
      "commitAuthor": "Rick Giles",
      "commitDateOld": 1058208229000,
      "commitNameOld": "524a7eca739f86e704c6a83ab44c433ec73d095b",
      "commitAuthorOld": "Rick Giles",
      "daysBetweenCommits": 1.07,
      "commitsBetweenForRepo": 3,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,14 +1,14 @@\n-    public static FilterChain loadSuppressions(String aFilename)\n+    public static FilterSet loadSuppressions(String aFilename)\n         throws CheckstyleException\n     {\n         FileReader reader \u003d null;\n         try {\n             reader \u003d new FileReader(aFilename);\n         }\n         catch (FileNotFoundException e) {\n             throw new CheckstyleException(\n                 \"unable to find \" + aFilename, e);\n         }\n         final InputSource source \u003d new InputSource(reader);\n         return loadSuppressions(source, aFilename);\n     }\n\\ No newline at end of file\n"
    },
    "21f0b07bd031f022d14106150af66ceddb4c06b8": {
      "type": "Yintroduced",
      "commitMessage": "Refactor and extend filters to filter chains.\nAdd suppression filters.\n",
      "commitDate": 1058170930000,
      "commitName": "21f0b07bd031f022d14106150af66ceddb4c06b8",
      "commitAuthor": "Rick Giles"
    }
  }
}