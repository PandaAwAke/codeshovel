{
  "origin": "codeshovel",
  "repositoryName": "checkstyle",
  "repositoryPath": "/home/ncbradley/codeshovel-repos/checkstyle/.git",
  "startCommitName": "119fd4fb33bef9f5c66fc950396669af842c21a3",
  "sourceFileName": "TreeWalker.java",
  "functionName": "setupChild",
  "functionId": "setupChild___childConf-Configuration",
  "sourceFilePath": "src/main/java/com/puppycrawl/tools/checkstyle/TreeWalker.java",
  "functionStartLine": 149,
  "functionEndLine": 173,
  "changeHistory": [
    "6d9e8ece85007117e048fef55469623b830f9446",
    "4cef3f91f575f45ea18fa3568ec44c0beef6a1fe",
    "cf96dd9adcf0c3c8f8f05a9ffdcb765cafe17479",
    "f1e80e4ecae727087ca135dfd02f72e2d6213efb",
    "dd6b080a16e0933b3d19305f84ba01c8893839f3",
    "b8ca6a585b824e91b3b8c72dd5cc53c0eb0ab0f1",
    "f1efb27670a93690577f1bae17fc9dcbd88a795d",
    "a1706551793b62548d9dcc93731b656f07b125a4",
    "2a71cac7e02c012add5e75f35aaf6aca7c561401",
    "88e89a138aa39f50f7642106cde6568f6e07783f",
    "b3caa3b7ad0a135038c2c1c5bda4fccb897a00c4",
    "08d6efe49d2960d9bd61bfb9cca65910f0c19b58"
  ],
  "changeHistoryShort": {
    "6d9e8ece85007117e048fef55469623b830f9446": "Ybodychange",
    "4cef3f91f575f45ea18fa3568ec44c0beef6a1fe": "Ybodychange",
    "cf96dd9adcf0c3c8f8f05a9ffdcb765cafe17479": "Ybodychange",
    "f1e80e4ecae727087ca135dfd02f72e2d6213efb": "Ybodychange",
    "dd6b080a16e0933b3d19305f84ba01c8893839f3": "Ybodychange",
    "b8ca6a585b824e91b3b8c72dd5cc53c0eb0ab0f1": "Ymultichange(Yparameterchange,Ybodychange)",
    "f1efb27670a93690577f1bae17fc9dcbd88a795d": "Yfilerename",
    "a1706551793b62548d9dcc93731b656f07b125a4": "Ybodychange",
    "2a71cac7e02c012add5e75f35aaf6aca7c561401": "Ybodychange",
    "88e89a138aa39f50f7642106cde6568f6e07783f": "Ybodychange",
    "b3caa3b7ad0a135038c2c1c5bda4fccb897a00c4": "Ybodychange",
    "08d6efe49d2960d9bd61bfb9cca65910f0c19b58": "Yintroduced"
  },
  "changeHistoryDetails": {
    "6d9e8ece85007117e048fef55469623b830f9446": {
      "type": "Ybodychange",
      "commitMessage": "Issue #4714: Make SuppressionCommentFilter and SuppressWithNearbyCommentFilter children of TreeWalker\n",
      "commitDate": 1500928695000,
      "commitName": "6d9e8ece85007117e048fef55469623b830f9446",
      "commitAuthor": "Timur",
      "commitDateOld": 1499432353000,
      "commitNameOld": "7fb0cf6870124032136b06eb7572a1de1b92e87a",
      "commitAuthorOld": "vasilyeva",
      "daysBetweenCommits": 17.32,
      "commitsBetweenForRepo": 111,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,17 +1,25 @@\n     public void setupChild(Configuration childConf)\n             throws CheckstyleException {\n         final String name \u003d childConf.getName();\n         final Object module \u003d moduleFactory.createModule(name);\n-        if (!(module instanceof AbstractCheck)) {\n+        if (module instanceof AutomaticBean) {\n+            final AutomaticBean bean \u003d (AutomaticBean) module;\n+            bean.contextualize(childContext);\n+            bean.configure(childConf);\n+        }\n+        if (module instanceof AbstractCheck) {\n+            final AbstractCheck check \u003d (AbstractCheck) module;\n+            check.init();\n+            registerCheck(check);\n+        }\n+        else if (module instanceof TreeWalkerFilter) {\n+            final TreeWalkerFilter filter \u003d (TreeWalkerFilter) module;\n+            filters.add(filter);\n+        }\n+        else {\n             throw new CheckstyleException(\n                 \"TreeWalker is not allowed as a parent of \" + name\n                         + \" Please review \u0027Parent Module\u0027 section for this Check in web\"\n                         + \" documentation if Check is standard.\");\n         }\n-        final AbstractCheck check \u003d (AbstractCheck) module;\n-        check.contextualize(childContext);\n-        check.configure(childConf);\n-        check.init();\n-\n-        registerCheck(check);\n     }\n\\ No newline at end of file\n"
    },
    "4cef3f91f575f45ea18fa3568ec44c0beef6a1fe": {
      "type": "Ybodychange",
      "commitMessage": "Issue #2186: Exception message extended to provide more information on incorrect parent\n",
      "commitDate": 1491885633000,
      "commitName": "4cef3f91f575f45ea18fa3568ec44c0beef6a1fe",
      "commitAuthor": "Subbu Dantu",
      "commitDateOld": 1491395871000,
      "commitNameOld": "3bd3a52280388520c64ec813dd1e4ffb3a0063a2",
      "commitAuthorOld": "Vladislav Lisetskii",
      "daysBetweenCommits": 5.67,
      "commitsBetweenForRepo": 26,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,15 +1,17 @@\n     public void setupChild(Configuration childConf)\n             throws CheckstyleException {\n         final String name \u003d childConf.getName();\n         final Object module \u003d moduleFactory.createModule(name);\n         if (!(module instanceof AbstractCheck)) {\n             throw new CheckstyleException(\n-                \"TreeWalker is not allowed as a parent of \" + name);\n+                \"TreeWalker is not allowed as a parent of \" + name\n+                        + \" Please review \u0027Parent Module\u0027 section for this Check in web\"\n+                        + \" documentation if Check is standard.\");\n         }\n         final AbstractCheck check \u003d (AbstractCheck) module;\n         check.contextualize(childContext);\n         check.configure(childConf);\n         check.init();\n \n         registerCheck(check);\n     }\n\\ No newline at end of file\n"
    },
    "cf96dd9adcf0c3c8f8f05a9ffdcb765cafe17479": {
      "type": "Ybodychange",
      "commitMessage": "Issue #2551: renamed Check to AbstractCheck",
      "commitDate": 1454680863000,
      "commitName": "cf96dd9adcf0c3c8f8f05a9ffdcb765cafe17479",
      "commitAuthor": "rnveach",
      "commitDateOld": 1453646135000,
      "commitNameOld": "0d8e93ce79ea33b72b3e904d8796984271ee3d8d",
      "commitAuthorOld": "Bhavik Patel",
      "daysBetweenCommits": 11.98,
      "commitsBetweenForRepo": 42,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,15 +1,15 @@\n     public void setupChild(Configuration childConf)\n         throws CheckstyleException {\n         final String name \u003d childConf.getName();\n         final Object module \u003d moduleFactory.createModule(name);\n-        if (!(module instanceof Check)) {\n+        if (!(module instanceof AbstractCheck)) {\n             throw new CheckstyleException(\n                 \"TreeWalker is not allowed as a parent of \" + name);\n         }\n-        final Check check \u003d (Check) module;\n+        final AbstractCheck check \u003d (AbstractCheck) module;\n         check.contextualize(childContext);\n         check.configure(childConf);\n         check.init();\n \n         registerCheck(check);\n     }\n\\ No newline at end of file\n"
    },
    "f1e80e4ecae727087ca135dfd02f72e2d6213efb": {
      "type": "Ybodychange",
      "commitMessage": "Rename variables with \u0027standard\u0027 names of unexpected types. #1555\n\nFixes `StandardVariableNames` inspection violations.\n\nDescription:\n\u003eReports on any variables with \u0027standard\u0027 names which are of unexpected types. Such names may be confusing. Standard names and types are as follows:\n* i, j, k, m, n - int\n* f - float\n* d - double\n* b - byte\n* c, ch - char\n* l - long\n* s, str - String\n",
      "commitDate": 1439008721000,
      "commitName": "f1e80e4ecae727087ca135dfd02f72e2d6213efb",
      "commitAuthor": "Michal Kordas",
      "commitDateOld": 1439007161000,
      "commitNameOld": "8a3f5bf6d5389b9e175c9c769992faece6d76ada",
      "commitAuthorOld": "Michal Kordas",
      "daysBetweenCommits": 0.02,
      "commitsBetweenForRepo": 5,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,15 +1,15 @@\n     public void setupChild(Configuration childConf)\n         throws CheckstyleException {\n         final String name \u003d childConf.getName();\n         final Object module \u003d moduleFactory.createModule(name);\n         if (!(module instanceof Check)) {\n             throw new CheckstyleException(\n                 \"TreeWalker is not allowed as a parent of \" + name);\n         }\n-        final Check c \u003d (Check) module;\n-        c.contextualize(childContext);\n-        c.configure(childConf);\n-        c.init();\n+        final Check check \u003d (Check) module;\n+        check.contextualize(childContext);\n+        check.configure(childConf);\n+        check.init();\n \n-        registerCheck(c);\n+        registerCheck(check);\n     }\n\\ No newline at end of file\n"
    },
    "dd6b080a16e0933b3d19305f84ba01c8893839f3": {
      "type": "Ybodychange",
      "commitMessage": "all TODO/FIXME were removed , some of them converted to issues\n",
      "commitDate": 1429810711000,
      "commitName": "dd6b080a16e0933b3d19305f84ba01c8893839f3",
      "commitAuthor": "Roman Ivanov",
      "commitDateOld": 1428961380000,
      "commitNameOld": "63b127c70d40d927958546452f89833ce9ab871d",
      "commitAuthorOld": "Michal Kordas",
      "daysBetweenCommits": 9.83,
      "commitsBetweenForRepo": 43,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,17 +1,16 @@\n     public void setupChild(Configuration childConf)\n         throws CheckstyleException\n     {\n-        // TODO: improve the error handing\n         final String name \u003d childConf.getName();\n         final Object module \u003d moduleFactory.createModule(name);\n         if (!(module instanceof Check)) {\n             throw new CheckstyleException(\n                 \"TreeWalker is not allowed as a parent of \" + name);\n         }\n         final Check c \u003d (Check) module;\n         c.contextualize(childContext);\n         c.configure(childConf);\n         c.init();\n \n         registerCheck(c);\n     }\n\\ No newline at end of file\n"
    },
    "b8ca6a585b824e91b3b8c72dd5cc53c0eb0ab0f1": {
      "type": "Ymultichange(Yparameterchange,Ybodychange)",
      "commitMessage": "Prefixes, checkstyle, #512\n\nConflicts:\n\tsrc/main/java/com/puppycrawl/tools/checkstyle/TreeWalker.java\n",
      "commitDate": 1421678312000,
      "commitName": "b8ca6a585b824e91b3b8c72dd5cc53c0eb0ab0f1",
      "commitAuthor": "alexkravin",
      "subchanges": [
        "Yparameterchange",
        "Ybodychange"
      ]
    },
    "f1efb27670a93690577f1bae17fc9dcbd88a795d": {
      "type": "Yfilerename",
      "commitMessage": "moving to standard directory layout\n",
      "commitDate": 1393953491000,
      "commitName": "f1efb27670a93690577f1bae17fc9dcbd88a795d",
      "commitAuthor": "Ivan Sopov",
      "commitDateOld": 1393482905000,
      "commitNameOld": "1cdaeaaa4fbf02a7388f1fcbea1c86ef0ea32fed",
      "commitAuthorOld": "Andrew Gaul",
      "daysBetweenCommits": 5.45,
      "commitsBetweenForRepo": 1,
      "commitsBetweenForFile": 1,
      "diff": ""
    },
    "a1706551793b62548d9dcc93731b656f07b125a4": {
      "type": "Ybodychange",
      "commitMessage": "improved error message, thanks to Paul Roebuck for complaining about the old one\n",
      "commitDate": 1044944450000,
      "commitName": "a1706551793b62548d9dcc93731b656f07b125a4",
      "commitAuthor": "Lars Kühne",
      "commitDateOld": 1044387167000,
      "commitNameOld": "eeba08c1028a79bdc2140476b24ce8d60f04657a",
      "commitAuthorOld": "Lars Kühne",
      "daysBetweenCommits": 6.45,
      "commitsBetweenForRepo": 13,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,16 +1,17 @@\n     public void setupChild(Configuration aChildConf)\n             throws CheckstyleException\n     {\n         // TODO: improve the error handing\n         final String name \u003d aChildConf.getName();\n         final Object module \u003d mModuleFactory.createModule(name);\n         if (!(module instanceof Check)) {\n-            throw new CheckstyleException(name + \" is not a Check\");\n+            throw new CheckstyleException(\n+                \"TreeWalker is not allowed as a parent of \" + name);\n         }\n         final Check c \u003d (Check) module;\n         c.contextualize(mChildContext);\n         c.configure(aChildConf);\n         c.init();\n \n         registerCheck(c);\n     }\n\\ No newline at end of file\n"
    },
    "2a71cac7e02c012add5e75f35aaf6aca7c561401": {
      "type": "Ybodychange",
      "commitMessage": "improved end user error message for module hierarchy problems\n",
      "commitDate": 1040923304000,
      "commitName": "2a71cac7e02c012add5e75f35aaf6aca7c561401",
      "commitAuthor": "Lars Kühne",
      "commitDateOld": 1040825155000,
      "commitNameOld": "4e0914c73bf3e5b113869fad772a1096787b31ba",
      "commitAuthorOld": "Rick Giles",
      "daysBetweenCommits": 1.14,
      "commitsBetweenForRepo": 9,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,12 +1,16 @@\n     public void setupChild(Configuration aChildConf)\n             throws CheckstyleException\n     {\n         // TODO: improve the error handing\n         final String name \u003d aChildConf.getName();\n-        final Check c \u003d (Check) mModuleFactory.createModule(name);\n+        final Object module \u003d mModuleFactory.createModule(name);\n+        if (!(module instanceof Check)) {\n+            throw new CheckstyleException(name + \" is not a Check\");\n+        }\n+        final Check c \u003d (Check) module;\n         c.contextualize(mChildContext);\n         c.configure(aChildConf);\n         c.init();\n \n         registerCheck(c);\n     }\n\\ No newline at end of file\n"
    },
    "88e89a138aa39f50f7642106cde6568f6e07783f": {
      "type": "Ybodychange",
      "commitMessage": "Changed implementation of module name resolution from inheritance to delegation approach\n",
      "commitDate": 1040020006000,
      "commitName": "88e89a138aa39f50f7642106cde6568f6e07783f",
      "commitAuthor": "Lars Kühne",
      "commitDateOld": 1039864162000,
      "commitNameOld": "278b12b7c2129d8139f1245ea69ec352e369172f",
      "commitAuthorOld": "Lars Kühne",
      "daysBetweenCommits": 1.8,
      "commitsBetweenForRepo": 14,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,20 +1,12 @@\n     public void setupChild(Configuration aChildConf)\n             throws CheckstyleException\n     {\n         // TODO: improve the error handing\n-\n-        // IMPORTANT! Need to use the same class loader that created this\n-        // class. Otherwise can get ClassCastException problems.\n         final String name \u003d aChildConf.getName();\n-        final String[] packageNames \u003d getPackageNames();\n-        final Check c \u003d\n-            (Check) PackageObjectFactory.makeObject(\n-                packageNames,\n-                getClass().getClassLoader(),\n-                name);\n+        final Check c \u003d (Check) mModuleFactory.createModule(name);\n         c.contextualize(mChildContext);\n         c.configure(aChildConf);\n         c.init();\n \n         registerCheck(c);\n     }\n\\ No newline at end of file\n"
    },
    "b3caa3b7ad0a135038c2c1c5bda4fccb897a00c4": {
      "type": "Ybodychange",
      "commitMessage": "Fix bug where init/destroy not called for Checks.\n",
      "commitDate": 1039666751000,
      "commitName": "b3caa3b7ad0a135038c2c1c5bda4fccb897a00c4",
      "commitAuthor": "Oliver Burn",
      "commitDateOld": 1039547615000,
      "commitNameOld": "08d6efe49d2960d9bd61bfb9cca65910f0c19b58",
      "commitAuthorOld": "Lars Kühne",
      "daysBetweenCommits": 1.38,
      "commitsBetweenForRepo": 9,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,18 +1,20 @@\n     public void setupChild(Configuration aChildConf)\n             throws CheckstyleException\n     {\n         // TODO: improve the error handing\n \n         // IMPORTANT! Need to use the same class loader that created this\n         // class. Otherwise can get ClassCastException problems.\n         final String name \u003d aChildConf.getName();\n         final String[] packageNames \u003d getPackageNames();\n-        final Check check \u003d\n-                (Check) PackageObjectFactory.makeObject(\n-                        packageNames, this.getClass().getClassLoader(), name);\n+        final Check c \u003d\n+            (Check) PackageObjectFactory.makeObject(\n+                packageNames,\n+                getClass().getClassLoader(),\n+                name);\n+        c.contextualize(mChildContext);\n+        c.configure(aChildConf);\n+        c.init();\n \n-        check.contextualize(mChildContext);\n-        check.configure(aChildConf);\n-\n-        registerCheck(check);\n+        registerCheck(c);\n     }\n\\ No newline at end of file\n"
    },
    "08d6efe49d2960d9bd61bfb9cca65910f0c19b58": {
      "type": "Yintroduced",
      "commitMessage": "make AutomaticBean.configure() final and provide defined extension points\nto prevent programming errors in user classes.\n",
      "commitDate": 1039547615000,
      "commitName": "08d6efe49d2960d9bd61bfb9cca65910f0c19b58",
      "commitAuthor": "Lars Kühne"
    }
  }
}