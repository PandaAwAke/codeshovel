{
  "origin": "codeshovel",
  "repositoryName": "checkstyle",
  "repositoryPath": "/home/ncbradley/codeshovel-repos/checkstyle/.git",
  "startCommitName": "119fd4fb33bef9f5c66fc950396669af842c21a3",
  "sourceFileName": "AnnotationUseStyleCheck.java",
  "functionName": "checkCompactNoArrayStyle",
  "functionId": "checkCompactNoArrayStyle___annotation-DetailAST",
  "sourceFilePath": "src/main/java/com/puppycrawl/tools/checkstyle/checks/annotation/AnnotationUseStyleCheck.java",
  "functionStartLine": 401,
  "functionEndLine": 429,
  "changeHistory": [
    "82bc23f45d7d57dfa26d1a1d4ec0f7dfcd88abb2",
    "82d8e91024a57a96fbb6410dacb29d6a3f582903",
    "6d5c0da42fa54ceabbc1959e9db354ed64a2ff86",
    "1c42e3eeb9aeebc47b2373541c1cc8d311d8b671",
    "1bd7f9bdf3dc678b70e79481971aebc50db69dc7",
    "f1efb27670a93690577f1bae17fc9dcbd88a795d",
    "8a7713b4f7890e2f6493eacc5806b5eb8cfbe767"
  ],
  "changeHistoryShort": {
    "82bc23f45d7d57dfa26d1a1d4ec0f7dfcd88abb2": "Ybodychange",
    "82d8e91024a57a96fbb6410dacb29d6a3f582903": "Ybodychange",
    "6d5c0da42fa54ceabbc1959e9db354ed64a2ff86": "Ybodychange",
    "1c42e3eeb9aeebc47b2373541c1cc8d311d8b671": "Ybodychange",
    "1bd7f9bdf3dc678b70e79481971aebc50db69dc7": "Ymultichange(Yparameterchange,Ybodychange)",
    "f1efb27670a93690577f1bae17fc9dcbd88a795d": "Yfilerename",
    "8a7713b4f7890e2f6493eacc5806b5eb8cfbe767": "Yintroduced"
  },
  "changeHistoryDetails": {
    "82bc23f45d7d57dfa26d1a1d4ec0f7dfcd88abb2": {
      "type": "Ybodychange",
      "commitMessage": "Pull #4328: moved variables inside if blocks to reduce execution time",
      "commitDate": 1494119754000,
      "commitName": "82bc23f45d7d57dfa26d1a1d4ec0f7dfcd88abb2",
      "commitAuthor": "rnveach",
      "commitDateOld": 1488165925000,
      "commitNameOld": "ce21086e087661553f3a774c38362327ee88996a",
      "commitAuthorOld": "Vladislav Lisetskii",
      "daysBetweenCommits": 68.91,
      "commitsBetweenForRepo": 279,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,30 +1,29 @@\n     private void checkCompactNoArrayStyle(final DetailAST annotation) {\n         final DetailAST arrayInit \u003d\n             annotation.findFirstToken(TokenTypes.ANNOTATION_ARRAY_INIT);\n \n         final int valuePairCount \u003d\n             annotation.getChildCount(TokenTypes.ANNOTATION_MEMBER_VALUE_PAIR);\n \n-        final DetailAST valuePair \u003d\n-            annotation.findFirstToken(TokenTypes.ANNOTATION_MEMBER_VALUE_PAIR);\n-\n         //in compact style with one value\n         if (arrayInit !\u003d null\n             \u0026\u0026 arrayInit.getChildCount(TokenTypes.EXPR) \u003d\u003d 1) {\n             log(annotation.getLineNo(), MSG_KEY_ANNOTATION_INCORRECT_STYLE,\n                 ElementStyle.COMPACT_NO_ARRAY);\n         }\n         //in expanded style with one value and the correct element name\n         else if (valuePairCount \u003d\u003d 1) {\n+            final DetailAST valuePair \u003d\n+                    annotation.findFirstToken(TokenTypes.ANNOTATION_MEMBER_VALUE_PAIR);\n             final DetailAST nestedArrayInit \u003d\n                 valuePair.findFirstToken(TokenTypes.ANNOTATION_ARRAY_INIT);\n \n             if (nestedArrayInit !\u003d null\n                 \u0026\u0026 ANNOTATION_ELEMENT_SINGLE_NAME.equals(\n                     valuePair.getFirstChild().getText())\n                     \u0026\u0026 nestedArrayInit.getChildCount(TokenTypes.EXPR) \u003d\u003d 1) {\n                 log(annotation.getLineNo(), MSG_KEY_ANNOTATION_INCORRECT_STYLE,\n                     ElementStyle.COMPACT_NO_ARRAY);\n             }\n         }\n     }\n\\ No newline at end of file\n"
    },
    "82d8e91024a57a96fbb6410dacb29d6a3f582903": {
      "type": "Ybodychange",
      "commitMessage": "Remove unnecessary qualifiers. #1555\n\nFixes `UnnecessarilyQualifiedStaticUsage` inspection violations.\n\nDescription:\n\u003eReports calls to static methods or accesses of static fields on the current class which are qualified with the class name. Such qualification is unnecessary, and may be safely removed.\n",
      "commitDate": 1439324041000,
      "commitName": "82d8e91024a57a96fbb6410dacb29d6a3f582903",
      "commitAuthor": "Michal Kordas",
      "commitDateOld": 1439295751000,
      "commitNameOld": "f5f1d754e28ee1e3c5472fd4d5292f24a335e64e",
      "commitAuthorOld": "Michal Kordas",
      "daysBetweenCommits": 0.33,
      "commitsBetweenForRepo": 5,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,31 +1,30 @@\n     private void checkCompactNoArrayStyle(final DetailAST annotation) {\n         final DetailAST arrayInit \u003d\n             annotation.findFirstToken(TokenTypes.ANNOTATION_ARRAY_INIT);\n \n         final int valuePairCount \u003d\n             annotation.getChildCount(TokenTypes.ANNOTATION_MEMBER_VALUE_PAIR);\n \n         final DetailAST valuePair \u003d\n             annotation.findFirstToken(TokenTypes.ANNOTATION_MEMBER_VALUE_PAIR);\n \n         //in compact style with one value\n         if (arrayInit !\u003d null\n             \u0026\u0026 arrayInit.getChildCount(TokenTypes.EXPR) \u003d\u003d 1) {\n             log(annotation.getLineNo(), MSG_KEY_ANNOTATION_INCORRECT_STYLE,\n                 ElementStyle.COMPACT_NO_ARRAY);\n         }\n         //in expanded style with one value and the correct element name\n         else if (valuePairCount \u003d\u003d 1) {\n             final DetailAST nestedArrayInit \u003d\n                 valuePair.findFirstToken(TokenTypes.ANNOTATION_ARRAY_INIT);\n \n             if (nestedArrayInit !\u003d null\n-                \u0026\u0026 AnnotationUseStyleCheck\n-                    .ANNOTATION_ELEMENT_SINGLE_NAME.equals(\n+                \u0026\u0026 ANNOTATION_ELEMENT_SINGLE_NAME.equals(\n                     valuePair.getFirstChild().getText())\n                     \u0026\u0026 nestedArrayInit.getChildCount(TokenTypes.EXPR) \u003d\u003d 1) {\n                 log(annotation.getLineNo(), MSG_KEY_ANNOTATION_INCORRECT_STYLE,\n                     ElementStyle.COMPACT_NO_ARRAY);\n             }\n         }\n     }\n\\ No newline at end of file\n"
    },
    "6d5c0da42fa54ceabbc1959e9db354ed64a2ff86": {
      "type": "Ybodychange",
      "commitMessage": "Remove unnecessary this keyword. #1555\n\nFixes `UnnecessaryThis` inspection violations.\n\nDescription:\n\u003eReports on any unnecessary uses of this in the code. Using this to disambiguate a code reference may easily become unnecessary via automatic refactorings, and is discouraged by many coding styles.\n For example:\n ```\n this.a \u003d 3;\n ```\n",
      "commitDate": 1439131302000,
      "commitName": "6d5c0da42fa54ceabbc1959e9db354ed64a2ff86",
      "commitAuthor": "Michal Kordas",
      "commitDateOld": 1439088829000,
      "commitNameOld": "93914f360e7f533c6d8c23ba61e93cb045eaba7d",
      "commitAuthorOld": "Ruslan Diachenko",
      "daysBetweenCommits": 0.49,
      "commitsBetweenForRepo": 10,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,31 +1,31 @@\n     private void checkCompactNoArrayStyle(final DetailAST annotation) {\n         final DetailAST arrayInit \u003d\n             annotation.findFirstToken(TokenTypes.ANNOTATION_ARRAY_INIT);\n \n         final int valuePairCount \u003d\n             annotation.getChildCount(TokenTypes.ANNOTATION_MEMBER_VALUE_PAIR);\n \n         final DetailAST valuePair \u003d\n             annotation.findFirstToken(TokenTypes.ANNOTATION_MEMBER_VALUE_PAIR);\n \n         //in compact style with one value\n         if (arrayInit !\u003d null\n             \u0026\u0026 arrayInit.getChildCount(TokenTypes.EXPR) \u003d\u003d 1) {\n-            this.log(annotation.getLineNo(), MSG_KEY_ANNOTATION_INCORRECT_STYLE,\n+            log(annotation.getLineNo(), MSG_KEY_ANNOTATION_INCORRECT_STYLE,\n                 ElementStyle.COMPACT_NO_ARRAY);\n         }\n         //in expanded style with one value and the correct element name\n         else if (valuePairCount \u003d\u003d 1) {\n             final DetailAST nestedArrayInit \u003d\n                 valuePair.findFirstToken(TokenTypes.ANNOTATION_ARRAY_INIT);\n \n             if (nestedArrayInit !\u003d null\n                 \u0026\u0026 AnnotationUseStyleCheck\n                     .ANNOTATION_ELEMENT_SINGLE_NAME.equals(\n                     valuePair.getFirstChild().getText())\n                     \u0026\u0026 nestedArrayInit.getChildCount(TokenTypes.EXPR) \u003d\u003d 1) {\n-                this.log(annotation.getLineNo(), MSG_KEY_ANNOTATION_INCORRECT_STYLE,\n+                log(annotation.getLineNo(), MSG_KEY_ANNOTATION_INCORRECT_STYLE,\n                     ElementStyle.COMPACT_NO_ARRAY);\n             }\n         }\n     }\n\\ No newline at end of file\n"
    },
    "1c42e3eeb9aeebc47b2373541c1cc8d311d8b671": {
      "type": "Ybodychange",
      "commitMessage": "Fix PMD violations from \u0027strings\u0027 ruleset, issue #873\n",
      "commitDate": 1429113367000,
      "commitName": "1c42e3eeb9aeebc47b2373541c1cc8d311d8b671",
      "commitAuthor": "Michal Kordas",
      "commitDateOld": 1426705638000,
      "commitNameOld": "a8a721f278e9ccf120cc7bce6f337ca5a98aaf88",
      "commitAuthorOld": "Damian Szczepanik",
      "daysBetweenCommits": 27.87,
      "commitsBetweenForRepo": 104,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,34 +1,34 @@\n     private void checkCompactNoArrayStyle(final DetailAST annotation)\n     {\n         final DetailAST arrayInit \u003d\n             annotation.findFirstToken(TokenTypes.ANNOTATION_ARRAY_INIT);\n \n         final int valuePairCount \u003d\n             annotation.getChildCount(TokenTypes.ANNOTATION_MEMBER_VALUE_PAIR);\n \n         final DetailAST valuePair \u003d\n             annotation.findFirstToken(TokenTypes.ANNOTATION_MEMBER_VALUE_PAIR);\n \n         //in compact style with one value\n         if (arrayInit !\u003d null\n             \u0026\u0026 arrayInit.getChildCount(TokenTypes.EXPR) \u003d\u003d 1)\n         {\n-            this.log(annotation.getLineNo(), \"annotation.incorrect.style\",\n+            this.log(annotation.getLineNo(), MSG_KEY_ANNOTATION_INCORRECT_STYLE,\n                 ElementStyle.COMPACT_NO_ARRAY);\n         }\n         //in expanded style with one value and the correct element name\n         else if (valuePairCount \u003d\u003d 1) {\n             final DetailAST nestedArrayInit \u003d\n                 valuePair.findFirstToken(TokenTypes.ANNOTATION_ARRAY_INIT);\n \n             if (nestedArrayInit !\u003d null\n                 \u0026\u0026 AnnotationUseStyleCheck.\n                     ANNOTATION_ELEMENT_SINGLE_NAME.equals(\n                     valuePair.getFirstChild().getText())\n                     \u0026\u0026 nestedArrayInit.getChildCount(TokenTypes.EXPR) \u003d\u003d 1)\n             {\n-                this.log(annotation.getLineNo(), \"annotation.incorrect.style\",\n+                this.log(annotation.getLineNo(), MSG_KEY_ANNOTATION_INCORRECT_STYLE,\n                     ElementStyle.COMPACT_NO_ARRAY);\n             }\n         }\n     }\n\\ No newline at end of file\n"
    },
    "1bd7f9bdf3dc678b70e79481971aebc50db69dc7": {
      "type": "Ymultichange(Yparameterchange,Ybodychange)",
      "commitMessage": "Prefixes, annotation, #512\n",
      "commitDate": 1421678156000,
      "commitName": "1bd7f9bdf3dc678b70e79481971aebc50db69dc7",
      "commitAuthor": "alexkravin",
      "subchanges": [
        "Yparameterchange",
        "Ybodychange"
      ]
    },
    "f1efb27670a93690577f1bae17fc9dcbd88a795d": {
      "type": "Yfilerename",
      "commitMessage": "moving to standard directory layout\n",
      "commitDate": 1393953491000,
      "commitName": "f1efb27670a93690577f1bae17fc9dcbd88a795d",
      "commitAuthor": "Ivan Sopov",
      "commitDateOld": 1393482905000,
      "commitNameOld": "1cdaeaaa4fbf02a7388f1fcbea1c86ef0ea32fed",
      "commitAuthorOld": "Andrew Gaul",
      "daysBetweenCommits": 5.45,
      "commitsBetweenForRepo": 1,
      "commitsBetweenForFile": 1,
      "diff": ""
    },
    "8a7713b4f7890e2f6493eacc5806b5eb8cfbe767": {
      "type": "Yintroduced",
      "commitMessage": "record work on patch #2534038 from Travis for new annotation checks. Very good patch as usual from Travis. Shame on me for taking so long to apply it.\n",
      "commitDate": 1237805379000,
      "commitName": "8a7713b4f7890e2f6493eacc5806b5eb8cfbe767",
      "commitAuthor": "Oliver Burn"
    }
  }
}