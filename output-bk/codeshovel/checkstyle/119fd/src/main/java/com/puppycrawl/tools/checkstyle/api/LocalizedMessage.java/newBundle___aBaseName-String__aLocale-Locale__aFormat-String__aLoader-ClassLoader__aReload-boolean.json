{
  "origin": "codeshovel",
  "repositoryName": "checkstyle",
  "repositoryPath": "/home/ncbradley/codeshovel-repos/checkstyle/.git",
  "startCommitName": "119fd4fb33bef9f5c66fc950396669af842c21a3",
  "sourceFileName": "LocalizedMessage.java",
  "functionName": "newBundle",
  "functionId": "newBundle___aBaseName-String__aLocale-Locale__aFormat-String__aLoader-ClassLoader__aReload-boolean",
  "sourceFilePath": "src/main/java/com/puppycrawl/tools/checkstyle/api/LocalizedMessage.java",
  "functionStartLine": 504,
  "functionEndLine": 536,
  "changeHistory": [
    "b16aef991830dd1fce1ce2640af7e7db8b329d86",
    "bf3e77cc87f01b9ea0d205933749770398fa623b",
    "2880edd6554400955fb950bf8127311c436d2a7a",
    "c3f9d975a814113a5c920da60eb9c7ab7623b3cf",
    "716292c2b86196c2c551b100c7853fc19422cbf8",
    "dcb3029c008907edf6aa4b59a51349f0ca94f54b"
  ],
  "changeHistoryShort": {
    "b16aef991830dd1fce1ce2640af7e7db8b329d86": "Ybodychange",
    "bf3e77cc87f01b9ea0d205933749770398fa623b": "Ybodychange",
    "2880edd6554400955fb950bf8127311c436d2a7a": "Ybodychange",
    "c3f9d975a814113a5c920da60eb9c7ab7623b3cf": "Ybodychange",
    "716292c2b86196c2c551b100c7853fc19422cbf8": "Yexceptionschange",
    "dcb3029c008907edf6aa4b59a51349f0ca94f54b": "Yintroduced"
  },
  "changeHistoryDetails": {
    "b16aef991830dd1fce1ce2640af7e7db8b329d86": {
      "type": "Ybodychange",
      "commitMessage": "Issue #5023: Prohibited the usage of hardcoded encoding in Checkstyle source code;\n",
      "commitDate": 1508336382000,
      "commitName": "b16aef991830dd1fce1ce2640af7e7db8b329d86",
      "commitAuthor": "Artem Dudkin",
      "commitDateOld": 1504699353000,
      "commitNameOld": "2f4e7d93d64b61b6762d15422549cb6bdf0d41eb",
      "commitAuthorOld": "Timur Tibeyev",
      "daysBetweenCommits": 42.1,
      "commitsBetweenForRepo": 85,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,32 +1,33 @@\n         public ResourceBundle newBundle(String aBaseName, Locale aLocale, String aFormat,\n                  ClassLoader aLoader, boolean aReload) throws IOException {\n             // The below is a copy of the default implementation.\n             final String bundleName \u003d toBundleName(aBaseName, aLocale);\n             final String resourceName \u003d toResourceName(bundleName, \"properties\");\n             InputStream stream \u003d null;\n             if (aReload) {\n                 final URL url \u003d aLoader.getResource(resourceName);\n                 if (url !\u003d null) {\n                     final URLConnection connection \u003d url.openConnection();\n                     if (connection !\u003d null) {\n                         connection.setUseCaches(false);\n                         stream \u003d connection.getInputStream();\n                     }\n                 }\n             }\n             else {\n                 stream \u003d aLoader.getResourceAsStream(resourceName);\n             }\n             ResourceBundle resourceBundle \u003d null;\n             if (stream !\u003d null) {\n-                final Reader streamReader \u003d new InputStreamReader(stream, \"UTF-8\");\n+                final Reader streamReader \u003d new InputStreamReader(stream,\n+                        StandardCharsets.UTF_8.name());\n                 try {\n                     // Only this line is changed to make it to read properties files as UTF-8.\n                     resourceBundle \u003d new PropertyResourceBundle(streamReader);\n                 }\n                 finally {\n                     stream.close();\n                 }\n             }\n             return resourceBundle;\n         }\n\\ No newline at end of file\n"
    },
    "bf3e77cc87f01b9ea0d205933749770398fa623b": {
      "type": "Ybodychange",
      "commitMessage": "Local variables should not shadow class fields. Issue #46\n",
      "commitDate": 1439955956000,
      "commitName": "bf3e77cc87f01b9ea0d205933749770398fa623b",
      "commitAuthor": "Ilja Dubinin",
      "commitDateOld": 1439886329000,
      "commitNameOld": "54ccca18635a4aeea90da86d30590df498f76b08",
      "commitAuthorOld": "Baratali Izmailov",
      "daysBetweenCommits": 0.81,
      "commitsBetweenForRepo": 17,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,32 +1,32 @@\n         public ResourceBundle newBundle(String aBaseName, Locale aLocale, String aFormat,\n                  ClassLoader aLoader, boolean aReload) throws IOException {\n             // The below is a copy of the default implementation.\n             final String bundleName \u003d toBundleName(aBaseName, aLocale);\n             final String resourceName \u003d toResourceName(bundleName, \"properties\");\n             InputStream stream \u003d null;\n             if (aReload) {\n                 final URL url \u003d aLoader.getResource(resourceName);\n                 if (url !\u003d null) {\n                     final URLConnection connection \u003d url.openConnection();\n                     if (connection !\u003d null) {\n                         connection.setUseCaches(false);\n                         stream \u003d connection.getInputStream();\n                     }\n                 }\n             }\n             else {\n                 stream \u003d aLoader.getResourceAsStream(resourceName);\n             }\n-            ResourceBundle bundle \u003d null;\n+            ResourceBundle resourceBundle \u003d null;\n             if (stream !\u003d null) {\n                 final Reader streamReader \u003d new InputStreamReader(stream, \"UTF-8\");\n                 try {\n                     // Only this line is changed to make it to read properties files as UTF-8.\n-                    bundle \u003d new PropertyResourceBundle(streamReader);\n+                    resourceBundle \u003d new PropertyResourceBundle(streamReader);\n                 }\n                 finally {\n                     stream.close();\n                 }\n             }\n-            return bundle;\n+            return resourceBundle;\n         }\n\\ No newline at end of file\n"
    },
    "2880edd6554400955fb950bf8127311c436d2a7a": {
      "type": "Ybodychange",
      "commitMessage": "Decrease scope of variables. #1538\n",
      "commitDate": 1438566538000,
      "commitName": "2880edd6554400955fb950bf8127311c436d2a7a",
      "commitAuthor": "Michal Kordas",
      "commitDateOld": 1438566092000,
      "commitNameOld": "fd794d428cc0854ddd4d416f0208d49f1ee9cbe1",
      "commitAuthorOld": "Michal Kordas",
      "daysBetweenCommits": 0.01,
      "commitsBetweenForRepo": 16,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,32 +1,32 @@\n         public ResourceBundle newBundle(String aBaseName, Locale aLocale, String aFormat,\n                  ClassLoader aLoader, boolean aReload) throws IOException {\n             // The below is a copy of the default implementation.\n             final String bundleName \u003d toBundleName(aBaseName, aLocale);\n             final String resourceName \u003d toResourceName(bundleName, \"properties\");\n-            ResourceBundle bundle \u003d null;\n             InputStream stream \u003d null;\n             if (aReload) {\n                 final URL url \u003d aLoader.getResource(resourceName);\n                 if (url !\u003d null) {\n                     final URLConnection connection \u003d url.openConnection();\n                     if (connection !\u003d null) {\n                         connection.setUseCaches(false);\n                         stream \u003d connection.getInputStream();\n                     }\n                 }\n             }\n             else {\n                 stream \u003d aLoader.getResourceAsStream(resourceName);\n             }\n+            ResourceBundle bundle \u003d null;\n             if (stream !\u003d null) {\n                 final Reader streamReader \u003d new InputStreamReader(stream, \"UTF-8\");\n                 try {\n                     // Only this line is changed to make it to read properties files as UTF-8.\n                     bundle \u003d new PropertyResourceBundle(streamReader);\n                 }\n                 finally {\n                     stream.close();\n                 }\n             }\n             return bundle;\n         }\n\\ No newline at end of file\n"
    },
    "c3f9d975a814113a5c920da60eb9c7ab7623b3cf": {
      "type": "Ybodychange",
      "commitMessage": "100% coverage for UTF8Control. #1295\n",
      "commitDate": 1437869131000,
      "commitName": "c3f9d975a814113a5c920da60eb9c7ab7623b3cf",
      "commitAuthor": "Roman Ivanov",
      "commitDateOld": 1432847903000,
      "commitNameOld": "716292c2b86196c2c551b100c7853fc19422cbf8",
      "commitAuthorOld": "Michal Kordas",
      "daysBetweenCommits": 58.12,
      "commitsBetweenForRepo": 426,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,30 +1,32 @@\n         public ResourceBundle newBundle(String aBaseName, Locale aLocale, String aFormat,\n                  ClassLoader aLoader, boolean aReload) throws IOException {\n             // The below is a copy of the default implementation.\n             final String bundleName \u003d toBundleName(aBaseName, aLocale);\n             final String resourceName \u003d toResourceName(bundleName, \"properties\");\n             ResourceBundle bundle \u003d null;\n             InputStream stream \u003d null;\n             if (aReload) {\n                 final URL url \u003d aLoader.getResource(resourceName);\n                 if (url !\u003d null) {\n                     final URLConnection connection \u003d url.openConnection();\n                     if (connection !\u003d null) {\n                         connection.setUseCaches(false);\n                         stream \u003d connection.getInputStream();\n                     }\n                 }\n             }\n             else {\n                 stream \u003d aLoader.getResourceAsStream(resourceName);\n             }\n             if (stream !\u003d null) {\n-                try (Reader streamReader \u003d new InputStreamReader(stream, \"UTF-8\")) {\n+                final Reader streamReader \u003d new InputStreamReader(stream, \"UTF-8\");\n+                try {\n                     // Only this line is changed to make it to read properties files as UTF-8.\n                     bundle \u003d new PropertyResourceBundle(streamReader);\n-                } finally {\n+                }\n+                finally {\n                     stream.close();\n                 }\n             }\n             return bundle;\n         }\n\\ No newline at end of file\n"
    },
    "716292c2b86196c2c551b100c7853fc19422cbf8": {
      "type": "Yexceptionschange",
      "commitMessage": "Fix ThrowsCount check violations in Checkstyle code. #945\n",
      "commitDate": 1432847903000,
      "commitName": "716292c2b86196c2c551b100c7853fc19422cbf8",
      "commitAuthor": "Michal Kordas",
      "commitDateOld": 1432741074000,
      "commitNameOld": "d6966ec1f74912d6bfe3bb1c68bf67436da23f7e",
      "commitAuthorOld": "Michal Kordas",
      "daysBetweenCommits": 1.24,
      "commitsBetweenForRepo": 12,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,31 +1,30 @@\n         public ResourceBundle newBundle(String aBaseName, Locale aLocale, String aFormat,\n-                 ClassLoader aLoader, boolean aReload) throws IllegalAccessException,\n-                  InstantiationException, IOException {\n+                 ClassLoader aLoader, boolean aReload) throws IOException {\n             // The below is a copy of the default implementation.\n             final String bundleName \u003d toBundleName(aBaseName, aLocale);\n             final String resourceName \u003d toResourceName(bundleName, \"properties\");\n             ResourceBundle bundle \u003d null;\n             InputStream stream \u003d null;\n             if (aReload) {\n                 final URL url \u003d aLoader.getResource(resourceName);\n                 if (url !\u003d null) {\n                     final URLConnection connection \u003d url.openConnection();\n                     if (connection !\u003d null) {\n                         connection.setUseCaches(false);\n                         stream \u003d connection.getInputStream();\n                     }\n                 }\n             }\n             else {\n                 stream \u003d aLoader.getResourceAsStream(resourceName);\n             }\n             if (stream !\u003d null) {\n                 try (Reader streamReader \u003d new InputStreamReader(stream, \"UTF-8\")) {\n                     // Only this line is changed to make it to read properties files as UTF-8.\n                     bundle \u003d new PropertyResourceBundle(streamReader);\n                 } finally {\n                     stream.close();\n                 }\n             }\n             return bundle;\n         }\n\\ No newline at end of file\n"
    },
    "dcb3029c008907edf6aa4b59a51349f0ca94f54b": {
      "type": "Yintroduced",
      "commitMessage": "Switched Checkstyle and all resources to UTF-8 encoding, issue #489\n",
      "commitDate": 1420821881000,
      "commitName": "dcb3029c008907edf6aa4b59a51349f0ca94f54b",
      "commitAuthor": "alexkravin"
    }
  }
}