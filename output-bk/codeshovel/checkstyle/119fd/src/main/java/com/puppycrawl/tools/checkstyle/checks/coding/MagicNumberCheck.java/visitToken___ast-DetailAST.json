{
  "origin": "codeshovel",
  "repositoryName": "checkstyle",
  "repositoryPath": "/home/ncbradley/codeshovel-repos/checkstyle/.git",
  "startCommitName": "119fd4fb33bef9f5c66fc950396669af842c21a3",
  "sourceFileName": "MagicNumberCheck.java",
  "functionName": "visitToken",
  "functionId": "visitToken___ast-DetailAST",
  "sourceFilePath": "src/main/java/com/puppycrawl/tools/checkstyle/checks/coding/MagicNumberCheck.java",
  "functionStartLine": 211,
  "functionEndLine": 229,
  "changeHistory": [
    "39b343a32a4f1ce18ee98a34618fda0a5404d6a0",
    "a707819ab73dded873917fd33e22d45d0e3e1860",
    "4d2e6647f9e8385749c382bcab5e64965a943178",
    "b4cec8170a1d89159620b327a453ce13215d4eea",
    "795968d20ed78e558a95fdd35702366327a4bdc1",
    "7a1b0b12a6caa0e8ccf6a7a0cc44046e7f93e339",
    "1bd30555eac039d0486dffb3fc43b7a34117909b",
    "bb1b29851f14bf7eaf5656e01c285c0f5f3b9000",
    "f1efb27670a93690577f1bae17fc9dcbd88a795d",
    "e28ebec1e0158a27217ea2fe71cf39000157edea",
    "73ec35d35bcf970c588278cb18300dfdf814a704",
    "bd757c37dd4ba1384c761a98f31bdbbd22d1daf8",
    "2f70947ed74ab968324fdcf83f808ff1d88df1fb",
    "fc17c983239b6e6a6d3e41f53cb134bd22488db1",
    "bd4ec9a98edaced73f14c5422f64c39fad3ce596",
    "60847a32d538e9a0f1c1de3e349e8b3833741506",
    "9920857810ecc9efdbca19e2749b75abc0cbbf14",
    "7284e8aa425ef5ed01838e99fd228609ce3e1208"
  ],
  "changeHistoryShort": {
    "39b343a32a4f1ce18ee98a34618fda0a5404d6a0": "Ybodychange",
    "a707819ab73dded873917fd33e22d45d0e3e1860": "Ybodychange",
    "4d2e6647f9e8385749c382bcab5e64965a943178": "Ybodychange",
    "b4cec8170a1d89159620b327a453ce13215d4eea": "Ybodychange",
    "795968d20ed78e558a95fdd35702366327a4bdc1": "Ybodychange",
    "7a1b0b12a6caa0e8ccf6a7a0cc44046e7f93e339": "Ybodychange",
    "1bd30555eac039d0486dffb3fc43b7a34117909b": "Ybodychange",
    "bb1b29851f14bf7eaf5656e01c285c0f5f3b9000": "Ymultichange(Yparameterchange,Ybodychange)",
    "f1efb27670a93690577f1bae17fc9dcbd88a795d": "Yfilerename",
    "e28ebec1e0158a27217ea2fe71cf39000157edea": "Ybodychange",
    "73ec35d35bcf970c588278cb18300dfdf814a704": "Ybodychange",
    "bd757c37dd4ba1384c761a98f31bdbbd22d1daf8": "Ybodychange",
    "2f70947ed74ab968324fdcf83f808ff1d88df1fb": "Ybodychange",
    "fc17c983239b6e6a6d3e41f53cb134bd22488db1": "Ybodychange",
    "bd4ec9a98edaced73f14c5422f64c39fad3ce596": "Ybodychange",
    "60847a32d538e9a0f1c1de3e349e8b3833741506": "Ybodychange",
    "9920857810ecc9efdbca19e2749b75abc0cbbf14": "Yfilerename",
    "7284e8aa425ef5ed01838e99fd228609ce3e1208": "Yintroduced"
  },
  "changeHistoryDetails": {
    "39b343a32a4f1ce18ee98a34618fda0a5404d6a0": {
      "type": "Ybodychange",
      "commitMessage": "Issue #3143: forbid empty return statements and fixed violations",
      "commitDate": 1464356569000,
      "commitName": "39b343a32a4f1ce18ee98a34618fda0a5404d6a0",
      "commitAuthor": "rnveach",
      "commitDateOld": 1458221995000,
      "commitNameOld": "167dd96d8ca503a472bf003f187191d6b0ce586c",
      "commitAuthorOld": "Rasmus Kaj",
      "daysBetweenCommits": 71.0,
      "commitsBetweenForRepo": 145,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,24 +1,19 @@\n     public void visitToken(DetailAST ast) {\n-        if (ignoreAnnotation \u0026\u0026 isChildOf(ast, TokenTypes.ANNOTATION)) {\n-            return;\n-        }\n+        if ((!ignoreAnnotation || !isChildOf(ast, TokenTypes.ANNOTATION))\n+                \u0026\u0026 !isInIgnoreList(ast)\n+                \u0026\u0026 (!ignoreHashCodeMethod || !isInHashCodeMethod(ast))) {\n+            final DetailAST constantDefAST \u003d findContainingConstantDef(ast);\n \n-        if (isInIgnoreList(ast)\n-            || ignoreHashCodeMethod \u0026\u0026 isInHashCodeMethod(ast)) {\n-            return;\n-        }\n-\n-        final DetailAST constantDefAST \u003d findContainingConstantDef(ast);\n-\n-        if (constantDefAST \u003d\u003d null) {\n-            if (!ignoreFieldDeclaration || !isFieldDeclaration(ast)) {\n-                reportMagicNumber(ast);\n+            if (constantDefAST \u003d\u003d null) {\n+                if (!ignoreFieldDeclaration || !isFieldDeclaration(ast)) {\n+                    reportMagicNumber(ast);\n+                }\n             }\n-        }\n-        else {\n-            final boolean found \u003d isMagicNumberExists(ast, constantDefAST);\n-            if (found) {\n-                reportMagicNumber(ast);\n+            else {\n+                final boolean found \u003d isMagicNumberExists(ast, constantDefAST);\n+                if (found) {\n+                    reportMagicNumber(ast);\n+                }\n             }\n         }\n     }\n\\ No newline at end of file\n"
    },
    "a707819ab73dded873917fd33e22d45d0e3e1860": {
      "type": "Ybodychange",
      "commitMessage": "Issue #2661: Enforce AvoidConditionInversionCheck of sevntu-checkstyle over Checkstyle source code\n",
      "commitDate": 1450994517000,
      "commitName": "a707819ab73dded873917fd33e22d45d0e3e1860",
      "commitAuthor": "Andrei Selkin",
      "commitDateOld": 1441047087000,
      "commitNameOld": "c899af31c112c07ea1244f6bbe2c5c6c56818ae5",
      "commitAuthorOld": "Ruslan Diachenko",
      "daysBetweenCommits": 115.13,
      "commitsBetweenForRepo": 687,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,24 +1,24 @@\n     public void visitToken(DetailAST ast) {\n         if (ignoreAnnotation \u0026\u0026 isChildOf(ast, TokenTypes.ANNOTATION)) {\n             return;\n         }\n \n         if (isInIgnoreList(ast)\n             || ignoreHashCodeMethod \u0026\u0026 isInHashCodeMethod(ast)) {\n             return;\n         }\n \n         final DetailAST constantDefAST \u003d findContainingConstantDef(ast);\n \n         if (constantDefAST \u003d\u003d null) {\n-            if (!(ignoreFieldDeclaration \u0026\u0026 isFieldDeclaration(ast))) {\n+            if (!ignoreFieldDeclaration || !isFieldDeclaration(ast)) {\n                 reportMagicNumber(ast);\n             }\n         }\n         else {\n             final boolean found \u003d isMagicNumberExists(ast, constantDefAST);\n             if (found) {\n                 reportMagicNumber(ast);\n             }\n         }\n     }\n\\ No newline at end of file\n"
    },
    "4d2e6647f9e8385749c382bcab5e64965a943178": {
      "type": "Ybodychange",
      "commitMessage": "Rename boolean methods to start with question word. #1555\n\nFixes `BooleanMethodNameMustStartWithQuestion` inspection violations.\n\nDescription:\n\u003eReports boolean methods whose names do not start with a question word. Boolean methods that override library methods are ignored by this inspection.\n",
      "commitDate": 1440705239000,
      "commitName": "4d2e6647f9e8385749c382bcab5e64965a943178",
      "commitAuthor": "Michal Kordas",
      "commitDateOld": 1440677821000,
      "commitNameOld": "cdf3e56bacd3895262af8a1df9ca5c81f4071970",
      "commitAuthorOld": "Ilja Dubinin",
      "daysBetweenCommits": 0.32,
      "commitsBetweenForRepo": 30,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,24 +1,24 @@\n     public void visitToken(DetailAST ast) {\n         if (ignoreAnnotation \u0026\u0026 isChildOf(ast, TokenTypes.ANNOTATION)) {\n             return;\n         }\n \n-        if (inIgnoreList(ast)\n+        if (isInIgnoreList(ast)\n             || ignoreHashCodeMethod \u0026\u0026 isInHashCodeMethod(ast)) {\n             return;\n         }\n \n         final DetailAST constantDefAST \u003d findContainingConstantDef(ast);\n \n         if (constantDefAST \u003d\u003d null) {\n             if (!(ignoreFieldDeclaration \u0026\u0026 isFieldDeclaration(ast))) {\n                 reportMagicNumber(ast);\n             }\n         }\n         else {\n             final boolean found \u003d isMagicNumberExists(ast, constantDefAST);\n             if (found) {\n                 reportMagicNumber(ast);\n             }\n         }\n     }\n\\ No newline at end of file\n"
    },
    "b4cec8170a1d89159620b327a453ce13215d4eea": {
      "type": "Ybodychange",
      "commitMessage": "MagicNumberCheck updated to follow Cyclomatic Complexity rule. #954\n",
      "commitDate": 1434353387000,
      "commitName": "b4cec8170a1d89159620b327a453ce13215d4eea",
      "commitAuthor": "Roman Ivanov",
      "commitDateOld": 1432251849000,
      "commitNameOld": "9dc87c52e507f9ac32ca8e3c85923b616a77c80b",
      "commitAuthorOld": "Michal Kordas",
      "daysBetweenCommits": 24.32,
      "commitsBetweenForRepo": 141,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,30 +1,25 @@\n     public void visitToken(DetailAST ast) {\n         if (ignoreAnnotation \u0026\u0026 isChildOf(ast, TokenTypes.ANNOTATION)) {\n             return;\n         }\n \n         if (inIgnoreList(ast)\n             || ignoreHashCodeMethod \u0026\u0026 isInHashCodeMethod(ast)) {\n             return;\n         }\n \n         final DetailAST constantDefAST \u003d findContainingConstantDef(ast);\n \n         if (constantDefAST \u003d\u003d null) {\n             if (!(ignoreFieldDeclaration \u0026\u0026 isFieldDeclaration(ast))) {\n                 reportMagicNumber(ast);\n             }\n         }\n         else {\n-            DetailAST astNode \u003d ast.getParent();\n-            while (astNode !\u003d constantDefAST) {\n-                final int type \u003d astNode.getType();\n-                if (Arrays.binarySearch(ALLOWED_PATH_TOKENTYPES, type) \u003c 0) {\n-                    reportMagicNumber(ast);\n-                    break;\n-                }\n+            final boolean found \u003d isMagicNumberExists(ast, constantDefAST);\n+            if (found) {\n+                reportMagicNumber(ast);\n \n-                astNode \u003d astNode.getParent();\n             }\n         }\n     }\n\\ No newline at end of file\n"
    },
    "795968d20ed78e558a95fdd35702366327a4bdc1": {
      "type": "Ybodychange",
      "commitMessage": "Magic Number annotation detection enhanced for arbitary parent nodes, Issue #926\n",
      "commitDate": 1431374031000,
      "commitName": "795968d20ed78e558a95fdd35702366327a4bdc1",
      "commitAuthor": "Mehmet Can Cömert",
      "commitDateOld": 1430869230000,
      "commitNameOld": "e3b3bfb9997b28fc95d0f950e9673a595e2f4c7d",
      "commitAuthorOld": "Roman Ivanov",
      "daysBetweenCommits": 5.84,
      "commitsBetweenForRepo": 4,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,32 +1,32 @@\n     public void visitToken(DetailAST ast)\n     {\n-        if (ignoreAnnotation \u0026\u0026 isInAnnotation(ast)) {\n+        if (ignoreAnnotation \u0026\u0026 isChildOf(ast, TokenTypes.ANNOTATION)) {\n             return;\n         }\n \n         if (inIgnoreList(ast)\n             || ignoreHashCodeMethod \u0026\u0026 isInHashCodeMethod(ast))\n         {\n             return;\n         }\n \n         final DetailAST constantDefAST \u003d findContainingConstantDef(ast);\n \n         if (constantDefAST \u003d\u003d null) {\n             if (!(ignoreFieldDeclaration \u0026\u0026 isFieldDeclaration(ast))) {\n                 reportMagicNumber(ast);\n             }\n         }\n         else {\n             DetailAST astNode \u003d ast.getParent();\n             while (astNode !\u003d constantDefAST) {\n                 final int type \u003d astNode.getType();\n                 if (Arrays.binarySearch(ALLOWED_PATH_TOKENTYPES, type) \u003c 0) {\n                     reportMagicNumber(ast);\n                     break;\n                 }\n \n                 astNode \u003d astNode.getParent();\n             }\n         }\n     }\n\\ No newline at end of file\n"
    },
    "7a1b0b12a6caa0e8ccf6a7a0cc44046e7f93e339": {
      "type": "Ybodychange",
      "commitMessage": "Issue #148 magic number detection: option to ignore magic numbers in field declarations\n",
      "commitDate": 1428045905000,
      "commitName": "7a1b0b12a6caa0e8ccf6a7a0cc44046e7f93e339",
      "commitAuthor": "ychulovskyy",
      "commitDateOld": 1426023398000,
      "commitNameOld": "1bd30555eac039d0486dffb3fc43b7a34117909b",
      "commitAuthorOld": "Michal Kordas",
      "daysBetweenCommits": 23.41,
      "commitsBetweenForRepo": 122,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,30 +1,32 @@\n     public void visitToken(DetailAST ast)\n     {\n         if (ignoreAnnotation \u0026\u0026 isInAnnotation(ast)) {\n             return;\n         }\n \n         if (inIgnoreList(ast)\n             || ignoreHashCodeMethod \u0026\u0026 isInHashCodeMethod(ast))\n         {\n             return;\n         }\n \n         final DetailAST constantDefAST \u003d findContainingConstantDef(ast);\n \n         if (constantDefAST \u003d\u003d null) {\n-            reportMagicNumber(ast);\n+            if (!(ignoreFieldDeclaration \u0026\u0026 isFieldDeclaration(ast))) {\n+                reportMagicNumber(ast);\n+            }\n         }\n         else {\n             DetailAST astNode \u003d ast.getParent();\n             while (astNode !\u003d constantDefAST) {\n                 final int type \u003d astNode.getType();\n                 if (Arrays.binarySearch(ALLOWED_PATH_TOKENTYPES, type) \u003c 0) {\n                     reportMagicNumber(ast);\n                     break;\n                 }\n \n                 astNode \u003d astNode.getParent();\n             }\n         }\n     }\n\\ No newline at end of file\n"
    },
    "1bd30555eac039d0486dffb3fc43b7a34117909b": {
      "type": "Ybodychange",
      "commitMessage": "Remove useless parentheses to fix PMD violations, issue #744\n\nParentheses are considered unnecessary if the evaluation order of an expression remains unchanged if the parentheses are removed.\n",
      "commitDate": 1426023398000,
      "commitName": "1bd30555eac039d0486dffb3fc43b7a34117909b",
      "commitAuthor": "Michal Kordas",
      "commitDateOld": 1424437367000,
      "commitNameOld": "27149f3504a2f350b74f456a9bffbae76a460060",
      "commitAuthorOld": "alexkravin",
      "daysBetweenCommits": 18.36,
      "commitsBetweenForRepo": 91,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,30 +1,30 @@\n     public void visitToken(DetailAST ast)\n     {\n         if (ignoreAnnotation \u0026\u0026 isInAnnotation(ast)) {\n             return;\n         }\n \n         if (inIgnoreList(ast)\n-            || (ignoreHashCodeMethod \u0026\u0026 isInHashCodeMethod(ast)))\n+            || ignoreHashCodeMethod \u0026\u0026 isInHashCodeMethod(ast))\n         {\n             return;\n         }\n \n         final DetailAST constantDefAST \u003d findContainingConstantDef(ast);\n \n         if (constantDefAST \u003d\u003d null) {\n             reportMagicNumber(ast);\n         }\n         else {\n             DetailAST astNode \u003d ast.getParent();\n             while (astNode !\u003d constantDefAST) {\n                 final int type \u003d astNode.getType();\n                 if (Arrays.binarySearch(ALLOWED_PATH_TOKENTYPES, type) \u003c 0) {\n                     reportMagicNumber(ast);\n                     break;\n                 }\n \n                 astNode \u003d astNode.getParent();\n             }\n         }\n     }\n\\ No newline at end of file\n"
    },
    "bb1b29851f14bf7eaf5656e01c285c0f5f3b9000": {
      "type": "Ymultichange(Yparameterchange,Ybodychange)",
      "commitMessage": "Prefixes, coding, #512\n",
      "commitDate": 1421677214000,
      "commitName": "bb1b29851f14bf7eaf5656e01c285c0f5f3b9000",
      "commitAuthor": "alexkravin",
      "subchanges": [
        "Yparameterchange",
        "Ybodychange"
      ]
    },
    "f1efb27670a93690577f1bae17fc9dcbd88a795d": {
      "type": "Yfilerename",
      "commitMessage": "moving to standard directory layout\n",
      "commitDate": 1393953491000,
      "commitName": "f1efb27670a93690577f1bae17fc9dcbd88a795d",
      "commitAuthor": "Ivan Sopov",
      "commitDateOld": 1393482905000,
      "commitNameOld": "1cdaeaaa4fbf02a7388f1fcbea1c86ef0ea32fed",
      "commitAuthorOld": "Andrew Gaul",
      "daysBetweenCommits": 5.45,
      "commitsBetweenForRepo": 1,
      "commitsBetweenForFile": 1,
      "diff": ""
    },
    "e28ebec1e0158a27217ea2fe71cf39000157edea": {
      "type": "Ybodychange",
      "commitMessage": "apply patch #3132984 - Ignore magic numbers to annotations in MagicNumberCheck\n",
      "commitDate": 1293778232000,
      "commitName": "e28ebec1e0158a27217ea2fe71cf39000157edea",
      "commitAuthor": "Oliver Burn",
      "commitDateOld": 1286192027000,
      "commitNameOld": "987d2d67d56e054adbe5ec56136dddb49f533137",
      "commitAuthorOld": "Oliver Burn",
      "daysBetweenCommits": 87.8,
      "commitsBetweenForRepo": 35,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,26 +1,30 @@\n     public void visitToken(DetailAST aAST)\n     {\n+        if (mIgnoreAnnotation \u0026\u0026 isInAnnotation(aAST)) {\n+          return;\n+        }\n+\n         if (inIgnoreList(aAST)\n             || (mIgnoreHashCodeMethod \u0026\u0026 isInHashCodeMethod(aAST)))\n         {\n             return;\n         }\n \n         final DetailAST constantDefAST \u003d findContainingConstantDef(aAST);\n \n         if (constantDefAST \u003d\u003d null) {\n             reportMagicNumber(aAST);\n         }\n         else {\n             DetailAST ast \u003d aAST.getParent();\n             while (ast !\u003d constantDefAST) {\n                 final int type \u003d ast.getType();\n                 if (Arrays.binarySearch(ALLOWED_PATH_TOKENTYPES, type) \u003c 0) {\n                     reportMagicNumber(aAST);\n                     break;\n                 }\n \n                 ast \u003d ast.getParent();\n             }\n         }\n     }\n\\ No newline at end of file\n"
    },
    "73ec35d35bcf970c588278cb18300dfdf814a704": {
      "type": "Ybodychange",
      "commitMessage": "Fine tune the patch.\n",
      "commitDate": 1286176170000,
      "commitName": "73ec35d35bcf970c588278cb18300dfdf814a704",
      "commitAuthor": "Oliver Burn",
      "commitDateOld": 1286175086000,
      "commitNameOld": "bd757c37dd4ba1384c761a98f31bdbbd22d1daf8",
      "commitAuthorOld": "Oliver Burn",
      "daysBetweenCommits": 0.01,
      "commitsBetweenForRepo": 1,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,28 +1,26 @@\n     public void visitToken(DetailAST aAST)\n     {\n-        if (inIgnoreList(aAST)) {\n-            return;\n-        }\n-\n-        if (mIgnoreHashCodeMethod \u0026\u0026 isInHashCodeMethod(aAST)) {\n+        if (inIgnoreList(aAST)\n+            || (mIgnoreHashCodeMethod \u0026\u0026 isInHashCodeMethod(aAST)))\n+        {\n             return;\n         }\n \n         final DetailAST constantDefAST \u003d findContainingConstantDef(aAST);\n \n         if (constantDefAST \u003d\u003d null) {\n             reportMagicNumber(aAST);\n         }\n         else {\n             DetailAST ast \u003d aAST.getParent();\n             while (ast !\u003d constantDefAST) {\n                 final int type \u003d ast.getType();\n                 if (Arrays.binarySearch(ALLOWED_PATH_TOKENTYPES, type) \u003c 0) {\n                     reportMagicNumber(aAST);\n                     break;\n                 }\n \n                 ast \u003d ast.getParent();\n             }\n         }\n     }\n\\ No newline at end of file\n"
    },
    "bd757c37dd4ba1384c761a98f31bdbbd22d1daf8": {
      "type": "Ybodychange",
      "commitMessage": "Apply the patch before making changes.\n",
      "commitDate": 1286175086000,
      "commitName": "bd757c37dd4ba1384c761a98f31bdbbd22d1daf8",
      "commitAuthor": "Oliver Burn",
      "commitDateOld": 1285817783000,
      "commitNameOld": "6f46bd4e83204417edf9605f97098bb9d34da728",
      "commitAuthorOld": "Oliver Burn",
      "daysBetweenCommits": 4.14,
      "commitsBetweenForRepo": 17,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,24 +1,28 @@\n     public void visitToken(DetailAST aAST)\n     {\n         if (inIgnoreList(aAST)) {\n             return;\n         }\n \n+        if (mIgnoreHashCodeMethod \u0026\u0026 isInHashCodeMethod(aAST)) {\n+            return;\n+        }\n+\n         final DetailAST constantDefAST \u003d findContainingConstantDef(aAST);\n \n         if (constantDefAST \u003d\u003d null) {\n             reportMagicNumber(aAST);\n         }\n         else {\n             DetailAST ast \u003d aAST.getParent();\n             while (ast !\u003d constantDefAST) {\n                 final int type \u003d ast.getType();\n                 if (Arrays.binarySearch(ALLOWED_PATH_TOKENTYPES, type) \u003c 0) {\n                     reportMagicNumber(aAST);\n                     break;\n                 }\n \n                 ast \u003d ast.getParent();\n             }\n         }\n     }\n\\ No newline at end of file\n"
    },
    "2f70947ed74ab968324fdcf83f808ff1d88df1fb": {
      "type": "Ybodychange",
      "commitMessage": "Tighten up code\n",
      "commitDate": 1093528034000,
      "commitName": "2f70947ed74ab968324fdcf83f808ff1d88df1fb",
      "commitAuthor": "Oliver Burn",
      "commitDateOld": 1088956605000,
      "commitNameOld": "c977a637ce4d87bd3643420ec52c39e724dbdde3",
      "commitAuthorOld": "Lars Kühne",
      "daysBetweenCommits": 52.91,
      "commitsBetweenForRepo": 23,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,24 +1,24 @@\n     public void visitToken(DetailAST aAST)\n     {\n         if (inIgnoreList(aAST)) {\n             return;\n         }\n \n-        DetailAST constantDefAST \u003d findContainingConstantDef(aAST);\n+        final DetailAST constantDefAST \u003d findContainingConstantDef(aAST);\n \n         if (constantDefAST \u003d\u003d null) {\n             reportMagicNumber(aAST);\n         }\n         else {\n             DetailAST ast \u003d aAST.getParent();\n             while (ast !\u003d constantDefAST) {\n-                int type \u003d ast.getType();\n+                final int type \u003d ast.getType();\n                 if (Arrays.binarySearch(ALLOWED_PATH_TOKENTYPES, type) \u003c 0) {\n                     reportMagicNumber(aAST);\n                     break;\n                 }\n \n                 ast \u003d ast.getParent();\n             }\n         }\n     }\n\\ No newline at end of file\n"
    },
    "fc17c983239b6e6a6d3e41f53cb134bd22488db1": {
      "type": "Ybodychange",
      "commitMessage": "Made MagicNumber check less agressive, based on feedback on checkstyle-user list\n",
      "commitDate": 1088954874000,
      "commitName": "fc17c983239b6e6a6d3e41f53cb134bd22488db1",
      "commitAuthor": "Lars Kühne",
      "commitDateOld": 1088940272000,
      "commitNameOld": "bd4ec9a98edaced73f14c5422f64c39fad3ce596",
      "commitAuthorOld": "Lars Kühne",
      "daysBetweenCommits": 0.17,
      "commitsBetweenForRepo": 1,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,20 +1,24 @@\n     public void visitToken(DetailAST aAST)\n     {\n-        if (!inIgnoreList(aAST) \u0026\u0026 !isConstantDefinition(aAST)) {\n-            String text \u003d aAST.getText();\n-            final DetailAST parent \u003d aAST.getParent();\n-            DetailAST reportAST \u003d aAST;\n-            if (parent.getType() \u003d\u003d TokenTypes.UNARY_MINUS) {\n-                reportAST \u003d parent;\n-                text \u003d \"-\" + text;\n-            }\n-            else if (parent.getType() \u003d\u003d TokenTypes.UNARY_PLUS) {\n-                reportAST \u003d parent;\n-                text \u003d \"+\" + text;\n-            }\n-            log(reportAST.getLineNo(),\n-                reportAST.getColumnNo(),\n-                \"magic.number\",\n-                text);\n+        if (inIgnoreList(aAST)) {\n+        \treturn;\n         }\n+        \n+        DetailAST constantDefAST \u003d findContainingConstantDef(aAST);\n+        \n+    \tif (constantDefAST \u003d\u003d null) {\n+            reportMagicNumber(aAST);\n+        }\n+    \telse {\n+    \t\tDetailAST ast \u003d aAST.getParent();\n+    \t\twhile (ast !\u003d constantDefAST) {\n+    \t\t\tint type \u003d ast.getType();\n+    \t\t\tif (Arrays.binarySearch(ALLOWED_PATH_TOKENTYPES, type) \u003c 0) {\n+    \t\t\t\treportMagicNumber(aAST);\n+    \t\t\t\tbreak;\n+    \t\t\t}\n+    \t\t\t\t\n+    \t\t\tast \u003d ast.getParent();\n+    \t\t}\n+    \t}\n     }\n\\ No newline at end of file\n"
    },
    "bd4ec9a98edaced73f14c5422f64c39fad3ce596": {
      "type": "Ybodychange",
      "commitMessage": "correct source location info in case whitespace between unary op and magic number\n",
      "commitDate": 1088940272000,
      "commitName": "bd4ec9a98edaced73f14c5422f64c39fad3ce596",
      "commitAuthor": "Lars Kühne",
      "commitDateOld": 1075934699000,
      "commitNameOld": "e5ad46010b48faba1367b8384dcd9f55d9ed10b7",
      "commitAuthorOld": "Rick Giles",
      "daysBetweenCommits": 150.53,
      "commitsBetweenForRepo": 91,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,20 +1,20 @@\n     public void visitToken(DetailAST aAST)\n     {\n         if (!inIgnoreList(aAST) \u0026\u0026 !isConstantDefinition(aAST)) {\n             String text \u003d aAST.getText();\n-            int columnNo \u003d aAST.getColumnNo();\n             final DetailAST parent \u003d aAST.getParent();\n+            DetailAST reportAST \u003d aAST;\n             if (parent.getType() \u003d\u003d TokenTypes.UNARY_MINUS) {\n-                columnNo--;\n+                reportAST \u003d parent;\n                 text \u003d \"-\" + text;\n             }\n             else if (parent.getType() \u003d\u003d TokenTypes.UNARY_PLUS) {\n-                columnNo--;\n+                reportAST \u003d parent;\n                 text \u003d \"+\" + text;\n             }\n-            log(aAST.getLineNo(),\n-                columnNo,\n+            log(reportAST.getLineNo(),\n+                reportAST.getColumnNo(),\n                 \"magic.number\",\n                 text);\n         }\n     }\n\\ No newline at end of file\n"
    },
    "60847a32d538e9a0f1c1de3e349e8b3833741506": {
      "type": "Ybodychange",
      "commitMessage": "fixed bug 788106, MagicNumberCheck does not permits negative constants\n",
      "commitDate": 1060819179000,
      "commitName": "60847a32d538e9a0f1c1de3e349e8b3833741506",
      "commitAuthor": "Rick Giles",
      "commitDateOld": 1055680780000,
      "commitNameOld": "9920857810ecc9efdbca19e2749b75abc0cbbf14",
      "commitAuthorOld": "Oliver Burn",
      "daysBetweenCommits": 59.47,
      "commitsBetweenForRepo": 135,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,9 +1,20 @@\n     public void visitToken(DetailAST aAST)\n     {\n         if (!inIgnoreList(aAST) \u0026\u0026 !isConstantDefinition(aAST)) {\n+            String text \u003d aAST.getText();\n+            int columnNo \u003d aAST.getColumnNo();\n+            final DetailAST parent \u003d aAST.getParent();\n+            if (parent.getType() \u003d\u003d TokenTypes.UNARY_MINUS) {\n+                columnNo--;\n+                text \u003d \"-\" + text;\n+            }\n+            else if (parent.getType() \u003d\u003d TokenTypes.UNARY_PLUS) {\n+                columnNo--;\n+                text \u003d \"+\" + text;\n+            }\n             log(aAST.getLineNo(),\n-                aAST.getColumnNo(),\n+                columnNo,\n                 \"magic.number\",\n-                aAST.getText());\n+                text);\n         }\n     }\n\\ No newline at end of file\n"
    },
    "9920857810ecc9efdbca19e2749b75abc0cbbf14": {
      "type": "Yfilerename",
      "commitMessage": "Refactored the Coding checks\n",
      "commitDate": 1055680780000,
      "commitName": "9920857810ecc9efdbca19e2749b75abc0cbbf14",
      "commitAuthor": "Oliver Burn",
      "commitDateOld": 1055612861000,
      "commitNameOld": "e464c231eccec72f964131d9aeb5e49982c4b3bb",
      "commitAuthorOld": "Oleg Sukhodolsky",
      "daysBetweenCommits": 0.79,
      "commitsBetweenForRepo": 1,
      "commitsBetweenForFile": 1,
      "diff": ""
    },
    "7284e8aa425ef5ed01838e99fd228609ce3e1208": {
      "type": "Yintroduced",
      "commitMessage": "magic number check. RFE 564206\n",
      "commitDate": 1052326652000,
      "commitName": "7284e8aa425ef5ed01838e99fd228609ce3e1208",
      "commitAuthor": "Rick Giles"
    }
  }
}