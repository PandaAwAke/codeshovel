{
  "origin": "codeshovel",
  "repositoryName": "checkstyle",
  "repositoryPath": "/home/ncbradley/codeshovel-repos/checkstyle/.git",
  "startCommitName": "119fd4fb33bef9f5c66fc950396669af842c21a3",
  "sourceFileName": "AnnotationUtility.java",
  "functionName": "getAnnotation",
  "functionId": "getAnnotation___ast-DetailAST__annotation-String",
  "sourceFilePath": "src/main/java/com/puppycrawl/tools/checkstyle/utils/AnnotationUtility.java",
  "functionStartLine": 138,
  "functionEndLine": 169,
  "changeHistory": [
    "77565df34f8e5a9cb08ba27c7b4e18c695ff971d",
    "7609e96cc998cca40b396eb3f2d7ae82f60fcce1",
    "32a7a3336096bed0a09491493c257924037715f7",
    "167dd96d8ca503a472bf003f187191d6b0ce586c",
    "30c3a362d45721e6925fe89ba71f0fe69d0fc471",
    "ed595de84fba2db507adaf01d04cb089a5e0bac5",
    "82d8e91024a57a96fbb6410dacb29d6a3f582903",
    "dab75cd8a08345b16e334c803a3208f8494db097",
    "e3b3bfb9997b28fc95d0f950e9673a595e2f4c7d"
  ],
  "changeHistoryShort": {
    "77565df34f8e5a9cb08ba27c7b4e18c695ff971d": "Ybodychange",
    "7609e96cc998cca40b396eb3f2d7ae82f60fcce1": "Ybodychange",
    "32a7a3336096bed0a09491493c257924037715f7": "Ybodychange",
    "167dd96d8ca503a472bf003f187191d6b0ce586c": "Ybodychange",
    "30c3a362d45721e6925fe89ba71f0fe69d0fc471": "Ybodychange",
    "ed595de84fba2db507adaf01d04cb089a5e0bac5": "Yfilerename",
    "82d8e91024a57a96fbb6410dacb29d6a3f582903": "Ybodychange",
    "dab75cd8a08345b16e334c803a3208f8494db097": "Ybodychange",
    "e3b3bfb9997b28fc95d0f950e9673a595e2f4c7d": "Yintroduced"
  },
  "changeHistoryDetails": {
    "77565df34f8e5a9cb08ba27c7b4e18c695ff971d": {
      "type": "Ybodychange",
      "commitMessage": "Issue #5327: fixed finding annotation name with comment embedded",
      "commitDate": 1512742798000,
      "commitName": "77565df34f8e5a9cb08ba27c7b4e18c695ff971d",
      "commitAuthor": "rnveach",
      "commitDateOld": 1510238731000,
      "commitNameOld": "f0ed29b5cfef6adcec791cfdc236a5b850b685ee",
      "commitAuthorOld": "rnveach",
      "daysBetweenCommits": 28.98,
      "commitsBetweenForRepo": 60,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,32 +1,32 @@\n     public static DetailAST getAnnotation(final DetailAST ast,\n         String annotation) {\n         if (ast \u003d\u003d null) {\n             throw new IllegalArgumentException(THE_AST_IS_NULL);\n         }\n \n         if (annotation \u003d\u003d null) {\n             throw new IllegalArgumentException(\"the annotation is null\");\n         }\n \n         if (CommonUtils.isBlank(annotation)) {\n             throw new IllegalArgumentException(\n                     \"the annotation is empty or spaces\");\n         }\n \n         final DetailAST holder \u003d getAnnotationHolder(ast);\n         DetailAST result \u003d null;\n         for (DetailAST child \u003d holder.getFirstChild();\n             child !\u003d null; child \u003d child.getNextSibling()) {\n             if (child.getType() \u003d\u003d TokenTypes.ANNOTATION) {\n-                final DetailAST firstChild \u003d child.getFirstChild();\n+                final DetailAST firstChild \u003d child.findFirstToken(TokenTypes.AT);\n                 final String name \u003d\n                     FullIdent.createFullIdent(firstChild.getNextSibling()).getText();\n                 if (annotation.equals(name)) {\n                     result \u003d child;\n                     break;\n                 }\n             }\n         }\n \n         return result;\n     }\n\\ No newline at end of file\n"
    },
    "7609e96cc998cca40b396eb3f2d7ae82f60fcce1": {
      "type": "Ybodychange",
      "commitMessage": "Issue #4342: Applied requested changes\n",
      "commitDate": 1495136630000,
      "commitName": "7609e96cc998cca40b396eb3f2d7ae82f60fcce1",
      "commitAuthor": "Dmytro Kytsmen",
      "commitDateOld": 1485527514000,
      "commitNameOld": "b4a337a599e853cdc44b19a76da28fcfab2956cd",
      "commitAuthorOld": "Roman Ivanov",
      "daysBetweenCommits": 111.22,
      "commitsBetweenForRepo": 401,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,32 +1,32 @@\n     public static DetailAST getAnnotation(final DetailAST ast,\n         String annotation) {\n         if (ast \u003d\u003d null) {\n             throw new IllegalArgumentException(THE_AST_IS_NULL);\n         }\n \n         if (annotation \u003d\u003d null) {\n             throw new IllegalArgumentException(\"the annotation is null\");\n         }\n \n-        if (CharMatcher.WHITESPACE.matchesAllOf(annotation)) {\n+        if (CommonUtils.isBlank(annotation)) {\n             throw new IllegalArgumentException(\n                     \"the annotation is empty or spaces\");\n         }\n \n         final DetailAST holder \u003d getAnnotationHolder(ast);\n         DetailAST result \u003d null;\n         for (DetailAST child \u003d holder.getFirstChild();\n             child !\u003d null; child \u003d child.getNextSibling()) {\n             if (child.getType() \u003d\u003d TokenTypes.ANNOTATION) {\n                 final DetailAST firstChild \u003d child.getFirstChild();\n                 final String name \u003d\n                     FullIdent.createFullIdent(firstChild.getNextSibling()).getText();\n                 if (annotation.equals(name)) {\n                     result \u003d child;\n                     break;\n                 }\n             }\n         }\n \n         return result;\n     }\n\\ No newline at end of file\n"
    },
    "32a7a3336096bed0a09491493c257924037715f7": {
      "type": "Ybodychange",
      "commitMessage": "Issue #3628: ReturnCountExtendedCheck from sevntu is enabled, all violations are resolved\n",
      "commitDate": 1481412313000,
      "commitName": "32a7a3336096bed0a09491493c257924037715f7",
      "commitAuthor": "Roman Ivanov",
      "commitDateOld": 1458221995000,
      "commitNameOld": "167dd96d8ca503a472bf003f187191d6b0ce586c",
      "commitAuthorOld": "Rasmus Kaj",
      "daysBetweenCommits": 268.41,
      "commitsBetweenForRepo": 488,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,31 +1,32 @@\n     public static DetailAST getAnnotation(final DetailAST ast,\n         String annotation) {\n         if (ast \u003d\u003d null) {\n             throw new IllegalArgumentException(THE_AST_IS_NULL);\n         }\n \n         if (annotation \u003d\u003d null) {\n             throw new IllegalArgumentException(\"the annotation is null\");\n         }\n \n         if (CharMatcher.WHITESPACE.matchesAllOf(annotation)) {\n             throw new IllegalArgumentException(\n                     \"the annotation is empty or spaces\");\n         }\n \n         final DetailAST holder \u003d getAnnotationHolder(ast);\n-\n+        DetailAST result \u003d null;\n         for (DetailAST child \u003d holder.getFirstChild();\n             child !\u003d null; child \u003d child.getNextSibling()) {\n             if (child.getType() \u003d\u003d TokenTypes.ANNOTATION) {\n                 final DetailAST firstChild \u003d child.getFirstChild();\n                 final String name \u003d\n                     FullIdent.createFullIdent(firstChild.getNextSibling()).getText();\n                 if (annotation.equals(name)) {\n-                    return child;\n+                    result \u003d child;\n+                    break;\n                 }\n             }\n         }\n \n-        return null;\n+        return result;\n     }\n\\ No newline at end of file\n"
    },
    "167dd96d8ca503a472bf003f187191d6b0ce586c": {
      "type": "Ybodychange",
      "commitMessage": "Issue #2428: remove dependency to commons-lang3 library\n",
      "commitDate": 1458221995000,
      "commitName": "167dd96d8ca503a472bf003f187191d6b0ce586c",
      "commitAuthor": "Rasmus Kaj",
      "commitDateOld": 1451953543000,
      "commitNameOld": "617ebf2bf27d284dcc7b866f85439fcf6dab3402",
      "commitAuthorOld": "Roman Ivanov",
      "daysBetweenCommits": 72.55,
      "commitsBetweenForRepo": 198,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,31 +1,31 @@\n     public static DetailAST getAnnotation(final DetailAST ast,\n         String annotation) {\n         if (ast \u003d\u003d null) {\n             throw new IllegalArgumentException(THE_AST_IS_NULL);\n         }\n \n         if (annotation \u003d\u003d null) {\n             throw new IllegalArgumentException(\"the annotation is null\");\n         }\n \n-        if (StringUtils.isBlank(annotation)) {\n+        if (CharMatcher.WHITESPACE.matchesAllOf(annotation)) {\n             throw new IllegalArgumentException(\n                     \"the annotation is empty or spaces\");\n         }\n \n         final DetailAST holder \u003d getAnnotationHolder(ast);\n \n         for (DetailAST child \u003d holder.getFirstChild();\n             child !\u003d null; child \u003d child.getNextSibling()) {\n             if (child.getType() \u003d\u003d TokenTypes.ANNOTATION) {\n                 final DetailAST firstChild \u003d child.getFirstChild();\n                 final String name \u003d\n                     FullIdent.createFullIdent(firstChild.getNextSibling()).getText();\n                 if (annotation.equals(name)) {\n                     return child;\n                 }\n             }\n         }\n \n         return null;\n     }\n\\ No newline at end of file\n"
    },
    "30c3a362d45721e6925fe89ba71f0fe69d0fc471": {
      "type": "Ybodychange",
      "commitMessage": "Issue #985: Fix PMD violations for ShortVariable rule\n",
      "commitDate": 1444178762000,
      "commitName": "30c3a362d45721e6925fe89ba71f0fe69d0fc471",
      "commitAuthor": "Roman Ivanov",
      "commitDateOld": 1441045466000,
      "commitNameOld": "2b861bd6e16584e22bb115ff7abd65c35072eb92",
      "commitAuthorOld": "Baratali Izmailov",
      "daysBetweenCommits": 36.27,
      "commitsBetweenForRepo": 232,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,31 +1,31 @@\n     public static DetailAST getAnnotation(final DetailAST ast,\n         String annotation) {\n         if (ast \u003d\u003d null) {\n             throw new IllegalArgumentException(THE_AST_IS_NULL);\n         }\n \n         if (annotation \u003d\u003d null) {\n             throw new IllegalArgumentException(\"the annotation is null\");\n         }\n \n         if (StringUtils.isBlank(annotation)) {\n             throw new IllegalArgumentException(\n                     \"the annotation is empty or spaces\");\n         }\n \n         final DetailAST holder \u003d getAnnotationHolder(ast);\n \n         for (DetailAST child \u003d holder.getFirstChild();\n             child !\u003d null; child \u003d child.getNextSibling()) {\n             if (child.getType() \u003d\u003d TokenTypes.ANNOTATION) {\n-                final DetailAST at \u003d child.getFirstChild();\n+                final DetailAST firstChild \u003d child.getFirstChild();\n                 final String name \u003d\n-                    FullIdent.createFullIdent(at.getNextSibling()).getText();\n+                    FullIdent.createFullIdent(firstChild.getNextSibling()).getText();\n                 if (annotation.equals(name)) {\n                     return child;\n                 }\n             }\n         }\n \n         return null;\n     }\n\\ No newline at end of file\n"
    },
    "ed595de84fba2db507adaf01d04cb089a5e0bac5": {
      "type": "Yfilerename",
      "commitMessage": "Utils classes have been moved to utils package. Issue #1898\n",
      "commitDate": 1440677821000,
      "commitName": "ed595de84fba2db507adaf01d04cb089a5e0bac5",
      "commitAuthor": "Ilja Dubinin",
      "commitDateOld": 1440637702000,
      "commitNameOld": "f6113bb56d695719a8803274effb3596cb82120f",
      "commitAuthorOld": "Michal Kordas",
      "daysBetweenCommits": 0.46,
      "commitsBetweenForRepo": 1,
      "commitsBetweenForFile": 1,
      "diff": ""
    },
    "82d8e91024a57a96fbb6410dacb29d6a3f582903": {
      "type": "Ybodychange",
      "commitMessage": "Remove unnecessary qualifiers. #1555\n\nFixes `UnnecessarilyQualifiedStaticUsage` inspection violations.\n\nDescription:\n\u003eReports calls to static methods or accesses of static fields on the current class which are qualified with the class name. Such qualification is unnecessary, and may be safely removed.\n",
      "commitDate": 1439324041000,
      "commitName": "82d8e91024a57a96fbb6410dacb29d6a3f582903",
      "commitAuthor": "Michal Kordas",
      "commitDateOld": 1439295539000,
      "commitNameOld": "1935bed5772c0a939b9168b81acd2ab5aa800538",
      "commitAuthorOld": "Baratali Izmailov",
      "daysBetweenCommits": 0.33,
      "commitsBetweenForRepo": 6,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,31 +1,31 @@\n     public static DetailAST getAnnotation(final DetailAST ast,\n         String annotation) {\n         if (ast \u003d\u003d null) {\n             throw new IllegalArgumentException(THE_AST_IS_NULL);\n         }\n \n         if (annotation \u003d\u003d null) {\n             throw new IllegalArgumentException(\"the annotation is null\");\n         }\n \n         if (StringUtils.isBlank(annotation)) {\n             throw new IllegalArgumentException(\n                     \"the annotation is empty or spaces\");\n         }\n \n-        final DetailAST holder \u003d AnnotationUtility.getAnnotationHolder(ast);\n+        final DetailAST holder \u003d getAnnotationHolder(ast);\n \n         for (DetailAST child \u003d holder.getFirstChild();\n             child !\u003d null; child \u003d child.getNextSibling()) {\n             if (child.getType() \u003d\u003d TokenTypes.ANNOTATION) {\n                 final DetailAST at \u003d child.getFirstChild();\n                 final String name \u003d\n                     FullIdent.createFullIdent(at.getNextSibling()).getText();\n                 if (annotation.equals(name)) {\n                     return child;\n                 }\n             }\n         }\n \n         return null;\n     }\n\\ No newline at end of file\n"
    },
    "dab75cd8a08345b16e334c803a3208f8494db097": {
      "type": "Ybodychange",
      "commitMessage": "Make coverage 100% for all classes at package com.puppycrawl.tools.checkstyle . #1294\n",
      "commitDate": 1436161529000,
      "commitName": "dab75cd8a08345b16e334c803a3208f8494db097",
      "commitAuthor": "Roman Ivanov",
      "commitDateOld": 1431863229000,
      "commitNameOld": "0f58857d73933c7b6b7e62f0c7c16ad7af51556f",
      "commitAuthorOld": "Michal Kordas",
      "daysBetweenCommits": 49.75,
      "commitsBetweenForRepo": 267,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,31 +1,31 @@\n     public static DetailAST getAnnotation(final DetailAST ast,\n         String annotation) {\n         if (ast \u003d\u003d null) {\n-            throw new IllegalArgumentException(\"the ast is null\");\n+            throw new IllegalArgumentException(THE_AST_IS_NULL);\n         }\n \n         if (annotation \u003d\u003d null) {\n             throw new IllegalArgumentException(\"the annotation is null\");\n         }\n \n         if (StringUtils.isBlank(annotation)) {\n-            throw new IllegalArgumentException(\"the annotation\"\n-                + \"is empty or spaces\");\n+            throw new IllegalArgumentException(\n+                    \"the annotation is empty or spaces\");\n         }\n \n         final DetailAST holder \u003d AnnotationUtility.getAnnotationHolder(ast);\n \n         for (DetailAST child \u003d holder.getFirstChild();\n             child !\u003d null; child \u003d child.getNextSibling()) {\n             if (child.getType() \u003d\u003d TokenTypes.ANNOTATION) {\n                 final DetailAST at \u003d child.getFirstChild();\n                 final String name \u003d\n                     FullIdent.createFullIdent(at.getNextSibling()).getText();\n                 if (annotation.equals(name)) {\n                     return child;\n                 }\n             }\n         }\n \n         return null;\n     }\n\\ No newline at end of file\n"
    },
    "e3b3bfb9997b28fc95d0f950e9673a595e2f4c7d": {
      "type": "Yintroduced",
      "commitMessage": "Util classes should be moved out of api package. Issue #1057\n",
      "commitDate": 1430869230000,
      "commitName": "e3b3bfb9997b28fc95d0f950e9673a595e2f4c7d",
      "commitAuthor": "Roman Ivanov"
    }
  }
}