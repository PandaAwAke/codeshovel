{
  "origin": "codeshovel",
  "repositoryName": "guava",
  "repositoryPath": "/home/ncbradley/codeshovel-repos/guava/.git",
  "startCommitName": "34c1616279efe08089960aafd3df486cf8a04820",
  "sourceFileName": "Throwables.java",
  "functionName": "getCausalChain",
  "functionId": "getCausalChain___throwable-Throwable",
  "sourceFilePath": "android/guava/src/com/google/common/base/Throwables.java",
  "functionStartLine": 292,
  "functionEndLine": 316,
  "changeHistory": [
    "82ae659392d5a3f2ecd8ef478e73319e86fed5dd",
    "934e3840945d3b866f80c28135a0369cb32d7163",
    "826bda60d3c84c8142da6f0e8576c68540d51891",
    "9b94fb3965c6869b0ac47420958a4bbae0b2d54c"
  ],
  "changeHistoryShort": {
    "82ae659392d5a3f2ecd8ef478e73319e86fed5dd": "Ybodychange",
    "934e3840945d3b866f80c28135a0369cb32d7163": "Ybodychange",
    "826bda60d3c84c8142da6f0e8576c68540d51891": "Ybodychange",
    "9b94fb3965c6869b0ac47420958a4bbae0b2d54c": "Yintroduced"
  },
  "changeHistoryDetails": {
    "82ae659392d5a3f2ecd8ef478e73319e86fed5dd": {
      "type": "Ybodychange",
      "commitMessage": "Use given throwable as the cause for the IAE that\u0027s thrown during loop\ndetection.\n\n-------------\nCreated by MOE: https://github.com/google/moe\nMOE_MIGRATED_REVID\u003d165643812\n",
      "commitDate": 1503062291000,
      "commitName": "82ae659392d5a3f2ecd8ef478e73319e86fed5dd",
      "commitAuthor": "kak",
      "commitDateOld": 1501080336000,
      "commitNameOld": "934e3840945d3b866f80c28135a0369cb32d7163",
      "commitAuthorOld": "cpovirk",
      "daysBetweenCommits": 22.94,
      "commitsBetweenForRepo": 33,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,25 +1,25 @@\n   public static List\u003cThrowable\u003e getCausalChain(Throwable throwable) {\n     checkNotNull(throwable);\n     List\u003cThrowable\u003e causes \u003d new ArrayList\u003c\u003e(4);\n     causes.add(throwable);\n \n     // Keep a second pointer that slowly walks the causal chain. If the fast pointer ever catches\n     // the slower pointer, then there\u0027s a loop.\n     Throwable slowPointer \u003d throwable;\n     boolean advanceSlowPointer \u003d false;\n \n     Throwable cause;\n     while ((cause \u003d throwable.getCause()) !\u003d null) {\n       throwable \u003d cause;\n       causes.add(throwable);\n \n       if (throwable \u003d\u003d slowPointer) {\n-        throw new IllegalArgumentException(\"Loop in causal chain detected @ \" + throwable);\n+        throw new IllegalArgumentException(\"Loop in causal chain detected.\", throwable);\n       }\n       if (advanceSlowPointer) {\n         slowPointer \u003d slowPointer.getCause();\n       }\n       advanceSlowPointer \u003d !advanceSlowPointer; // only advance every other iteration\n     }\n     return Collections.unmodifiableList(causes);\n   }\n\\ No newline at end of file\n"
    },
    "934e3840945d3b866f80c28135a0369cb32d7163": {
      "type": "Ybodychange",
      "commitMessage": "Use diamond operator.\n\nFixes #2875\n\n-------------\nCreated by MOE: https://github.com/google/moe\nMOE_MIGRATED_REVID\u003d163205176\n",
      "commitDate": 1501080336000,
      "commitName": "934e3840945d3b866f80c28135a0369cb32d7163",
      "commitAuthor": "cpovirk",
      "commitDateOld": 1500069829000,
      "commitNameOld": "b6c86db89a9cb828a47ca893f7a958c6a4f378b6",
      "commitAuthorOld": "glorioso",
      "daysBetweenCommits": 11.7,
      "commitsBetweenForRepo": 17,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,25 +1,25 @@\n   public static List\u003cThrowable\u003e getCausalChain(Throwable throwable) {\n     checkNotNull(throwable);\n-    List\u003cThrowable\u003e causes \u003d new ArrayList\u003cThrowable\u003e(4);\n+    List\u003cThrowable\u003e causes \u003d new ArrayList\u003c\u003e(4);\n     causes.add(throwable);\n \n     // Keep a second pointer that slowly walks the causal chain. If the fast pointer ever catches\n     // the slower pointer, then there\u0027s a loop.\n     Throwable slowPointer \u003d throwable;\n     boolean advanceSlowPointer \u003d false;\n \n     Throwable cause;\n     while ((cause \u003d throwable.getCause()) !\u003d null) {\n       throwable \u003d cause;\n       causes.add(throwable);\n \n       if (throwable \u003d\u003d slowPointer) {\n         throw new IllegalArgumentException(\"Loop in causal chain detected @ \" + throwable);\n       }\n       if (advanceSlowPointer) {\n         slowPointer \u003d slowPointer.getCause();\n       }\n       advanceSlowPointer \u003d !advanceSlowPointer; // only advance every other iteration\n     }\n     return Collections.unmodifiableList(causes);\n   }\n\\ No newline at end of file\n"
    },
    "826bda60d3c84c8142da6f0e8576c68540d51891": {
      "type": "Ybodychange",
      "commitMessage": "Throw IllegalArgumentException if a loop in the causal chain is detected in Throwables.getCausalChain() and Throwables.getRootCause().\n\nFixes https://github.com/google/guava/issues/2866\n\n-------------\nCreated by MOE: https://github.com/google/moe\nMOE_MIGRATED_REVID\u003d161233381\n",
      "commitDate": 1499457962000,
      "commitName": "826bda60d3c84c8142da6f0e8576c68540d51891",
      "commitAuthor": "kak",
      "commitDateOld": 1493306138000,
      "commitNameOld": "c3219bd56ce239f215ff9f05d27fc6250f6d6efb",
      "commitAuthorOld": "ronshapiro",
      "daysBetweenCommits": 71.2,
      "commitsBetweenForRepo": 134,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,9 +1,25 @@\n   public static List\u003cThrowable\u003e getCausalChain(Throwable throwable) {\n     checkNotNull(throwable);\n     List\u003cThrowable\u003e causes \u003d new ArrayList\u003cThrowable\u003e(4);\n-    while (throwable !\u003d null) {\n+    causes.add(throwable);\n+\n+    // Keep a second pointer that slowly walks the causal chain. If the fast pointer ever catches\n+    // the slower pointer, then there\u0027s a loop.\n+    Throwable slowPointer \u003d throwable;\n+    boolean advanceSlowPointer \u003d false;\n+\n+    Throwable cause;\n+    while ((cause \u003d throwable.getCause()) !\u003d null) {\n+      throwable \u003d cause;\n       causes.add(throwable);\n-      throwable \u003d throwable.getCause();\n+\n+      if (throwable \u003d\u003d slowPointer) {\n+        throw new IllegalArgumentException(\"Loop in causal chain detected @ \" + throwable);\n+      }\n+      if (advanceSlowPointer) {\n+        slowPointer \u003d slowPointer.getCause();\n+      }\n+      advanceSlowPointer \u003d !advanceSlowPointer; // only advance every other iteration\n     }\n     return Collections.unmodifiableList(causes);\n   }\n\\ No newline at end of file\n"
    },
    "9b94fb3965c6869b0ac47420958a4bbae0b2d54c": {
      "type": "Yintroduced",
      "commitMessage": "Begin exporting sources of Guava for Android.\n\npom.xml files to come.\n\n-------------\nCreated by MOE: https://github.com/google/moe\nMOE_MIGRATED_REVID\u003d153757913\n",
      "commitDate": 1492741671000,
      "commitName": "9b94fb3965c6869b0ac47420958a4bbae0b2d54c",
      "commitAuthor": "zhenghua"
    }
  }
}