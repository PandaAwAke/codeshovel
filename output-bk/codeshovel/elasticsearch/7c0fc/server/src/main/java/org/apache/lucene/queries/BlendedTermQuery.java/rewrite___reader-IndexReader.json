{
  "origin": "codeshovel",
  "repositoryName": "elasticsearch",
  "repositoryPath": "/home/ncbradley/codeshovel-repos/elasticsearch/.git",
  "startCommitName": "7c0fc209bf78e4824ca1f232b84a1dab22bc2dfa",
  "sourceFileName": "BlendedTermQuery.java",
  "functionName": "rewrite",
  "functionId": "rewrite___reader-IndexReader",
  "sourceFilePath": "server/src/main/java/org/apache/lucene/queries/BlendedTermQuery.java",
  "functionStartLine": 81,
  "functionEndLine": 97,
  "changeHistory": [
    "99f88f15c5febbca2d13b5b5fda27b844153bf1a",
    "10ddd691a36fa3a8199fac8da43da540af19a697",
    "15a62448343fd24f8e63f43b1e4b16f50005e4a5",
    "162ca993762ffb5f720ae7f82adcc209d16a5bd2"
  ],
  "changeHistoryShort": {
    "99f88f15c5febbca2d13b5b5fda27b844153bf1a": "Yfilerename",
    "10ddd691a36fa3a8199fac8da43da540af19a697": "Ybodychange",
    "15a62448343fd24f8e63f43b1e4b16f50005e4a5": "Yfilerename",
    "162ca993762ffb5f720ae7f82adcc209d16a5bd2": "Yintroduced"
  },
  "changeHistoryDetails": {
    "99f88f15c5febbca2d13b5b5fda27b844153bf1a": {
      "type": "Yfilerename",
      "commitMessage": "Rename core module to server (#28180)\n\nThis is related to #27933. It renames the core module to server. This is\r\nthe first step towards introducing an elasticsearch-core jar.",
      "commitDate": 1515695443000,
      "commitName": "99f88f15c5febbca2d13b5b5fda27b844153bf1a",
      "commitAuthor": "Tim Brooks",
      "commitDateOld": 1515688270000,
      "commitNameOld": "7d0eb3292b8f8ba27ef50dbbf38783dc68c70728",
      "commitAuthorOld": "Martijn van Groningen",
      "daysBetweenCommits": 0.08,
      "commitsBetweenForRepo": 1,
      "commitsBetweenForFile": 1,
      "diff": ""
    },
    "10ddd691a36fa3a8199fac8da43da540af19a697": {
      "type": "Ybodychange",
      "commitMessage": "Internal: move to lucene BoostQuery\n\nLatest version of lucene deprecated Query#setBoost and Query#getBoost which made queries effectively immutable. Those methods need to be replaced with `BoostQuery` that wraps any query that needs boosting.\n\nThis commit replaces usages of setBoost with BoostQuery and adds it to forbidden-apis for prod code.\n\nUsages of `getBoost` are only partially removed, as some will have to stay for backwards compatibility.\n\nCloses #14264\n",
      "commitDate": 1447077695000,
      "commitName": "10ddd691a36fa3a8199fac8da43da540af19a697",
      "commitAuthor": "javanna",
      "commitDateOld": 1442321081000,
      "commitNameOld": "ff4a11aa32b43a1109a364b5d4fed4f8310d0f6c",
      "commitAuthorOld": "Simon Willnauer",
      "daysBetweenCommits": 55.05,
      "commitsBetweenForRepo": 929,
      "commitsBetweenForFile": 1,
      "diff": "@@ -1,15 +1,17 @@\n     public Query rewrite(IndexReader reader) throws IOException {\n+        Query rewritten \u003d super.rewrite(reader);\n+        if (rewritten !\u003d this) {\n+            return rewritten;\n+        }\n         IndexReaderContext context \u003d reader.getContext();\n         TermContext[] ctx \u003d new TermContext[terms.length];\n         int[] docFreqs \u003d new int[ctx.length];\n         for (int i \u003d 0; i \u003c terms.length; i++) {\n             ctx[i] \u003d TermContext.build(context, terms[i]);\n             docFreqs[i] \u003d ctx[i].docFreq();\n         }\n \n         final int maxDoc \u003d reader.maxDoc();\n         blend(ctx, maxDoc, reader);\n-        Query query \u003d topLevelQuery(terms, ctx, docFreqs, maxDoc);\n-        query.setBoost(getBoost());\n-        return query;\n+        return topLevelQuery(terms, ctx, docFreqs, maxDoc);\n     }\n\\ No newline at end of file\n"
    },
    "15a62448343fd24f8e63f43b1e4b16f50005e4a5": {
      "type": "Yfilerename",
      "commitMessage": "create core module\n",
      "commitDate": 1433502723000,
      "commitName": "15a62448343fd24f8e63f43b1e4b16f50005e4a5",
      "commitAuthor": "Simon Willnauer",
      "commitDateOld": 1433502668000,
      "commitNameOld": "7ccc193a666e2ae888e7ac93d677a2143e5e07c3",
      "commitAuthorOld": "Simon Willnauer",
      "daysBetweenCommits": 0.0,
      "commitsBetweenForRepo": 1,
      "commitsBetweenForFile": 1,
      "diff": ""
    },
    "162ca993762ffb5f720ae7f82adcc209d16a5bd2": {
      "type": "Yintroduced",
      "commitMessage": "Added `cross_fields` mode to multi_match query\n\n`cross_fields` attemps to treat fields with the same analysis\nconfiguration as a single field and uses maximum score promotion or\ncombination of the scores based depending on the `use_dis_max` setting.\nBy default scores are combined. `cross_fields` can also search across\nfields of hetrogenous types for instance if numbers can be part of\nthe query it makes sense to search also on numeric fields if an analyzer\nis provided in the reqeust.\n\nRelates to #2959\n",
      "commitDate": 1391703355000,
      "commitName": "162ca993762ffb5f720ae7f82adcc209d16a5bd2",
      "commitAuthor": "Simon Willnauer"
    }
  }
}