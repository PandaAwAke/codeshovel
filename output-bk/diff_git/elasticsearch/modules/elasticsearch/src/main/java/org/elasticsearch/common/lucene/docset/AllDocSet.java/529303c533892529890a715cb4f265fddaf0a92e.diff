diff --git a/modules/elasticsearch/src/main/java/org/elasticsearch/common/lucene/docset/AllDocSet.java b/modules/elasticsearch/src/main/java/org/elasticsearch/common/lucene/docset/AllDocSet.java
index cccb1af57d2..52dfde19c0f 100644
--- a/modules/elasticsearch/src/main/java/org/elasticsearch/common/lucene/docset/AllDocSet.java
+++ b/modules/elasticsearch/src/main/java/org/elasticsearch/common/lucene/docset/AllDocSet.java
@@ -19,62 +19,62 @@
 
 package org.elasticsearch.common.lucene.docset;
 
 import org.apache.lucene.search.DocIdSetIterator;
 
 import java.io.IOException;
 
 /**
  * An always positive
  *
  * @author kimchy (shay.banon)
  */
 public class AllDocSet extends DocSet {
 
     private final int maxDoc;
 
     public AllDocSet(int maxDoc) {
         this.maxDoc = maxDoc;
     }
 
     @Override public boolean isCacheable() {
         return true;
     }
 
     @Override public boolean get(int doc) throws IOException {
         return doc < maxDoc;
     }
 
     @Override public DocIdSetIterator iterator() throws IOException {
         return new AllDocIdSetIterator(maxDoc);
     }
 
     private final class AllDocIdSetIterator extends DocIdSetIterator {
 
         private final int maxDoc;
 
         private int doc = -1;
 
         private AllDocIdSetIterator(int maxDoc) {
             this.maxDoc = maxDoc;
         }
 
         @Override public int docID() {
             return doc;
         }
 
         @Override public int nextDoc() throws IOException {
             if (++doc < maxDoc) {
                 return doc;
             }
-            return NO_MORE_DOCS;
+            return doc = NO_MORE_DOCS;
         }
 
         @Override public int advance(int target) throws IOException {
             doc = target;
             if (doc < maxDoc) {
                 return doc;
             }
-            return NO_MORE_DOCS;
+            return doc = NO_MORE_DOCS;
         }
     }
 }
